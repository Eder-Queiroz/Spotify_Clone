/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{bacbeacgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=n(a("bjjhgjdbhd")),p=i(a("bdjjabfecc")),m=a("bbjjjbicfb"),g=n(a("bijffg")),b=i(a("ceffhjgfce")),v=i(a("ecdebjcgfa")),j=i(a("dgdcjccfdi")),E=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hover:!1},e.onClick=function(){e.props.onUpdateColor({id:e.props.labelId,color:e.props.colorInt},g.LABEL_PROPERTIES.COLOR),e.props.onBack()},e.disableHover=function(){e.state.hover&&e.setState({hover:!1})},e.enableHover=function(){e.state.hover||e.setState({hover:!0})},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.isSelected?s.createElement(j.default,{name:"checkmark-medium"}):null,t=(0,c.default)(b.default.wallpaperColorCanvas,{[b.default.canvasHover]:this.state.hover,[b.default.canvasActive]:this.props.isSelected});return s.createElement("span",{className:t,style:{backgroundColor:(0,m.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),a}(s.Component),C=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.currentColor,n=t.colors.map((function(t){return s.createElement(E,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:a===t,key:t})})),i=0;i<2;i++)n.push(s.createElement("div",{key:"emptyEl"+i,className:b.default.wallpaperColorEmpty}));return n}}]),a}(s.Component),y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).getColorPromise=null,e.state={colors:g.default.labelColorPalette&&g.default.labelColorPalette.colors},e}return(0,o.default)(a,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=s.createElement(v.default,{stroke:6,size:24});return this.state.colors?t=s.createElement(C,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=g.default.getLabelColorPalette(),this.getColorPromise.cancellable().then((function(t){e.setState({colors:t})}))),s.createElement(u.default,null,s.createElement(h.default,{theme:this.state.colors?void 0:"center-content",title:p.default.t(778),onBack:this.props.onClose,type:h.DRAWER_HEADER_TYPE.LARGE}),s.createElement(f.default,null,s.createElement("div",{className:b.default.container},t)))}}]),a}(s.Component);t.default=y},badjagjaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("ebcfjdcbhh")),p=i(a("dhigahgdjb")),m=i(a("dgebcfedgb")),g=a("djaiggcdb"),b=i(a("bdjjabfecc")),v=a("igiffibee"),j=i(a("gjbhafcjg")),E=i(a("ciidebiahb")),C=i(a("dgdcjccfdi")),y=i(a("cgjdibiahi")),S=i(a("dfciadajdf")),_=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onDirection=function(){var e=n.props,t=e.lat,a=e.lng;(0,g.openExternalLink)((0,v.getDirectionUrl)(t,a))},n.onMessage=function(){var e=n.props.id;u.default.find(e).then((function(e){e.active&&f.default.existsDrawerRight((function(e){e&&2===h.default.column&&f.default.closeDrawerRight()})),f.default.openChatFromUnread(e).then((function(t){t&&f.default.focusChatTextInput(e)}))}))},n.onContextOpen=function(e){var t=e&&e.target;n.setState({contextMenu:{menu:n.getContextMenu(),anchor:t}})},n.onContextClose=function(){n.setState({contextMenu:!1})},n.state={hover:!1,contextMenu:!1},n}return(0,o.default)(a,[{key:"getContextMenu",value:function(){var e=[];return e.push(s.createElement(m.default,{key:"direction",a8n:"get-directions",action:this.onDirection},b.default.t(632))),e.push(s.createElement(m.default,{key:"message",a8n:"send-message",action:this.onMessage},b.default.t(876))),e}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.accuracy,n=e.isMe,i=e.markerSize,r=p.default.assertGet(t),o={transform:"translateX(calc(-50% + ".concat(i/2,"px))")},d=s.createElement("div",{className:E.default.name},s.createElement(j.default,{ellipsify:!0,you:!0,contact:r})),l=null!=a?s.createElement("div",{className:E.default.status},b.default.t(796,{accuracy:a,_plural:a})):null,u=n?null:s.createElement("div",{onClick:this.onContextOpen,className:E.default.menuButton},s.createElement(C.default,{name:"down"})),f=s.createElement("div",{className:E.default.triangle}),h=!n&&this.state.contextMenu?s.createElement(y.default,{displayName:"LiveLocationPopupContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},s.createElement(S.default,{contextMenu:this.state.contextMenu})):null;return s.createElement("div",{className:(0,c.default)(E.default.container,{[E.default.twoLines]:!!l}),style:o},s.createElement("div",{className:E.default.popup,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseLeave,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},d,l,u),f,h)}}]),a}(s.Component);t.default=_},baefdeabej:function(e,t){e.exports={container:"_1Swxd",map:"kj5zF",authFailed:"_3C-FH",loading:"yuVlU"}},bafcchidfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cbciefgfbb")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("bdjjabfecc")),m=a("bbjjjbicfb"),g=n(a("bijffg")),b=a("dcfieddiah"),v=a("eeebhdeed"),j=i(a("bdcchebfge")),E=i(a("ecdebjcgfa")),C=i(a("dbihaeaggd")),y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).labelModel=null,n.onOk=function(){var e=n.state,t=e.labelName,a=e.labelColor;if(!e.labelNameError){(0,b.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,n.props.onAddLabel?j.default.LABEL_TARGETS.ADD_LABEL_DIALOG:j.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var i=t&&t.trim(),r=n.validateLabelName(i||"");r.passed?(n.props.labelId&&n.props.onUpdateLabel?n.props.onUpdateLabel({id:n.props.labelId,color:a,name:t},g.LABEL_PROPERTIES.NAME):n.props.onAddLabel&&n.props.onAddLabel(t||"",a),n.props.onCancel?n.props.onCancel():u.default.closeModal()):n.setState({labelNameError:r.error})}},n.onCancel=function(){(0,b.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,n.props.onAddLabel?j.default.LABEL_TARGETS.ADD_LABEL_DIALOG:j.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),n.props.onCancel?n.props.onCancel():u.default.closeModal()},n.onLabelNameChange=function(e){var t=n.validateLabelName(e);n.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},n.validateLabelName=function(e){var t=!0,a=null;return e&&""!==e.trim()||(t=!1),n.labelModel&&n.labelModel.name===e||0===g.default.where({name:e}).length||(t=!1,a=p.default.t(189)),{passed:t,error:a}},n._handleKeyEnter=function(e){e.stopPropagation(),n.onOk()},n.props.labelId&&(n.labelModel=g.default.assertGet(n.props.labelId)),n.state={labelColor:n.labelModel&&n.labelModel.color||void 0,labelName:n.labelModel&&n.labelModel.name||"",labelNameError:void 0},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(g.default.getNewLabelColor().then((function(t){e.setState({labelColor:t||h.default.DEFAULT_SMB__NEW_LABEL_COLOR})})),(0,b.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW,1,j.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,b.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW,1,j.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e=!this.validateLabelName(this.state.labelName.trim()).passed;return(c.createElement(f.default,{title:this.props.onUpdateLabel?p.default.t(529):p.default.t(193),okText:p.default.t(1635),onOK:this.onOk,okDisabled:e,onCancel:this.onCancel},c.createElement("div",{className:s.default.inputContainer},c.createElement("div",{className:s.default.label},this.state.labelColor?(0,v.renderLabelSvg)((0,m.intColorToHex)(this.state.labelColor)):c.createElement(E.default,{stroke:5,size:20})),c.createElement("div",{className:s.default.input},c.createElement(C.default,{a8n:"add-new-label-name-input",focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:h.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,onEnter:this._handleKeyEnter,placeholder:p.default.t(192)})))))}}]),a}(c.Component);t.default=y},bahcdceje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("hgigjbgie")),u=i(a("dcdbbhicce")),f=i(a("bihbbbcghi")),h=a("dieaaaeidb"),p=i(a("gbcgaicef")),m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.statusV3,r=n.contact,o=i.lastStatus;return e=o&&o.type===s.default.MSG_TYPE.CHAT?c.createElement(g,{msg:o}):c.createElement(b,{renderedThumbnail:i.renderedThumbnail}),r.statusMute||(t=c.createElement(f.default,{statusV3:i})),c.createElement("div",{className:p.default.container,role:this.props.role||"",onClickCapture:function(e){a.props.onClick&&a.props.onClick(),e.stopPropagation(),e.preventDefault()}},t,e)}}]),a}(c.PureComponent);m.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]};var g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.msg,t=e.statusV3TextBg;return c.createElement("div",{className:p.default.statusImage,style:{backgroundColor:t}},c.createElement("div",{className:p.default.textThumb},c.createElement(h.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),a}(c.PureComponent),b=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentDidUpdate",value:function(e){var t=e.renderedThumbnail,a=this.props.renderedThumbnail;t!==a&&(t&&t.autorelease(),a&&a.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url(".concat(e.url(),")")};return c.createElement("div",{className:p.default.statusImage,style:t})}}]),a}(c.PureComponent),v=(0,u.default)(m,m.CONCERNS);t.default=v},bahjbgaefa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bhdcfacaaf")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=i(a("jagjbhcgf")),b=i(a("dgebcfedgb")),v=a("eajdbbfgfg"),j=i(a("bdjjabfecc")),E=i(a("bijffg")),C=a("dcfieddiah"),y=i(a("eeebhdeed")),S=i(a("ebddggeaib")),_=a("cadfgefaja"),M=i(a("bdcchebfge")),I=i(a("bhgjeaceh")),k=i(a("cbcbdjdah")),T=i(a("dceicchccd")),P=i(a("dgdcjccfdi"));function L(e){var t=e.openColorPicker,a=e.openEditLabel;return(0,v.canEditLabel)()?c.createElement(_.MenuBarItem,{a8nText:"starred-menu",icon:c.createElement(P.default,{name:"menu"}),title:j.default.t(875)},c.createElement(g.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},c.createElement(b.default,{a8n:"menu-item",action:t},j.default.t(778)),c.createElement(b.default,{a8n:"menu-item",action:a},j.default.t(529)))):null}var w=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).openColorPicker=function(){var t=e.props.labelId,a=E.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,a.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),a=e.props,n=a.onRemoveLabel,i=a.labelId;if(n){var r=E.default.assertGet(i);(0,C.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.VIEW,t.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),u.default.openModal(c.createElement(f.default,{title:j.default.t(1135,{count:t.length,labelName:r.name,_plural:t.length}),okText:j.default.t(1635),cancelText:j.default.t(1482),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,i,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,C.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),u.default.closeModal()},e.onRemoveLabelConfirmed=function(t,a){u.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,a),(0,C.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new T.default([],(function(e){return e.id.toString()})),e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",(function(){return e.forceUpdate()})),(0,C.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.VIEW,void 0,M.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t,a,n=0;n<e.length;n++){if(e[n]instanceof k.default?a=!0:t=!0,t&&a)return!0}return!1}},{key:"render",value:function(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),a=this.multiSelection.getSelected().length>0?c.createElement(I.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):c.createElement(m.default,{onBack:this.props.onClose,menu:c.createElement(L,{openColorPicker:this.openColorPicker,openEditLabel:this.openEditLabel}),type:m.DRAWER_HEADER_TYPE.LABELS},c.createElement(y.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return c.createElement(h.default,{theme:"settings"},a,c.createElement(p.default,null,c.createElement(s.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),a}(c.PureComponent),N=(0,S.default)(w);t.default=N},bajeaefcdg:function(e,t){e.exports={inputEmoji:"_1ZmLh",wrapper:"_3tSYy",textInput:"_3aBvl",labelText:"_3iU_H",clearInput:"_3Jrq3",float:"_3UqD6",textActive:"_1ZEZR",suggestionsPositioner:"_3pue_",suggestionsContainer:"_16lso",charCounter:"_1bDIX",inputControls:"_2DhU8",charCounterWithClearBtn:"QhCkJ",spacer:"rLPDp",noPlaceholder:"_5L4vr",buttonContainer:"_2p_8b",active:"_1WLC6"}},bajieejahc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("ccbgfecegc")),h=i(a("bdeebiagii")),p=i(a("bdjjabfecc")),m=n(a("chbeahhfcj")),g=a("dbbhhgjjbg"),b=i(a("bfgbdiffgd")),v=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onForwardConfirmed=function(t){var a=e.props.msgText;if(1===t.length){var n=t[0];(n.isUser&&n.contact.isBlocked()?(0,u.unblockContact)(n.contact):Promise.resolve(!0)).then((function(){if(a){if(n.urlText=e.props.urlText,n.active)return void f.default.pasteChatTextInput(n,a);n.setComposeContents({text:a})}return f.default.openChatFromUnread(n).then((function(e){e&&f.default.focusChatTextInput(n)}))}))}else Promise.map(t,(function(t){(t.isUser&&t.contact.isBlocked()?(0,u.unblockContact)(t.contact):Promise.resolve(!0)).then((function(){t.urlText=e.props.urlText,(0,g.sendTextMsgToChat)(t,a)}))})),f.default.openChatFromUnread(t[0]);e.end()},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.push(s.createElement(m.default,{onConfirm:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:p.default.t(930),listType:m.ListType.CHAT_SELECT_MODAL}))}}]),a}(h.default);t.default=function(e){return s.createElement(v,(0,r.default)({},e,{serverProps:b.default}))}},bbabiidfcj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ejiicdbii")),u=i(a("bhehhaehi")),f=i(a("dhigahgdjb")),h=i(a("bdeebiagii")),p=a("ecceajhjba"),m=i(a("cebgbdgebc")),g=i(a("bhfadhddje")),b=i(a("ecbiejfbbg")),v=i(a("ddajejfdfc")),j=i(a("bbecefbeaa")),E=a("dcbdjheea"),C=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).scrollOffset=0,e.setScrollOffset=function(t){e.scrollOffset=t},e.pushProductDetails=function(t,a){var n=e.props,i=n.chat,r=n.refreshCarousel,o=c.createElement(g.default,{chat:i,product:t,onEnd:e._end,onBack:e._popAndUpdate,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalogHeaderClick,onProductLinkClick:e._onProductLinkClick,refreshCarousel:r,sessionId:a});e.push(o)},e.pushProductDetailsWithDeepLink=function(t,a){var n=c.createElement(b.default,{chat:e.props.chat,productInfo:t,onEnd:e._end,onBack:e._pop,onProductDetail:e.onProductDetail,onProductCatalog:e.onProductCatalogHeaderClick,sessionId:a,onProductLinkClick:e._onProductLinkClick});e.push(n)},e.pushOrderDetail=function(t,a,n,i,r){var o=c.createElement(m.default,{orderId:t,token:a,sellerJid:i,sessionId:n,userIsCartOwner:r,onProductDetail:e.onProductDetailFromInfo});e.push(o)},e.onProductDetail=function(t,a){e.pushProductDetails(t,a)},e.onProductDetailFromInfo=function(t,a){e.pushProductDetailsWithDeepLink(t,a)},e.onProductCatalogHeaderClick=function(t,a){(0,p.logCarouselViewMoreClick)(t.toString(),a),e.pushProductCatalog(t,a)},e._onProductLinkClick=function(t,a){e.push(c.createElement(v.default,{product:t,onBack:e._pop,sessionId:a}))},e._onCatalogLinkClick=function(t,a,n){e.push(c.createElement(u.default,{catalog:t,contact:a,sessionId:n,onBack:e._pop}))},e._pop=function(){e.pop()},e._end=function(){e.end(!0)},e._popAndUpdate=function(){e.popAndUpdate({scrollOffset:e.scrollOffset})},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogOwnerJid,a=e.orderId,n=e.product,i=e.productInfo,r=e.sessionId;if(t)this.pushProductCatalog((0,E.createWid)(t),r);else if(n)this.pushProductDetails(n,r);else if(i)this.pushProductDetailsWithDeepLink(i,r);else{if(!a)throw new Error("ProductDetailsFlow:no-product");var o=this.props,d=o.token,l=o.sellerJid,c=o.userIsCartOwner;null!=d&&null!=l&&null!=c&&this.pushOrderDetail(a,d,r,l,c)}}},{key:"pushProductCatalog",value:function(e,t){var a=this,n=f.default.gadd(e);s.default.find(e).then((function(i){var r=c.createElement(j.default,{contact:n,onProductDetail:a.onProductDetail,catalogId:e,onBack:a._pop,sessionId:t,businessProfile:i,setScrollOffset:a.setScrollOffset,onCatalogLinkClick:a._onCatalogLinkClick});a.push(r)}))}}]),a}(h.default);t.default=C},bbgfcjhfbi:function(e,t){e.exports={nextButton:"_3kOoC",section:"_206x-"}},bbjddegdbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("bjigbaghc")),m=i(a("hgigjbgie")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=n(a("cajijabhgb")),C=a("dgjddffcfg"),y=i(a("jheedhagg")),S=i(a("bdjjabfecc")),_=i(a("hajhefagc")),M=i(a("cfcfdeifjb")),I=i(a("cabjahgbgj")),k=a("bbbdgehigj"),T=i(a("dhccahhefj")),P=a("bggdhciede"),L=i(a("dcdbbhicce")),w=a("bijjheifie"),N=i(a("dhhjhedjij")),A=i(a("dbihaeaggd"));function D(){var e=(0,r.default)(["ProfileDrawer: failed to set/delete profile image"]);return D=function(){return e},e}var R=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).onBack=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.validateStatus=function(e){return!!(e||"").trim()},n.onStatusBegin=function(){n.isEditingStatus=!0},n.onSetStatusError=function(){f.default.openModal(s.createElement(h.default,{onOK:function(){return f.default.closeModal()},okText:S.default.t(1635)},S.default.t(170)))},n.onSetStatus=function(){if(null!=n.state.status){n.isEditingStatus=!1;var e=n.props.status.status,t=(0,C.emojify)(n.state.status);if(t===e)return n.setState({status:t});n.setState({pendingStatus:!0}),(0,w.setMyStatus)((0,C.emojify)(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then((function(){n.setState({pendingStatus:!1})})).catchType(E.Unmount,(function(){}))}else n.onCancelStatus()},n.onStatusChange=function(e){n.setState({status:e})},n.onCancelStatus=function(){n.isEditingStatus=!1,n.setState({status:n.props.status.status})},n.onPushnameBegin=function(){n.isEditingPushname=!0},n.validatePushname=function(){var e,t=n.state.pushname;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=S.default.t(165)):e=S.default.t(162),!e||(n.onSetPushnameError(e),!1)},n.onSetPushname=function(){if(n.isEditingPushname=!1,p.default.canSetMyPushname()){var e=n.state.pushname;if((e=(0,C.emojify)((e||"").trim()))===n.props.conn.pushname)return n.setState({pushname:e});n.setState({pendingPushname:!0}),(0,P.setPushname)(e).checkpoint(n.props.rejectOnUnmount()).then((function(){n.setState({pendingPushname:!1})})).catchType(E.Unmount,(function(){}))}},n.onSetPushnameError=function(e){f.default.openModal(s.createElement(h.default,{onOK:function(){return f.default.closeModal()},okText:S.default.t(1635)},e))},n.onPushnameChange=function(e){n.setState({pushname:e})},n.onCancelPushname=function(){n.isEditingPushname=!1,n.setState({pushname:n.props.conn.pushname})},n.onImageSet=function(e,t){var a=n.props.profilePicThumb;n.setState({pendingPhoto:!0}),(e&&t?(0,k.setProfilePic)(a,e,t):(0,k.deleteProfilePic)(a)).checkpoint(n.props.rejectOnUnmount()).catchType(E.Unmount,(function(){})).catchType(E.ActionError,(function(){__LOG__(3)(D())})).finally((function(){n.setState({pendingPhoto:!1})}))},n.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},n}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props,t=e.conn,a=e.status,n=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:a.status,r=s.createElement(j.default,{a8nText:"col-main-profile",title:S.default.t(1709),theme:"padding"},s.createElement(A.default,{a8n:"col-main-profile-input",value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:m.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),o=S.default.t(867),d=!n.canSet()&&!n.canDelete(),l=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,c=p.default.isSMB?S.default.t(321):S.default.t(1128);return s.createElement(g.default,null,s.createElement(v.default,{a8n:"drawer-title-profile",title:o,onBack:this.onBack,type:v.DRAWER_HEADER_TYPE.LARGE}),s.createElement(b.default,null,s.createElement("div",{className:I.default.photoPickerWrapper},s.createElement(_.default,{type:M.default.PROFILE,id:n.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:n.imgFull,readOnly:d,onImageSet:this.onImageSet})),s.createElement(j.default,{a8nText:"col-main-profile",title:S.default.t(1127),theme:"padding"},s.createElement(A.default,{a8n:"col-main-profile-input",value:l,editable:p.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:m.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),s.createElement("div",{"data-a8n":u.default.key("pushname-description"),className:I.default.nameWrapper},s.createElement(N.default,{theme:"muted"},c)),r))}}]),a}(s.Component);R.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var O=(0,y.default)((0,T.default)((0,L.default)(R,R.CONCERNS)));t.default=O},bccajbfghh:function(e,t){e.exports={price:"_3cG4N",separator:"_2Mhsp",quantity:"_2c1rg"}},bcgdidhcbe:function(e,t){e.exports={spinner:"_1xZ_T",search:"_37bbf",inputarea:"_1lNsJ",inputLine:"oBUnH",contacts:"_19TJo",drawerSection:"_2YB71",inputareaSizer:"PMblh"}},bdhddbagij:function(e,t){e.exports={body:"RgZeN",vcardWrapper:"_2wrmW",btnContainer:"_2VmYo",btnPosition:"_1Zzio"}},bdicccbaa:function(e,t){e.exports={icon:"_13225",body:"_22hwI",spinner:"_1h0rR",ack:"_2WHBX",pttBlue:"_14uPy"}},bdijbhadid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("eabehhacha")),u=i(a("cfadcbbiie")),f=i(a("hhcjfgifh")),h=i(a("gfebgebbi")),p=i(a("chadaehai")),m=i(a("dcdbbhicce")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.msgInfoParticipant,i=c.createElement(f.default,{id:a.id}),r=u.default.relativeDateAndTimeStr(n.t),o=c.createElement("span",{title:r},r);return!a.name&&a.notifyName&&(e=c.createElement(h.default,{className:p.default.notifyName,direction:"auto",text:a.notifyName})),c.createElement(s.default,{contextEnabled:function(){return!1},image:i,primary:a.formattedName,secondary:o,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),a}(c.PureComponent);g.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var b=(0,m.default)(g,g.CONCERNS);t.default=b},bdjjahdegi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("bdjjabfecc")),h=i(a("ebgdcjifc")),p=a("dgjfidhijd"),m=i(a("ecdebjcgfa")),g=i(a("dhhjhedjij")),b=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={licensesText:void 0},e.onOk=function(){e.props.onOk&&e.props.onOk(),s.default.closeModal()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t;return this.state.licensesText||(e=c.createElement("div",{className:h.default.spinner,key:"spinner"},c.createElement(m.default,{size:50,stroke:4}))),this.state.licensesText&&(t=c.createElement("div",{className:h.default.textContainer},this.state.licensesText)),c.createElement(u.default,{okText:f.default.t(1635),onOK:this.onOk,type:p.FlexModalType},c.createElement("div",{className:h.default.container},c.createElement(g.default,{theme:"popup-title"},f.default.t(790)),t,e))}}]),a}(c.Component);t.default=b},befdeebfeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("gfebgebbi")),p=i(a("bdeebiagii")),m=i(a("jgjccejgb")),g=i(a("bdjjabfecc")),b=a("cgjcdbggeb"),v=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).filter=function(t){var a=t.groupMetadata;return!(!t.isGroup||t.isGroup&&!a.participants.iAmMember())&&(a.participants.get(e.props.contact.id)?g.default.t(1793):!!a.participants.iAmAdmin()||g.default.t(411))},e.confirmAddToGroup=function(t){e.push(c.createElement(f.default,{onOK:e.addToGroup.bind(null,t),okText:g.default.t(1791),onCancel:e._pop,cancelText:g.default.t(1482)},c.createElement(h.default,{text:g.default.t(435,{participant:e.props.contact.formattedName,subject:t.contact.name})})))},e.addToGroup=function(t){(0,b.addParticipants)(t,[e.props.contact]).then((function(){u.default.openChatFromUnread(t).then((function(e){e&&u.default.focusChatTextInput(t)}))})).catch((function(){})),e.end()},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(m.default,{chats:s.default.filter((function(e){return e.isGroup})),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),a}(p.default);t.default=v},bfajgaeghd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.mimeType,i=e.filename;return t&&a?r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.preview},r.createElement(l.default,{type:l.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:o.default.img})))):r.createElement(d.default,{mimeType:n,filename:i})};var r=i(a("ddhijeejag")),o=n(a("ccdcfhihac")),d=n(a("cggjjcbdia")),l=i(a("difhgjjfcb"))},bfcfjggjab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"}},bffajdjibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bdeebiagii")),u=i(a("dccbiiffa")),f=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(u.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),a}(s.default);t.default=f},bfffjiagfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("beecadabde")),h=a("jagjbhcgf"),p=i(a("cbdcjfiefg")),m=i(a("bjjdjibgad")),g=a("dbbhijehii"),b=a("dgjddffcfg"),v=a("dhegcfddhg"),j=i(a("bdjjabfecc")),E=i(a("dhccahhefj")),C=i(a("dfifdafgfa")),y=a("dbbhhgjjbg"),S=i(a("gjfejjidf")),_=i(a("dgdcjccfdi")),M=n(a("bjhgigfbec")),I=i(a("cgjdibiahi")),k=i(a("dfciadajdf")),T=i(a("didfdhbecg")),P=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;return(0,r.default)(this,a),(e=t.apply(this,arguments)).emojiInputComponent=(0,p.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var a=e.inputLine.value.trim();if(a.length){var n=(0,M.genId)();s.default.find(e.props.msg.sender).then((function(t){return u.default.openToast(c.createElement(M.default,{msg:j.default.t(1268),id:n})),(0,y.sendTextMsgToChat)(t,(0,b.emojify)(a),{quotedMsg:e.props.msg})})).then((function(){e.props.onSend()})).catchType(f.default,(function(){var t=e.state.chat;t&&u.default.openToast(c.createElement(M.default,{msg:j.default.t(1484,{contact:t.contact.formattedName}),id:n}))})),e.inputLine&&e.inputLine.reset(),e.emojiPickerClose(),e.props.dismissReply()}}},e.onFocus=function(){e.setState({focused:!0})},e.onBlur=function(){e.isSkinTonePickerOpen||document.activeElement===document.body&&e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=c.createElement(m.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:a,dirY:h.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var a=t.getElement();a&&a.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},s.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({chat:t})})),e}return(0,o.default)(a,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e,t,a;this.state.emojiPicker&&(e=c.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},c.createElement(k.default,{contextMenu:this.state.emojiPicker})),t=c.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},c.createElement("div",null,e)));var n=this.state.chat;n&&this.state.focused&&!this.state.emojiPicker&&(a=c.createElement(I.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},c.createElement("div",{className:S.default.popupPanel},c.createElement(C.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:n}))));var i=this.emojiInputComponent;return(c.createElement("div",{className:S.default.container},c.createElement(T.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),c.createElement("div",{className:S.default.wrapper},c.createElement("button",{className:S.default.emojiIcon,onClick:this.onEmojiPicker},c.createElement(_.default,{name:"smiley"})),c.createElement("div",{className:S.default.lineWrapper},c.createElement(i.EmojiSuggestions,{theme:g.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),c.createElement(i,{ref:(0,v.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:j.default.t(1314),editable:!0,multiline:!0})),c.createElement("button",{className:S.default.sendIcon,onClick:this.onSend},c.createElement(_.default,{name:"send",directional:!0})),t)))}}]),a}(c.Component),L=(0,E.default)(P);t.default=L},bfghieafac:function(e,t){e.exports={confirmationText:"_13bV9"}},bfjchjfbhj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dhigahgdjb")),u=i(a("bdeebiagii")),f=i(a("hdhcfhidh")),h=i(a("cejfghgbfb")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onSetGroupInfo=function(t){e.push(c.createElement(f.default,{participants:t,onBack:function(){e.popAndUpdate({participants:t})},onContinue:e.end}))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){s.default.ensureSorted(),this.push(c.createElement(h.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),a}(u.default);t.default=p},bfjhddbcc:function(e,t){e.exports={title:"_2iZnS",titleIcon:"_2qhSz",ack:"_1_I2T",pttBlue:"_7TY5Q",forwardCount:"_1Jmae",spinner:"_3ka64",list:"Cr9Q9",footer:"Sy3Kl"}},bgaacffcia:function(e,t){e.exports={newGroupButton:"_9u1Pq"}},bgddgdiefd:function(e,t){e.exports={title:"_2mxvq"}},bgeffbghdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bdeebiagii")),f=i(a("ebddggeaib")),h=i(a("cjfjhjdfaa")),p=i(a("bjihjhccce")),m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).sessionId=Math.round(1e9*Math.random()),e.openStatusViewer=function(t,a,n){e.push(c.createElement(p.default,{initialStatusV3:t,initialStatusMsg:a,closeStatusViewer:e.closeStatusViewer,sessionId:e.sessionId,rowIdx:n}),"none")},e.closeStatusViewer=function(t){t?e.end():e.pop("none")},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.push(c.createElement(h.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(s.default,"close_status_viewer",(function(){e.closeStatusViewer(!0)}))}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),a}(u.default),g=(0,f.default)(m);t.default=g},bggdhciede:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,d.genId)(),n=(0,f.default)(t),i=new d.ActionType(u.default.t(166)),r=c.default.pushname,m=n.then((function(){return new d.ActionType(u.default.t(163),u.default.t(178),(function(){return e(r,a)}))})).catchType(s.ServerStatusCodeError,(function(e){if(e.status>=400)return new d.ActionType(u.default.t(164))})).catch((function(){throw __LOG__(3)(p()),new d.ActionType(u.default.t(164),u.default.t(174),(function(){return e(status,a)}))}));return l.default.openToast(o.createElement(d.ActionToast,{id:a,initialAction:i,pendingAction:m})),n.then((function(e){e._duplicate||(0,h.setPushnameLocally)(t)}))}(e)};var r=i(a("dfadhaifh")),o=n(a("ddhijeejag")),d=a("dheeaichcj"),l=i(a("ccbgfecegc")),c=i(a("bjigbaghc")),s=a("bgihjbde"),u=i(a("bdjjabfecc")),f=i(a("gfhdfcfge")),h=a("diibfjicfe");function p(){var e=(0,r.default)(["models:conn:setPushname dropped"]);return p=function(){return e},e}},bghfehcaaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("bgeijhbbad")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("ddffdjfeag")),p=i(a("hgigjbgie")),m=a("cedhgehjef"),g=i(a("dcdbbhicce")),b=a("cjfegjecaj"),v=i(a("dgdcjccfdi"));function j(){var e=(0,r.default)(["media is"]);return j=function(){return e},e}var E=p.default.MSG_TYPE,C=E.IMAGE,y=E.VIDEO,S=E.DOCUMENT,_=E.AUDIO,M=(0,s.default)(m.MIMETYPES,(function(e){return e.msgType===S})),I=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._onClick=function(t){e.props.onClick&&e.props.onClick((0,b.unproxy)(e.props.attachMedia),t)},e._onClose=function(t){e.props.onClose&&e.props.onClose((0,b.unproxy)(e.props.attachMedia),t)},e.setRef=function(t){t&&e.props.onRef(e.props.id,t)},e}return(0,d.default)(a,[{key:"_renderBody",value:function(){var e,t,a,n=this.props.attachMedia;switch(n.type){case C:a={backgroundImage:"url(".concat(n.preview,")")},e=f.createElement("div",{className:h.default.body,style:a});break;case y:a={backgroundImage:"url(data:image/jpeg;base64,".concat(n.preview,")")},e=f.createElement("div",{className:h.default.body,style:a});break;case _:e=f.createElement("div",{className:(0,u.default)(h.default.body,"attach-media-audio-thumb")});break;case S:if(__LOG__(2)(j()),n.preview){var i={backgroundImage:"url("+n.preview+")"};e=f.createElement("div",{className:h.default.body,style:i});break}M[n.mimetype]&&(t=M[n.mimetype].icon);default:t=(0,u.default)(h.default.body,h.default.bodyDoc,t,{"icon-doc-generic":!t}),e=f.createElement("div",{className:t})}return e}},{key:"render",value:function(){var e=(0,u.default)(h.default.thumb,{[h.default.active]:this.props.active});return(f.createElement("div",{className:e,onClick:this._onClick,role:"button",ref:this.setRef},f.createElement("div",{className:h.default.btnDelete,onClick:this._onClose,role:"button"},f.createElement(v.default,{name:"x-alt"})),this._renderBody()))}}]),a}(f.PureComponent);I.CONCERNS={attachMedia:["mimetype","preview","type"]};var k=(0,g.default)(I,I.CONCERNS);t.default=k},bgiafagffb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement(c.MenuBarItem,{a8nText:"live-location-map-menu",icon:r.createElement(s.default,{name:"menu"}),title:l.default.t(875)},r.createElement(o.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:o.DirX.LEFT,dirY:o.DirY.BOTTOM},r.createElement(d.default,{a8n:"mi-roadmap-view menu-item",action:e.onRoadmapSelected},l.default.t(805)),r.createElement(d.default,{a8n:"mi-satellite-view menu-item",action:e.onSatelliteSelected},l.default.t(806)),r.createElement(d.default,{a8n:"mi-terrain-view menu-item",action:e.onTerrainSelected},l.default.t(807)),r.createElement(d.default,{a8n:"mi-traffic menu-item",action:e.onTrafficToggled},e.showTraffic?l.default.t(808):l.default.t(809))))};var r=i(a("ddhijeejag")),o=i(a("jagjbhcgf")),d=n(a("dgebcfedgb")),l=n(a("bdjjabfecc")),c=a("cadfgefaja"),s=n(a("dgdcjccfdi"))},bgjbchbhhc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cfhfdchaij")),u=i(a("bdeebiagii")),f=i(a("cjgdgbgbj")),h=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onProductClick=function(t,a){e.push(c.createElement(f.default,{refreshCarousel:!0,chat:e.props.msg.chat,product:t,sessionId:a,onEnd:e._pop}))},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(s.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),a}(u.default);t.default=h},bhbeigbaec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=a("djfeeacgad"),s=n(a("ddhijeejag")),u=a("ceagbbhcha"),f=a("chcfhehffe"),h=i(a("ciehddchae")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).setMap=function(e){return n.map=e},n.mapOnClick=function(){n.dismissMarkerTimer.debounceAndCap(50,100)},n.markerOnClick=function(){n.dismissMarkerTimer.isScheduled()&&n.dismissMarkerTimer.cancel(),n.props.onMarkerSelected(!0)},n.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},n.dismissMarkerTimer=new c.ShiftTimer((function(){n.props.markerSelected&&n.props.onMarkerSelected(!1)})),n}return(0,o.default)(a,[{key:"componentWillUnmount",value:function(){this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"getMapPaneName",value:function(){return u.OverlayView.OVERLAY_MOUSE_TARGET}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.lat,n=t.lng,i=t.contact,r=t.markerSelected;return s.createElement(h.default,{marker:{isLive:!1,contact:i,lat:a,lng:n,selected:r,onClick:function(t){return e.markerOnClick(t)}}})}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?s.createElement(u.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng;return(s.createElement(u.GoogleMap,{ref:this.setMap,defaultCenter:{lat:t,lng:a},defaultOptions:this.props.getMapOptions(),defaultZoom:f.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick},this.getMarkers(),this.getTrafficLayer()))}}]),a}(s.Component),m=(0,f.withConfig)((0,u.withScriptjs)((0,u.withGoogleMap)(p)));t.default=m},bhfeiiegef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("bdjjabfecc")),h=i(a("ccdhaejgdh")),p=i(a("dcacggaedc")),m=i(a("dighddcfg")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={theme:"system"},e._handleThemeChange=function(t){var a,n=null==t?void 0:null===(a=t.target)||void 0===a?void 0:a.value;"light"!==n&&"dark"!==n&&"system"!==n||e.setState({theme:n})},e._handleOk=function(){var t=e.state.theme;"system"===t?(e.context.setSystemThemeMode(!0),e.context.setTheme(p.default.currentTheme)):(e.context.setSystemThemeMode(!1),e.context.setTheme(t)),s.default.closeModal()},e._handleCancel=function(){s.default.closeModal()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.setState({theme:this.context.systemThemeMode?"system":this.context.theme})}},{key:"render",value:function(){var e=this.state.theme;return(c.createElement(u.default,{title:f.default.t(1307),onOK:this._handleOk,onCancel:this._handleCancel},c.createElement("form",null,c.createElement("ol",null,c.createElement("li",{key:"light"},c.createElement("label",{className:h.default.label},c.createElement("input",{type:"radio",name:"theme",value:"light",className:h.default.input,checked:"light"===e,onChange:this._handleThemeChange}),f.default.t(1306))),c.createElement("li",{key:"dark"},c.createElement("label",{className:h.default.label},c.createElement("input",{type:"radio",name:"theme",value:"dark",className:h.default.input,checked:"dark"===e,onChange:this._handleThemeChange}),f.default.t(1305))),c.createElement("li",{key:"system"},c.createElement("label",{className:h.default.label},c.createElement("input",{type:"radio",name:"theme",value:"system",className:h.default.input,checked:"system"===e,onChange:this._handleThemeChange}),f.default.t(1308)))))))}}]),a}(c.PureComponent);t.default=g,g.contextType=m.default},bhheibic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("bdeebiagii")),m=i(a("bihjahgcja")),g=i(a("cichhcjjd")),b=i(a("bdjjabfecc")),v=n(a("chbeahhfcj")),j=i(a("bfgbdiffgd")),E=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).requestFocus=function(){var t=e.refUIE;if(t){var a=t.getRef();a&&a.onFocusList&&a.onFocusList()}},e.onForwardConfirmed=function(t){var a=e.props,n=a.msgs,i=a.onForward;s.default.forwardMessagesToChats(n,t).catchType(m.default,(function(t){e.showMediaSendError(t.reasons)})),e.end(),i&&i(n),u.default.openChatFromUnread(t[0])},e.showMediaSendError=function(e){var t=e.map((function(e){var t=e.chat,a=e.reason;return(c.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",a))}));u.default.openModal(c.createElement(f.default,{onOK:function(){return u.default.closeModal()},okText:b.default.t(1635)},t),void 0)},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e,t=this.props.msgs,a=b.default.t(622,{_plural:t.length||1}),n=t[0],i=n&&n.chat;e="video"!==n.type&&"image"!==n.type?"message":n.type;var r,o=t.some((function(e){return e.isFrequentlyForwarded})),d=t.filter((function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===h.default.FREQUENTLY_FORWARDED_SENTINEL}));j.default.frequentlyForwardedMessages&&d.length&&(r=c.createElement(g.default,{frequentlyForwardedCount:d.length,totalCount:t.length}));var l=j.default.frequentlyForwardedMessages&&o?j.default.frequentlyForwardedMax:j.default.multicastLimitGlobal;this.push(c.createElement(v.default,{onConfirm:this.onForwardConfirmed,maxItems:l,excludeChat:i,excludeBroadcast:!0,msgType:e,title:a,listType:v.ListType.CHAT_SELECT_MODAL,customHeader:r,hasFrequentlyForwarded:o,showEphemeralIcon:!0}))}}]),a}(p.default);t.default=E},bhigchjbgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("dbafiicfja")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("hgigjbgie")),p=a("cgejchjdhj"),m=i(a("bbaacgghch")),g=i(a("ddajbaceej")),b=i(a("dhfbfehaef")),v=i(a("cjjdibgija")),j=i(a("cahfddcdga")),E=i(a("bcddhhfhda")),C=i(a("dcaibchbg")),y=i(a("ecdebjcgfa")),S=i(a("diffaiehid"));function _(){var e=(0,r.default)(["Assertion failed!"]);return _=function(){return e},e}var M=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.setRefBody=function(t){e.refBody=t},e.refImages=new Map,e.setRefImage=function(t,a){a?e.refImages.set(t,a):e.refImages.delete(t)},e.setImageRefCache=new E.default(e.setRefImage),e.selection=new C.default(e.props.thumbnails,(function(e){return e.id})),e._handleHotKeysRef=function(t){e._refHotKeys=t},e.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},e.handleClick=function(t){var a=t.target;e.props.onImageClick&&1===a.nodeType&&"IMG"===a.tagName&&e.props.onImageClick(a.src)},e.handleEnter=function(){var t=e.selection.getVal();t||(__LOG__(4,!1,new Error)(_()),SEND_LOGS("No value selected, but enter clicked")),e.props.onImageClick&&t&&e.props.onImageClick(t.thumbUrl)},e._requestMoreImagesIfNeeded=function(){if(!e.props.isLoadingMore&&e.props.canLoadMore&&e.props.onRequestMoreImages){if(!e.refBody)throw new Error("Requesting more images when body not rendered");e.refBody.scrollTop+h.default.SCROLL_FUDGE>e.refBody.scrollHeight-e.refBody.clientHeight&&e.props.onRequestMoreImages()}},e.handleScroll=e.props.throttle(e._requestMoreImagesIfNeeded,100),e.selectPrev=function(t){t.preventDefault(),t.stopPropagation(),e.selection.setPrev(!1),e._updateSelected(!0,!0)},e.selectNext=function(t){t.preventDefault(),t.stopPropagation(),e.selection.setNext(!1),e._updateSelected(!0,!0)},e.selectPrevRow=function(t){if(t.preventDefault(),t.stopPropagation(),0===e.selection.index&&e.props.onFocusPrev)e.props.onFocusPrev();else{var a=Math.max(e.selection.index-3,0);e.selection.set(a,!1,!1),e._updateSelected(!0,!0)}},e.selectNextRow=function(t){t.preventDefault(),t.stopPropagation(),e.selection.set(e.selection.index+3,!1,!1),e._updateSelected(!0,!0)},e.handleFocus=function(t){t.stopPropagation(),t.preventDefault(),(null==e.selection.index||e.selection.index<0)&&e.selection.setFirst(!1),e._updateSelected(!0,!1);var a=(0,j.default)(e.refImages.get("".concat(e.selection.index)),"_this.refImages.get(`${_this.selection.index}`)").getElementsByClassName(v.default.imageGalleryItemOverlay);if(1!==a.length)throw new Error("Unexpected number of overlay elements ".concat(a.length));m.default.maybeIndicateFocus(a[0],v.default.focusAnimation)},e.handleRequestDismiss=function(){e.selection.unset(),e.setState({selectedImage:void 0})},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this._updateSelected()}},{key:"componentDidUpdate",value:function(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}},{key:"focus",value:function(){this._refHotKeys&&this._refHotKeys.focus()}},{key:"_updateSelected",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.selection.getVal();if(t&&this.state.selectedImage!==t&&(this.setState({selectedImage:t}),this.selection.index>-1)){var a=this.refImages.get("".concat(this.selection.index));g.default.focus(a),e&&a&&(0,p.scrollIntoViewIfNeeded)(a,!1)}}},{key:"render",value:function(){var e=this,t={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},a=(0,s.default)(this.props.thumbnails,(function(t,a){var n=t.id,i=t.thumbUrl,r=!!e.state.selectedImage&&e.state.selectedImage.id===n,o=(0,u.default)(v.default.imageGalleryItem,{[v.default.selected]:r}),d=f.createElement("div",{className:v.default.imageGalleryItemOverlay});return f.createElement("div",{key:n,ref:e.setImageRefCache.getRefSetter("".concat(a)),className:o,tabIndex:-1},d,f.createElement("img",{onClick:e.handleClick,className:v.default.imageGalleryItemImage,src:i}))})),n=this.props.isLoadingMore?f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryFooter},f.createElement(y.default,{stroke:6,size:24})):null;return f.createElement(b.default,{className:v.default.imageGallery,"data-tab":h.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:t,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},f.createElement("div",{ref:this.setRefBody,className:v.default.imageGalleryList,onScroll:this.handleScroll},a,f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),f.createElement("div",{tabIndex:-1,className:v.default.imageGalleryItemSpacer}),n))}}]),a}(f.PureComponent);M.defaultProps={thumbnails:[]};var I=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"focus",value:function(){this.getComponent().focus()}}]),a}((0,S.default)(M));t.default=I},bhjcihggie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("defdgchjjh")),u=i(a("ccbgfecegc")),f=n(a("dgffihajaa")),h=n(a("cajijabhgb")),p=i(a("bdeebiagii")),m=n(a("dciajcgfie")),g=n(a("dcecgegjfc")),b=n(a("dgjfidhijd")),v=a("difhgjjfcb"),j=i(a("dhccahhefj")),E=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).refCaptureDrawer=null,e.setRefCaptureDrawer=function(t){e.refCaptureDrawer=t},e.pushPermissionModal=function(){e.push(c.createElement(m.default,{messaging:m.Messaging.CAMERA,type:m.default.TYPE.GUIDE_ALLOW,onConfirm:e.popModal}),"modal")},e.popModal=function(){e.pop("modal")},e.startCaptureDrawer=function(){var t=g.start("camera",e.pushPermissionModal);Promise.race([t,e.props.rejectOnUnmount()]).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.refCaptureDrawer||e.popModal(),t&&e.refCaptureDrawer&&e.refCaptureDrawer.loadNewStream(t)})).catchType(h.GUM.NotAllowedError,(function(){e.cleanUp(),u.default.openModal(c.createElement(m.default,{messaging:m.Messaging.CAMERA_FAIL,type:m.default.TYPE.GUIDE_UNBLOCK}))})).catchType(h.GUM.GUMError,(function(){e.cleanUp(),u.default.openModal(c.createElement(m.default,{messaging:m.Messaging.CAMERA_MISSING,type:m.default.TYPE.GUIDE_NONE}))}))},e.onFinished=function(t,a){e.props.onFinished(t,a),e.cleanUp()},e.cleanUp=function(){e.end()},e.onRetake=function(){e.pop("flow-transition-box-size-drawer-pop"),e.startCaptureDrawer()},e.onCaptured=function(t){e.push(c.createElement(b.default,{type:b.BoxModalType},c.createElement(f.default,{onRetake:e.onRetake,retryText:f.RETRY_OPTIONS.RETAKE,onFinished:e.onFinished,onCancel:e.cleanUp,img:t})),"flow-transition-box-size-drawer-push")},e.handleRequestDismiss=function(t){!1===t&&e.onRetake()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(b.default,{type:b.BoxModalType},c.createElement(s.default,{ref:this.setRefCaptureDrawer,stream:void 0,caption:!1,layoutType:v.FIT_TYPE.COVER,onBack:this.cleanUp,onSend:null,onCaptured:this.onCaptured,chat:void 0}))),this.startCaptureDrawer()}}]),a}(p.default),C=(0,j.default)(E);t.default=C},bibjjjghee:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var r=i(a("ddhijeejag")),o=n(a("cbhegcchgg")),d=n(a("hgigjbgie")),l=n(a("bdjjabfecc")),c=n(a("cgdbgfjefd")),s=(0,n(a("eaeccjdifj")).default)((function(){return Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cdgaidjejh",7)).then((function(e){return e.default}))}),"ContactUsModal");t.requireBundle=s;var u=(0,o.default)({loader:s,loading:e=>r.createElement(c.default,{title:l.default.t(1284),okText:l.default.t(1218),error:Boolean(e.error)}),delay:d.default.LOADABLE_DELAY});t.default=u},biebgdijhi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disabled?c.default.disabled:"",a=e.disabled?null:e.onClick,n=r.createElement("span",{className:c.default.title},d.default.t(1097)),i=r.createElement(l.default,{theme:"compact",disabled:e.disabled},r.createElement(s.default,{name:"catalog"}));return r.createElement(o.default,{image:i,onClick:a,primary:n,theme:"list-button-compact",className:t})};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=n(a("bdjjabfecc")),l=n(a("efedbfchg")),c=n(a("djjcfcigdi")),s=n(a("dgdcjccfdi"))},biegjchieg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onClick,a=(0,r.default)(d.default.addItemButton,{[d.default.themeDefault]:"default"===e.theme,[d.default.themeInList]:"in-list"===e.theme});return o.createElement(l.default,{theme:"add-item",image:o.createElement("div",{className:d.default.addIcon}),customImage:!0,primary:c.default.t(372),className:a,onClick:t})};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),d=i(a("cehaiccjjf")),l=i(a("cefccdiabc")),c=i(a("bdjjabfecc"))},bihbbbcghi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("dcdbbhicce")),f=i(a("ccebihbide")),h=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return(s.createElement("circle",(0,r.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e)))}},{key:"genDasharray",value:function(e,t,a,n){for(var i="",r=0;r<e;r++)i+=r===e-1?"".concat(t," ").concat(a-e*(n+t)+n," "):"".concat(t," ").concat(n," ");return i}},{key:"render",value:function(){var e=this.props,t=e.statusV3,a=e.stroke,n=e.size,i=100+a,r="0 0 ".concat(i," ").concat(i),o=t.totalCount,d=10,l=50*Math.PI*2;l-10*o<1&&(d=l/o/1.2);var c,u,h=(l-d*o)/o,p=l/4-d/2,m=t.contact.isMe?0:t.unreadCount,g=o-m;if(m){var b,v=p+o*(d+h);1!==o&&(b=this.genDasharray(m,h,l,d)),c=this.genCircle({strokeDashoffset:v,strokeDasharray:b,className:f.default.unread})}if(g){var j,E=p+g*(d+h);1!==o&&(j=this.genDasharray(g,h,l,d)),u=this.genCircle({strokeDashoffset:E,strokeDasharray:j,className:f.default.read})}return(s.createElement("svg",{className:f.default.ring,width:n,height:n,viewBox:r},c,u))}}]),a}(s.PureComponent);h.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},h.defaultProps={size:48,stroke:4};var p=(0,u.default)(h,h.CONCERNS);t.default=p},bihjdjceid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.mimeType,n=e.url,i=e.isGif,o=e.size,s=e.processing,m=e.preview;switch(p[a].msgType){case"image":t=l.createElement("img",{src:n,className:c.default.img});break;case"video":var g=i?{loop:!s,autoPlay:!s,muted:!1,controls:!1}:{},b=s?l.createElement("div",{className:c.default.spinner},l.createElement(f.default,{color:f.colorOptions.white,size:50,stroke:3})):null,v=m?l.createElement("img",{className:c.default.staticPreview,src:"data:image/jpeg;base64,".concat(m)}):null,j=s?null:l.createElement(h.default,(0,r.default)({controls:!0,controlsList:"nodownload nofullscreen",className:c.default.video},g,{src:n}));t=l.createElement("div",{className:(0,d.default)(c.default.img,c.default.videoContainer)},b,j,v);break;case"audio":t=l.createElement("audio",{controls:!0,className:c.default.audio,type:a,src:n})}return(l.createElement("div",{className:c.default.container,"data-animate-attach-media":!0},l.createElement("div",{className:c.default.media},l.createElement(u.default,{type:u.FIT_TYPE.SCALE_DOWN,size:o},t))))};var r=i(a("bacehaajgh")),o=i(a("bgeijhbbad")),d=i(a("ceffhbhahb")),l=n(a("ddhijeejag")),c=i(a("chiieajhih")),s=a("cedhgehjef"),u=n(a("difhgjjfcb")),f=n(a("ecdebjcgfa")),h=i(a("ecfabjjeda")),p=(0,o.default)(s.MIMETYPES,(function(e){return"image"===e.msgType||"video"===e.msgType}))},bjaidjhcbc:function(e,t){e.exports={deviceInfo:"_1gI4w",deviceInfoLabel:"_3SDIT",deviceInfoCheckbox:"JZfLK"}},bjbifafigc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=n(a("dgffihajaa")),u=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onEnd=function(){e.end()},e.onFinished=function(t,a){e.props.onFinished(t,a),e.end()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(s.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:s.RETRY_OPTIONS.RESTART,img:this.props.img}))}}]),a}(i(a("bdeebiagii")).default);t.default=u},bjcgjiedih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("jcfacighg")),s=n(a("ddhijeejag")),u=i(a("bjcdghhbjh")),f=i(a("cefccdiabc")),h=i(a("dhigahgdjb")),p=i(a("bgaacffcia")),m=i(a("dbgbgeefcf")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=a("cdhbdacigj"),E=i(a("dbfjeecgih")),C=i(a("bbaacgghch")),y=i(a("ddajbaceej")),S=a("dgjddffcfg"),_=i(a("bhbdiadfhj")),M=i(a("dhfbfehaef")),I=i(a("bdjjabfecc")),k=i(a("fiijdaaid")),T=i(a("efedbfchg")),P=i(a("dgdcjccfdi")),L=i(a("diffaiehid")),w=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={searchText:""},e.setSearch=function(t){e.search=t},e.setRefList=function(t){e.refList=t},e.flatListController=new E.default,e.onSearch=function(t){e.searchText=t,e._onSearch(t)},e._onSearch=e.props.debounce((function(t){e.setState({searchText:t})}),100),e.onFocusList=function(t){e.refList&&(t.preventDefault(),t.stopPropagation(),C.default.shouldIndicateFocus(),e.refList&&e.refList.focusFirst())},e.onSelectFirst=function(t){t.preventDefault(),t.stopPropagation();var a=e.frequentContacts[0];if(a)return C.default.shouldIndicateFocus(),void e.props.onClick(t,a);var n=e.getFilteredContacts(e.searchText)[0];n&&(C.default.shouldIndicateFocus(),e.props.onClick(t,n))},e.onFocusSearch=function(){C.default.shouldIndicateFocus(),y.default.focus(e.search)},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){y.default.focus(this.search)}},{key:"getFilteredContacts",value:function(e){var t=e;if(h.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return h.default.getFilteredContacts();var a=h.default.getFilteredContacts().concat(h.default.filter((function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact})));t=I.default.accentFold(t);var n=(0,S.numberSearch)(t);return a.filter((function(e){return e.searchMatch(t,n)}))}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!_.default.supportsFeature(_.default.F.FREQUENT_CONTACTS))return[];var e=h.default.frequentContacts("message");return(0,c.default)(e)}},{key:"render",value:function(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,j.SearchWithKeyword)(this.state.searchText):(0,j.SearchWithoutKeyword)():s.createElement(m.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var n=s.createElement(T.default,null,s.createElement(P.default,{name:"new-group",directional:!0}));t=s.createElement("div",{"data-list-scroll-offset":!0},s.createElement("div",{className:p.default.newGroupButton},s.createElement(f.default,{image:n,primary:I.default.t(1615),onClick:this.props.onNewGroup}),s.createElement(u.default,null)))}var i={down:this.onFocusList};return(s.createElement(g.default,{key:"contact-modal"},s.createElement(v.default,{title:this.props.title,type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),s.createElement(M.default,{handlers:i},s.createElement(k.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:I.default.t(1187)})),s.createElement(b.default,{flatListControllers:[this.flatListController]},t,e)))}}]),a}(s.Component),N=(0,L.default)(w);t.default=N},bjchbacdef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductInfoDrawer=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cagaiadjai")),u=i(a("hgigjbgie")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=i(a("ddeefhbafc")),g=a("ddbdgibbbi"),b=i(a("jheedhagg")),v=i(a("bdjjabfecc")),j=a("cjcghajbag"),E=i(a("dbijiicabc")),C=i(a("ehdgbgee")),y=i(a("cjdgafagge")),S=i(a("cajcadafab")),_=i(a("dcdbbhicce")),M=i(a("gbbacfeci")),I=i(a("dhhjhedjij")),k=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onBack=function(){e.props.onBack&&e.props.onBack()},e.onEditProduct=function(){var t=e.props,a=t.product,n=t.sessionId;e.props.onEditProduct&&e.props.onEditProduct(a,n)},e.onShareProduct=function(){var t=e.props,a=t.product,n=t.sessionId;e.props.onShareProduct&&e.props.onShareProduct(a,n)},e}return(0,o.default)(a,[{key:"renderStatusAlert",value:function(){var e,t,a=this.props.product,n='<a href="'.concat(u.default.WA_COMMERCE_POLICY_URL,'" target="_blank">').concat(v.default.t(789),"</a>");switch(a.reviewStatus){case j.PRODUCT_REVIEW_STATUS.OUTDATED:case j.PRODUCT_REVIEW_STATUS.NO_REVIEW:case j.PRODUCT_REVIEW_STATUS.PENDING:var i="".concat(v.default.t(380,{learn_more_link:n}));e=c.createElement("div",{dangerouslySetInnerHTML:{__html:i}});break;case j.PRODUCT_REVIEW_STATUS.REJECTED:var r="".concat(v.default.t(378,{learn_more_link:n}));e=c.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),t=c.createElement(I.default,{className:C.default.appealText,block:!0},v.default.t(377))}return null!=e||null!=t?c.createElement("div",{className:C.default.statusAlert},e,t):null}},{key:"render",value:function(){var e=this.props,t=e.product,a=e.sessionId,n=(0,g.getMaybeMeUser)(),i=M.default.get(n),r=c.createElement(I.default,{theme:"muted",className:C.default.businessInfoTitle,block:!0},v.default.t(320)),o=c.createElement("div",null,c.createElement(s.default,{type:"simplified",onClick:this.onEditProduct},v.default.t(527)),c.createElement(s.default,{type:"primary",onClick:this.onShareProduct},v.default.t(1705))),d=c.createElement("div",{className:C.default.drawerHeader},c.createElement("div",null,t.name),c.createElement("div",{className:C.default.drawerHeaderButtonContainer},o)),l=i?c.createElement(m.default,{title:r,theme:"no-padding"},c.createElement(S.default,{status:i})):null;return c.createElement(f.default,{key:"catalog-link-drawer",theme:"catalog"},c.createElement(p.default,{a8n:"catalog-product-title",title:d,type:p.DRAWER_HEADER_TYPE.SMALL,onBack:this.onBack}),c.createElement(h.default,null,c.createElement("div",{className:C.default.productWrapper},c.createElement(m.default,null,c.createElement(y.default,{product:t,isAvailable:!0,fetching:!1,sessionId:a}),this.renderStatusAlert(),c.createElement(E.default,{product:t,onSendChat:function(){},isAvailable:!0,sessionId:a})),l)))}}]),a}(c.Component);t.ProductInfoDrawer=k,k.CONCERNS={product:["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency"]};var T=(0,b.default)((0,_.default)(k,k.CONCERNS));t.default=T},bjddhceafh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.pageCount,i=e.mimeType,s=e.filename;if(t&&a&&null!=n&&n>0){var u=l.default.t(210,{count:n,_plural:n});return(r.createElement("div",{className:d.default.container,"data-js-attach-preview":!0},r.createElement("div",{className:d.default.preview},r.createElement(c.default,{type:c.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:d.default.img}))),r.createElement("div",{className:d.default.caption},u)))}return r.createElement(o.default,{mimeType:i,filename:s})};var r=i(a("ddhijeejag")),o=n(a("cggjjcbdia")),d=n(a("dhiecjhe")),l=n(a("bdjjabfecc")),c=i(a("difhgjjfcb"))},bjfhachbaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("bdjjabfecc")),h=n(a("chbeahhfcj")),p=i(a("cggehdbfjf")),m=i(a("bfgbdiffgd")),g=i(a("dddhbbadie")),b=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).confirmSendContacts=function(t){e.push(s.createElement(g.default,{contactList:t,onSend:function(){return e.sendContacts(t)},onBack:e._popNone,chat:e.props.chat}),"none"),e.contacts=t},e.sendContacts=function(t){var a=e.props.chat,n=a.composeQuotedMsg,i=a.getComposeContents().ctwaContext||void 0;(0,p.default)(t,a,n,i),a.composeQuotedMsg=null,e.props.onContactsSent(),e.end()},e._getContacts=function(){return e.contacts},e._pop=function(){e.pop()},e._popNone=function(){e.pop("none")},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(s.createElement(h.default,{title:f.default.t(1215),onCancel:this._pop,onConfirm:this.confirmSendContacts,getInitialItems:this._getContacts,listType:h.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),a}(u.default);t.default=function(e){return s.createElement(b,(0,r.default)({},e,{serverProps:m.default}))}},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfeaeedf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bafcchidfe")),u=i(a("ebjaejiaba")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),m=i(a("bdeebiagii")),g=i(a("bdjjabfecc")),b=i(a("bijffg")),v=a("dcfieddiah"),j=i(a("cijddbbaja")),E=i(a("bdcchebfge")),C=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).newlyAddedLabels=new Set,e.logWamEvent=function(){var t=e.props.modelsToUpdate.length;e.labelViewType=1===t?e.props.modelsToUpdate[0]instanceof u.default?E.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:E.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:E.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,t,e.labelViewType)},e.onLabelUpdateComplete=function(){e.props.onLabelUpdateComplete&&e.props.onLabelUpdateComplete(),e._pop()},e.onAddLabel=function(t,a){b.default.addNewLabel(t,a).then((function(){e.newlyAddedLabels.add(t)}))},e.shouldScrollIntoViewAndSelect=function(t){return e.newlyAddedLabels.has(t)?(e.newlyAddedLabels.delete(t),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},e.onAddNewLabel=function(){b.default.toArray().length>=p.default.MAX_SMB_LABEL_COUNT?f.default.openModal(c.createElement(h.default,{okText:g.default.t(1058),onOK:function(){return f.default.closeModal()}},g.default.t(1788,{count:p.default.MAX_SMB_LABEL_COUNT}))):e.push(c.createElement(s.default,{onAddLabel:e.onAddLabel,onCancel:e._pop}))},e.popAndLogEvent=function(){e.labelViewType&&(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,e.props.modelsToUpdate.length,e.labelViewType),e.pop()},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.logWamEvent(),this.push(c.createElement(j.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),a}(m.default);t.default=C,C.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},bjiecabhbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("bebajedcaf")),s=i(a("hhegggegb")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("jgabafafc")),p=n(a("cbbifbghag")),m=i(a("ccbgfecegc")),g=a("dbgjdhbdaj"),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=i(a("jheedhagg")),C=i(a("ccgeibdhai")),y=i(a("bdjjabfecc")),S=i(a("ebddggeaib")),_=i(a("ccbgehdigj")),M=i(a("ceibaheeb")),I=a("chcfhehffe"),k=i(a("bgiafagffb")),T=i(a("bbgcdfeifh")),P=i(a("cfhfjfibci")),L=i(a("cicgecaadf")),w=i(a("dcdbbhicce")),N=a("cjfegjecaj"),A=i(a("dgdcjccfdi")),D=i(a("diffaiehid")),R=n(a("bjhgigfbec")),O=i(a("jccfhaecf")),x=a("dcbdjheea"),U=["click","mousedown","mousemove","scroll"],F="ACTIVE",B="INACTIVE",V="OFFLINE",G=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onParticipantAdd=function(){var e=n.state,t=e.zoomLevel,a=e.selectedParticipantId;n.updateMinZoomClusters(),n.setState({clusters:n.getClusters(t,a)})},n.onParticipantRemove=function(e){var t=n.state,a=t.selectedClusterId,i=t.selectedParticipantId,r=t.zoomLevel;n.updateMinZoomClusters();var o=a,d=i;a&&(0,p.participantInCluster)(a,e.id)&&(o=null),O.default.equals(i,e.id)&&(d=null),n.setState({selectedClusterId:o,selectedParticipantId:d,clusters:n.getClusters(r,d)})},n.onParticipantDisable=function(e){if(!e.isMe){var t=e.contact.formattedName;m.default.openToast(f.createElement(R.default,{msg:y.default.t(822,{name:t}),id:(0,R.genId)()}))}},n.onLocationChanged=function(){var e=n.state,t=e.zoomLevel,a=e.selectedParticipantId;n.updateMinZoomClusters(),n.setState({clusters:n.getClusters(t,a)})},n.onIdle=function(){var e=n.props.chat.liveLocation;e&&(e.stopViewingMap(),n.setState({status:B}))},n.onActivity=(0,s.default)((function(){n.removeIdleTimeout(),n.addIdleTimeout()}),250),n.onRefresh=function(){var e=n.props.chat.liveLocation;e&&(e.startViewingMap(),n.setState({status:F}))},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.onMarkerSelected=function(e){e?(0,p.singleParticipantClusterId)(e)?n.onParticipantSelected(e):n.onClusterSelected(e):n.onClearSelected()},n.onClearSelected=function(){var e=n.state,t=e.selectedParticipantId,a=e.selectedClusterId,i=e.zoomLevel;(t||a)&&n.setState({selectedParticipantId:null,selectedClusterId:null,clusters:n.getClusters(i)})},n.onClusterSelected=function(e){n.state.selectedClusterId!==e&&n.setState({selectedParticipantId:null,selectedClusterId:e})},n.onParticipantSelected=function(e){var t=n.state,a=t.selectedParticipantId,i=t.zoomLevel,r=(0,x.createWid)(e);O.default.equals(a,r)||n.setState({selectedParticipantId:r,selectedClusterId:null,clusters:n.getClusters(i,r)})},n.onStopSharing=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.chat;m.default.openModal(f.createElement(_.default,{chat:t}))},n.onRoadmapSelected=function(){n.setState({mapType:I.MapType.ROADMAP})},n.onSatelliteSelected=function(){n.setState({mapType:I.MapType.SATELLITE})},n.onTerrainSelected=function(){n.setState({mapType:I.MapType.TERRAIN})},n.onTrafficToggled=function(){n.setState((function(e){return{showTraffic:!e.showTraffic}}))},n.onBackToCenter=function(){n.setState({selectedParticipantId:null,selectedClusterId:null,atCenter:!0,clusters:n.getClusters(n.state.zoomLevel)})},n.onMapMoved=function(e,t){n.setState((function(a){var i={};if(a.zoomLevel!==e){var r=n.getClusters(e,a.selectedParticipantId);Object.assign(i,{zoomLevel:e,clusters:r})}return n.hasValidParticipants()&&a.atCenter!==t&&Object.assign(i,{atCenter:t}),(0,c.default)(i)?null:i}))},n.updateMinZoomClusters(),n.state={clusters:n.getClusters(I.INITIAL_ZOOM),selectedClusterId:null,selectedParticipantId:null,mapType:I.MapType.ROADMAP,showTraffic:!1,zoomLevel:I.INITIAL_ZOOM,atCenter:!0,status:T.default.online?F:V},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.listenToModelChange(),this.listenToNetworkChange(),this.startCheckingForIdle();var e=this.props.chat.liveLocation;e&&(e.startViewingMap(),this.addParticipantListeners(e))}},{key:"componentWillUnmount",value:function(){this.onActivity.cancel();var e=this.props.chat.liveLocation;e&&e.stopViewingMap()}},{key:"addParticipantListeners",value:function(e){this.props.listeners.add(e.participants,"add",this.onParticipantAdd),this.props.listeners.add(e.participants,"remove",this.onParticipantRemove),this.props.listeners.add(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.add(e.participants,"change:valid",this.onLocationChanged)}},{key:"removeParticipantListeners",value:function(e){this.props.listeners.remove(e.participants,"add",this.onParticipantAdd),this.props.listeners.remove(e.participants,"remove",this.onParticipantRemove),this.props.listeners.remove(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.remove(e.participants,"change:valid",this.onLocationChanged)}},{key:"listenToModelChange",value:function(){var e=this,t=this.props.chat;this.props.listeners.add((0,N.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListeners(a),e.addParticipantListeners(a));var n=e.state.zoomLevel;e.setState({clusters:e.getClusters(n)})}))}},{key:"listenToNetworkChange",value:function(){var e=this;this.props.listeners.add(T.default,"change:online",(function(){T.default.online||e.stopCheckingForIdle(),e.setState({status:T.default.online?F:V})}))}},{key:"startCheckingForIdle",value:function(){this.addIdleTimeout(),this.addActivityListeners()}},{key:"stopCheckingForIdle",value:function(){this.removeIdleTimeout(),this.removeActivityListeners()}},{key:"addIdleTimeout",value:function(){this.idleTimeoutId=this.props.setTimeout(this.onIdle,18e4)}},{key:"removeIdleTimeout",value:function(){null!=this.idleTimeoutId&&this.props.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=null}},{key:"addActivityListeners",value:function(){var e=this;U.forEach((function(t){e.props.listeners.add(document,t,e.onActivity)}))}},{key:"removeActivityListeners",value:function(){var e=this;U.forEach((function(t){e.props.listeners.remove(document,t,e.onActivity)}))}},{key:"updateMinZoomClusters",value:function(){var e=this.getParticipants(),t=e?e.validLocations():[];this.minZoomClusters=(0,p.default)(t,I.MIN_ZOOM,null,g.MARKER_SIZE)}},{key:"getParticipants",value:function(){var e=this.props.chat.liveLocation;return e?e.participants:null}},{key:"hasValidParticipants",value:function(){var e=this.getParticipants();return!!e&&!!e.validLocations().length}},{key:"getOpenFromCluster",value:function(){var e=this.getParticipants();if(!e||0===e.length)return null;var t=this.props.openFrom,a=null;if(t)a=t;else{var n=e.at(0);n&&(a=n.id)}return a?(0,p.findClusterForParticipant)(this.minZoomClusters,a):null}},{key:"getClusters",value:function(e,t){var a=this.getParticipants(),n=null,i=[];a&&(t&&(n=a.get(t)),i=a.validLocations());var r=i,o=[];if(this.minZoomClusters.size>1){var d=this.getOpenFromCluster();if(d){var l=d.participants;r=l.validLocations(),o=i.filter((function(e){var t=e.id;return!l.get(t)}))}}return{primary:(0,p.default)(r,e,n,g.MARKER_SIZE),secondary:(0,p.default)(o,e,n,g.MARKER_SIZE)}}},{key:"getList",value:function(){var e,t=this.state,a=t.clusters,n=t.selectedClusterId,i=this.getParticipants();if(i&&i.length){if(n){var r=a.primary.get(n)||a.secondary.get(n);if(r){var o=r.participants;e=f.createElement(h.default,{participants:o,onParticipantSelected:this.onParticipantSelected,onClearSelected:this.onClearSelected})}}e||(e=f.createElement(P.default,{participants:i,onParticipantSelected:this.onParticipantSelected,onStopSharing:this.onStopSharing}))}return e}},{key:"render",value:function(){var e,t;this.props.isFirstLevel?e=this.onClose:t=this.onClose;var a,n,i=this.state,r=i.selectedParticipantId,o=i.selectedClusterId,d=i.mapType,l=i.showTraffic,c=i.atCenter,s=i.status,h=s===F?f.createElement(k.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:l}):null;if(s===F||s===B){var p=r&&r.toString()||o;a=f.createElement("div",{className:C.default.wrapper},f.createElement("div",{className:(0,u.default)(C.default.backToCenter,{[C.default.visible]:!c}),onClick:this.onBackToCenter},f.createElement(A.default,{name:"return"})),f.createElement(M.default,{clusters:this.state.clusters.primary,secondaryClusters:this.state.clusters.secondary,selectedMarkerId:p,openFrom:this.props.openFrom,mapType:d,showTraffic:l,atCenter:c,onMarkerSelected:this.onMarkerSelected,onClearSelected:this.onClearSelected,onLocationChanged:this.onLocationChanged,onMapMoved:this.onMapMoved}),this.getList())}if(s===B||s===V){var m=s===B,g=m?"live-location-refresh":"live-location-disconnected",E=m?y.default.t(810):y.default.t(845);n=f.createElement(L.default,{inactive:m,svgName:g,text:E,onClick:m?this.onRefresh:void 0})}return(f.createElement(b.default,null,f.createElement(j.default,{title:y.default.t(823),type:j.DRAWER_HEADER_TYPE.SMALL,menu:h,onBack:t,onCancel:e}),f.createElement(v.default,null,a,n)))}}]),a}(f.PureComponent);G.CONCERNS={chat:["id","liveLocation"]};var H=(0,E.default)((0,D.default)((0,S.default)((0,w.default)(G,G.CONCERNS))));t.default=H},bjihjhccce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=a("bgihjbde"),m=n(a("cajijabhgb")),g=i(a("djifeiaaea")),b=i(a("dhfbfehaef")),v=i(a("bdjjabfecc")),j=i(a("dcjigehfeb")),E=i(a("bdcchebfge")),C=i(a("dhccahhefj")),y=i(a("ecdebjcgfa")),S=i(a("dieaaaeidb")),_=n(a("dffbbbhiad")),M=i(a("dgdfbejdgf")),I=i(a("dgdcjccfdi")),k=n(a("bjhgigfbec")),T=i(a("didfdhbecg"));function P(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return P=function(){return e},e}function L(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return L=function(){return e},e}function w(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return w=function(){return e},e}function N(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return N=function(){return e},e}function A(){var e=(0,r.default)(["Invalid iterator while getting next status msg"]);return A=function(){return e},e}function D(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return D=function(){return e},e}function R(){var e=(0,r.default)(["Invalid iterator while getting previous status msg"]);return R=function(){return e},e}function O(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return O=function(){return e},e}function x(){var e=(0,r.default)(["Error finding next status while preloading next status"]);return x=function(){return e},e}function U(){var e=(0,r.default)(["Invalid iterator while preloading next status"]);return U=function(){return e},e}function F(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return F=function(){return e},e}function B(){var e=(0,r.default)(["Invalid iterator while getting next status msg"]);return B=function(){return e},e}var V=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a),(e=t.apply(this,arguments)).onClickProgressBar=function(t){var a=e.state.iterator;if((!a||t!==a.msgIdx)&&a){var n=e.statusV3Snapshot.statusAt(a,t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t})})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(B())})).catchType(_.StatusV3LoadingError,(function(){__LOG__(3)(F())})).finally((function(){e.setState({loading:!1})}))}},e.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){var a=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!a)throw new _.StatusV3MsgNotFound;if(a.type===h.default.MSG_TYPE.CHAT)g.default.load(a.font).catch((function(){}));else{var n=a.mediaData;n&&n.mediaStage!==j.default.STAGE.RESOLVED&&a.downloadMedia(!0,E.default.WEBC_RMR_REASON_CODE.STATUS_V3)}})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(U())})).catchType(_.StatusV3MsgNotFound,(function(){__LOG__(3)(x())})).catchType(_.StatusV3LoadingError,(function(){__LOG__(3)(O())}))},e.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var a=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catchType(m.Unmount,(function(){})))})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(R())})).catchType(_.StatusV3LoadingError,(function(){__LOG__(3)(D())}))}},e.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var a=t.statusIdx,n=e.statusV3Snapshot.getNext(t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catchType(m.Unmount,(function(){})))})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(A()),e.closeStatusViewer()})).catchType(_.StatusV3LoadingError,(function(){__LOG__(3)(N())})).finally((function(){e.setState({loading:!1})}))}else e.closeStatusViewer()},e.markRead=function(t,a){if(a){var n=t.unreadCount,i=t.totalCount;t.msgs.getModelsArray().findIndex((function(e){return e===a}))>=i-n&&t.sendReadStatus(a.id,a.author);var r=e.statusV3Snapshot.statuses.find((function(e){return e.statusV3===t}));r&&r.readMsgKeys.push(a.id.toString())}},e.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.closeStatusViewer(t)})).catchType(m.Unmount,(function(){}))};var n=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var i=e.props.quotedMsgKey,r=n.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===i.toString()}));if(-1!==r){e.statusV3Snapshot=new _.default(n,i);var d=e.statusV3Snapshot.getFirstUnread(n,!0,i);d.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(L()),f.default.openToast(u.createElement(k.default,{msg:v.default.t(1260),id:(0,k.genId)()})),e.props.closeStatusViewer()}))}else e.state={loading:!0},n.loadMore(n.totalCount).then((function(){(e.setState({loading:!1}),-1!==n.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===i.toString()})))?(e.statusV3Snapshot=new _.default(n,i),e.statusV3Snapshot.getFirstUnread(n,!0,i).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(P()),f.default.openToast(u.createElement(k.default,{msg:v.default.t(1260),id:(0,k.genId)()})),e.props.closeStatusViewer()}))):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),f.default.openToast(u.createElement(k.default,{msg:v.default.t(1260),id:(0,k.genId)()})),e.props.closeStatusViewer())})).catch((function(){f.default.openToast(u.createElement(k.default,{msg:v.default.t(1260),id:(0,k.genId)()})),e.props.closeStatusViewer()})).finally((function(){e.setState({loading:!1})}))}else{var l=e.props.initialStatusMsg;e.statusV3Snapshot=new _.default(n);var c=e.statusV3Snapshot.getFirstUnread(n,!0,l&&l.id);c.isFulfilled()?e.state={}:e.state={loading:!0},c.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){})).catchType(_.InvalidStatusV3Iterator,(function(){__LOG__(3)(w()),f.default.openToast(u.createElement(k.default,{msg:v.default.t(1260),id:(0,k.genId)()})),e.props.closeStatusViewer()}))}return e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e,t,a,n,i,r,o,d,l=this,c=this.state.iterator;c&&(r=(i=this.statusV3Snapshot).statuses[c.statusIdx],o=r.statusV3,d=r.msgs[c.msgIdx],i.hasPrev(c)&&(a=u.createElement("div",{className:M.default.chevronLeft},u.createElement(I.default,{name:"chevron-left"})),n=u.createElement("div",{className:M.default.chevronLeftBg,onClick:this.onPrev})),i.hasNext(c)&&(e=u.createElement("div",{className:M.default.chevronRight},u.createElement(I.default,{name:"chevron-right"})),t=u.createElement("div",{className:M.default.chevronRightBg,onClick:function(){l.onNext(),l.markRead(o,d)}})));var f,h={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&d&&c&&r&&o&&(f=u.createElement("div",{className:M.default.playerContainer,key:d.id},u.createElement(S.default,{key:d.id,statusV3:o,msg:d,mediaData:d.mediaData,msgIdx:c.msgIdx,totalMsgs:r.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var p,m=(0,s.default)(M.default.v3X,{}),g=u.createElement("button",{className:m,onClick:function(){return l.props.closeStatusViewer(!0)}},u.createElement(I.default,{name:"x-viewer"})),v=(0,s.default)(M.default.backIcon,{}),j=u.createElement("button",{className:v,onClick:function(){return l.props.closeStatusViewer()}},u.createElement(I.default,{name:"back",directional:!0}));return this.state.loading&&(p=u.createElement("div",{className:M.default.mediaStateControls},u.createElement("button",null,u.createElement(y.default,{size:50,stroke:4,color:"white"})))),u.createElement(b.default,{handlers:h},u.createElement("div",{className:M.default.viewer,"data-animate-status-v3-viewer":!0},g,j,n,a,t,e,p,u.createElement(T.default,{transitionName:"status-v3-player",transitionAppear:!0},f)))}}]),a}(u.Component),G=(0,C.default)(V);t.default=G},bjiiedjejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bdeebiagii")),f=i(a("bdjjabfecc")),h=a("ecceajhjba"),p=i(a("cijhbdaifj")),m=a("cachecbicf"),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).requestFocus=function(){var t,a;null===(t=e.refUIE)||void 0===t||null===(a=t.getRef())||void 0===a||a.onFocusList()},e._sendProducts=function(t){var a=e.props.chat;t.forEach((function(t,n){var i=0===n?a.composeQuotedMsg:null;a.sendProductMessage(t,i).then((function(){(0,h.logProductMessageSent)(t,e.props.sessionId)}))})),a.composeQuotedMsg=null,e.end()},e._shareCatalog=function(t){var a=e.props.chat,n=(0,m.createCatalogLink)(t.id.user),i="".concat(f.default.t(1098)," ").concat(n);s.default.pasteChatTextInput(a,i),(0,h.logSendCatalogClick)(e.props.sessionId),e.end()},e._pop=function(){e.pop()},e._popNone=function(){e.pop("none")},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(p.default,{onCancel:this._pop,onConfirm:this._sendProducts,onShare:this._shareCatalog}))}}]),a}(u.default);t.default=g},bjjegffjad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("ebcagbhefg")),h=i(a("daghjjjedc")),p=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("bdjjabfecc")),E=i(a("bfgbdiffgd")),C=i(a("dcdbbhicce")),y=i(a("dhhjhedjij")),S=i(a("dighddcfg")),_=n(a("bjhgigfbec")),M=a("deieafdcg"),I=i(a("chjifbjhjh")),k=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hover:!1},e.onClick=function(){var t=e.encodeColor(),a=f.default.get("defaultPreference");a&&t!==a.wallpaperColor&&(a.set("wallpaperColor",t),p.default.openToast(s.createElement(_.default,{msg:j.default.t(1458),id:(0,_.genId)()})))},e.onMouseOver=function(){e.state.hover||(e.setState({hover:!0}),f.default.trigger("wallpaper_color_preview",e.encodeColor()))},e.onMouseEnter=function(){e.state.hover||(e.setState({hover:!0}),f.default.trigger("wallpaper_color_preview",e.encodeColor()))},e.onMouseLeave=function(){e.state.hover&&(e.setState({hover:!1}),f.default.trigger("wallpaper_color_preview"))},e.encodeColor=function(){var t=e.props,a=t.colorHex;return t.isDefault?m.default.DEFAULT_CHAT_WALLPAPER:a},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.isDefault?s.createElement("span",{className:I.default.wallpaperDefaultTitle,"data-a8n":u.default.key("wallpaper-default-title")},j.default.t(483)):null,t=(0,c.default)(I.default.wallpaperColorCanvas,{[I.default.canvasHover]:this.state.hover,[I.default.canvasActive]:this.props.isSelected,[I.default.canvasDefault]:this.props.isDefault});return s.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,title:this.props.isDefault?j.default.t(483):null},e)}}]),a}(s.Component),T=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onWallpaperDoodleChange=function(){var t=e.props.chatPreference;if(t){var a=!t.showDoodle;t.set("showDoodle",a),p.default.openToast(s.createElement(_.default,{msg:a?j.default.t(1459):j.default.t(1460),id:(0,_.genId)()}))}},e}return(0,o.default)(a,[{key:"render",value:function(){var e,t=this.props,a=t.chatPreference,n=t.colors,i=a&&a.wallpaperColor,r=a&&a.showDoodle,o=n.map((function(e){return s.createElement(k,{colorHex:e,isSelected:i===e,isDefault:!1,key:e})})),d=s.createElement(k,{isSelected:i===m.default.DEFAULT_CHAT_WALLPAPER,isDefault:!0,key:m.default.DEFAULT_CHAT_WALLPAPER});o.unshift(d);for(var l=0;l<2;l++)o.push(s.createElement("div",{key:"emptyEl"+l,className:I.default.wallpaperColorEmpty}));return E.default.wallpapersV2&&(e=s.createElement("div",{className:I.default.wallpaperApplyDoodle},s.createElement(h.default,{onChange:this.onWallpaperDoodleChange,checked:!!r}),s.createElement(y.default,{className:I.default.checkboxLabel,theme:"small"},j.default.t(1457)))),s.createElement(s.Fragment,null,e,s.createElement("div",{className:I.default.wallpaperColorGrid},o))}}]),a}(s.Component);T.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var P=(0,C.default)(T,T.CONCERNS),L=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"componentWillUnmount",value:function(){f.default.trigger("wallpaper_color_preview"),E.default.wallpapersV2&&f.default.trigger("wallpaper_drawer_close")}},{key:"componentDidMount",value:function(){E.default.wallpapersV2&&f.default.trigger("wallpaper_drawer_open")}},{key:"render",value:function(){return s.createElement(g.default,null,s.createElement(v.default,{title:j.default.t(1461),onBack:this.props.onClose,type:v.DRAWER_HEADER_TYPE.LARGE}),s.createElement(b.default,null,s.createElement(P,{colors:(0,M.getWallpaperColors)(this.context.theme),chatPreference:f.default.get("defaultPreference")})))}}]),a}(s.Component);t.default=L,L.contextType=S.default},caaehhchbg:function(e,t){e.exports={screenshots:"_1U1da",action:"_3dYD3",disabled:"_2zGPe",screenshotPreview:"_2Wpwv",screenshotsImg:"_38cRR",btnDelete:"_1MbY5"}},cabjahgbgj:function(e,t){e.exports={photoPickerWrapper:"_2klo4",scale:"CJdKy",nameWrapper:"_3XiaR","well-animation":"_3zdIz",wellAnimation:"_3zdIz"}},cacbbhbige:function(e,t){e.exports={container:"_2yMyN",wrapper:"_3l06K",mask:"_2bIOD",bg:"_7l9wP",foreground:"_37vWo",filled:"_3Wbib",empty:"_3gMQc",active:"_3Jpas"}},cajcadafab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("bjigbaghc")),f=i(a("hhcjfgifh")),h=a("ddbdgibbbi"),p=i(a("jheedhagg")),m=i(a("dcdbbhicce")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){return(0,r.default)(this,a),t.call(this,e)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.status;return(c.createElement(s.default,{image:c.createElement(f.default,{id:(0,h.getMaybeMeUser)()}),primary:u.default.pushname,secondary:e.status,idle:!0}))}}]),a}(c.Component);g.CONCERNS={status:["status"]};var b=(0,p.default)((0,m.default)(g,g.CONCERNS));t.default=b},cbbifbghag:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var r=new Map;if(!e.length)return r;for(var o=e.filter((function(e){return e!==a})).sort((function(e,t){return e.lat-t.lat})),d=function(e){var a=o[e],d=void 0;if(r.forEach((function(e){!d&&e.fits(a,t,n)&&(d=e)})),d){var l=d.id;r.delete(l),d.add(a)}else d=new i.default(a);r.set(d.id,d)},l=0;l<o.length;l++)d(l);if(a&&e.length!==o.length){var c=new i.default(a);r.set(c.id,c)}return r},t.participantInCluster=function(e,t){return e.split(i.ID_SEPARATOR).includes(t.toString())},t.singleParticipantClusterId=function(e){return!e.includes(i.ID_SEPARATOR)},t.findClusterForParticipant=function(e,t){var a,n=e.values();for(;(a=n.next())&&!a.done;){var i=a.value;if(i.participants.get(t))return i}return null};var i=n(a("ddgehgjfdd"))},cbccffhcjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("hgigjbgie")),u=i(a("cfhchagia")),f=i(a("iiiaeiedi")),h=i(a("dcdbbhicce")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._setRefContainer=function(t){e._refContainer=t},e}return(0,o.default)(a,[{key:"getContainer",value:function(){return this._refContainer}},{key:"render",value:function(){var e=this.props.chatPreference,t=e.wallpaperColor,a=e.showDoodle,n={};return t!==s.default.DEFAULT_CHAT_WALLPAPER&&(n={backgroundColor:t}),c.createElement("div",{className:f.default.container,ref:this._setRefContainer},c.createElement("div",{className:f.default.body,style:n},c.createElement(u.default,{wallpaperColor:t,showDoodle:a}),this.props.children))}}]),a}(c.Component);p.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"container",get:function(){return this.getComponent().getContainer()}}]),a}((0,h.default)(p,p.CONCERNS));t.default=m},cbciefgfbb:function(e,t){e.exports={inputContainer:"_1hW3h",label:"_3E0wu",input:"_3UL3w"}},cbddigijbj:function(e,t){e.exports={addLabelBtContainer:"_2AHmk"}},cbdjcijgja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("dbafiicfja")),s=n(a("ddhijeejag")),u=n(a("ieeidjijb")),f=i(a("dhfbfehaef")),h=i(a("bdjjabfecc")),p=i(a("dcaibchbg")),m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).focusLast=function(){n.props.contacts&&n.props.contacts.length&&n.selection.setLast(!0)},n.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),n.selection.prev()>-1&&n.selection.setPrev(!0)},n.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.onFocusSearch,a=n.selection.next();n.selection.index===a?(n.selection.unset(),t&&t(e)):n.selection.setNext(!0)},n.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.onDelete,a=n.selection.getVal();if(a){var i=n.props.contacts.find(a);i&&t&&t(e,i)}},n.onParticipantClick=function(e,t){n.selection.setVal(t)},n.selection=new p.default(e.contacts,(function(e){return e.id})),n}return(0,o.default)(a,[{key:"componentDidUpdate",value:function(){this.selection.init(this.props.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var a=t.length?(0,c.default)(t,(function(t){return s.createElement(u.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:u.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})})):null,n={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(n[h.default.LR("left","right")]=this.focusPrev,n[h.default.LR("right","left")]=this.focusNext,n.backspace=this.deleteContact);var i=s.createElement("ul",null,a);return(s.createElement(f.default,{handlers:n},i))}}]),a}(s.PureComponent);t.default=m},cbggbjhahe:function(e,t){e.exports={playerWrapper:"_2y0w5",mediaViewer:"wIUe-",mediaStateControls:"_1tMyo",playerBackground:"_2J1xB",media:"_3sLep",captionBackdrop:"_2I5UV",mediaCaption:"W2nge",progressBackdrop:"_1uUmf",progressBarBackdropNarrow:"_2Rbd7",profile:"yVj1I",nonClickProfile:"bHgbD",profileNarrow:"_3nH7S",playerAvatar:"_1hBSW",measuringProfile:"_3YZQ_",profileMac:"_1cIxr",msgInfo:"_3i6Ha",msgInfoName:"guNwK",timestamp:"_11K1G",playerContent:"_1JVHr",statusPanelPlayerContent:"_19nMI",statusThumbnailPlayerContent:"_2c_MC",loading:"_2umMm",v3Image:"_3DJSu",v3Video:"_8HRq7",text:"_1p4sD",textLarge:"_1n6h2",textMedium:"_3Hd3H",textSmall:"_18Y6i",font_1:"XFtt0",font1:"XFtt0",font_2:"_1o6A6",font2:"_1o6A6",font_3:"_2d2SH",font3:"_2d2SH",font_5:"_32cbO",font5:"_32cbO",unknown:"_5Axzp",textThumbnailPlayerContent:"ZLuXL"}},cbgjiaicaf:function(e,t){e.exports={addItemPlaceholder:"_2Kiv0",placeholderIcon:"Mb2o1",placeholderContainer:"ONiJ7",divider:"_1zv3J"}},cbhfeifejj:function(e,t){e.exports={scaler:"_3Ycud",scalerButton:"_16NXb"}},ccdcfhihac:function(e,t){e.exports={container:"_339Q_",preview:"KFmOE",img:"_2I8Qu"}},ccebihbide:function(e,t){e.exports={ring:"_2QDB8",read:"_2dkls",unread:"_34Zo9"}},ccgeibdhai:function(e,t){e.exports={wrapper:"_317sh",inactive:"_2X6EY",offline:"_29-T_",circle:"_1kfac",text:"_326QI",backToCenter:"_2xfLJ",visible:"_2xX6F"}},cciecagbbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("biegjchieg")),u=i(a("ejegihaeh")),f=i(a("cjacdcjgcj")),h=i(a("bhehhaehi")),p=i(a("ccbgfecegc")),m=i(a("dhigahgdjb")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("cgagcihcgb")),E=a("bgihjbde"),C=i(a("hhibigida")),y=i(a("dbfjeecgih")),S=a("ddbdgibbbi"),_=i(a("bdjjabfecc")),M=i(a("dcgfgbbjff")),I=i(a("idbcfjbae")),k=i(a("dcdcafjece")),T=i(a("ddajejfdfc")),P=i(a("dgdcjccfdi")),L=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={catalog:null,isLoading:!0,hasError:!1},e.flatListController=new y.default,e.onBack=function(){e.props.onBack&&e.props.onBack()},e.onAddProduct=function(){var t=e.props.sessionId,a=new I.default({catalogWid:(0,S.getMaybeMeUser)(),additionalImageCdnUrl:[]});p.default.openDrawerMid(c.createElement(j.default,{product:a,sessionId:t,onCreate:e.update,newProduct:!0}),"slide-left")},e.onEditProduct=function(t,a){p.default.openDrawerMid(c.createElement(j.default,{product:t,sessionId:a,onDelete:e.update}),"slide-left")},e.onProductShare=function(t){p.default.openDrawerMid(c.createElement(T.default,{onBack:function(){p.default.closeDrawerMid()},product:t,sessionId:e.props.sessionId,prompt:_.default.t(384),onSend:function(){return p.default.closeDrawerMid()},centerDrawer:!0}),"slide-left")},e.onShareCatalog=function(){var t=m.default.get((0,S.getMaybeMeUser)());null!=e.state.catalog&&null!=t&&p.default.openDrawerMid(c.createElement(h.default,{onBack:function(){p.default.closeDrawerMid()},catalog:e.state.catalog,sessionId:e.props.sessionId,contact:t,prompt:_.default.t(384),onSend:function(){return p.default.closeDrawerMid()},centerDrawer:!0}),"slide-left")},e.update=function(){null!=e.state.catalog?e.forceUpdate():e.findCatalog()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.findCatalog()}},{key:"findCatalog",value:function(){var e=this,t=(0,S.getMaybeMeUser)();t?(null!=this.state.catalog&&(this.state.catalog.stale=!0),u.default.find(t).catchType(E.ServerStatusCodeError,(function(){e.setState({isLoading:!1})})).then((function(t){e.setState({isLoading:!1,catalog:t})}))):this.setState({isLoading:!1,hasError:!0})}},{key:"renderNewCatalogContents",value:function(){return c.createElement(M.default,{onAddProductClick:this.onAddProduct,onCatalogAlreadyCreated:this.update,sessionId:this.props.sessionId})}},{key:"renderCatalogContents",value:function(){var e;return this.state.catalog&&(e=c.createElement(k.default,{onProductDetail:this.onEditProduct,flatListController:this.flatListController,catalog:this.state.catalog,sessionId:this.props.sessionId,onProductShare:this.onProductShare,showPendingAndRejected:!0,shareLinks:!0})),c.createElement("div",null,c.createElement(s.default,{onClick:this.onAddProduct,theme:"in-list"}),e)}},{key:"renderLoadingState",value:function(){return c.createElement(C.default,{fetchState:"PENDING"})}},{key:"renderErrorState",value:function(){return c.createElement(C.default,{fetchState:"ERROR"})}},{key:"render",value:function(){var e,t;this.state.isLoading?e=this.renderLoadingState():this.state.hasError?e=this.renderErrorState():null!=this.state.catalog?(e=this.renderCatalogContents(),t=c.createElement("button",{onClick:this.onShareCatalog,className:f.default.drawerTitleButton},c.createElement(P.default,{name:"link"}))):e=this.renderNewCatalogContents();var a=c.createElement("div",{className:f.default.drawerTitleContainer},c.createElement("div",null,_.default.t(777)),t);return(c.createElement(g.default,{key:"catalog-link-drawer"},c.createElement(v.default,{a8n:"catalog-link-title",children:a,type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),c.createElement(b.default,null,e)))}}]),a}(c.Component);t.default=L},ccjdjhjhij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ids,a=e.size,n=e.onClick,i=e.showCount,c=e.square,s=e.border,u=t.length;if(0===u)return null;if(1===u)return o.createElement(l.default,{id:t[0],size:40,onClick:n,border:s});var f=t.slice(0,4).map((function(e,t){return o.createElement("div",{key:"avatar-combo-image-".concat(t),className:(0,r.default)(d.default.avatar,{[d.default.first]:0===t,[d.default.second]:1===t,[d.default.third]:2===t,[d.default.fourth]:3===t})},o.createElement(l.default,{id:e,size:a,square:!0}))})),h=(0,r.default)(d.default.container,{[d.default.square]:c,[d.default.border]:s},{[d.default.two]:2===u,[d.default.three]:3===u,[d.default.four]:u>=4}),p=(0,l.getSize)(a),m={height:p,width:p,cursor:n?"pointer":void 0},g=i?o.createElement("div",{className:d.default.count,style:m},t.length):null;return o.createElement("div",{className:h,style:m,onClick:n},f,g)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),d=i(a("dcebgggdhi")),l=n(a("hhcjfgifh"))},cdaddhbbj:function(e,t){e.exports={dimmed:"_2WuxO"}},cdbfcccegj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.url;return(r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.media},r.createElement("audio",{controls:!0,type:t,src:a}))))};var r=i(a("ddhijeejag")),o=n(a("eibcjagbe"))},cddjjebiij:function(e,t){e.exports={list:"KVR0F",hint:"_1c8y3",button:"_3KqnB"}},cdechhdjeg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditProductDrawer=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("cagaiadjai")),f=i(a("ejegihaeh")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),m=n(a("bjgiedaj")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("gceccdhhh")),E=a("bgihjbde"),C=a("ddbdgibbbi"),y=i(a("jheedhagg")),S=i(a("bdjjabfecc")),_=a("ecceajhjba"),M=i(a("idbcfjbae")),I=a("eaibdijehg"),k=i(a("diafggiefe")),T=i(a("eadddjbjhg")),P=i(a("dhccahhefj")),L=i(a("ecdebjcgfa")),w=i(a("dcdbbhicce")),N=i(a("dbihaeaggd")),A=n(a("bjhgigfbec")),D=i(a("edbaidcaf")),R=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;(0,r.default)(this,a),(n=t.call(this,e)).imagePanelRef=s.createRef(),n.onNameChange=function(e){n.setState({name:e,nameError:""===e?S.default.t(597):""})},n.getServerPrice=function(e){return parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g,""),10)},n.onPriceChange=function(e){var t=m.valueFromString(n.state.currency,e),a="";""!==e&&!1===m.validatePrice(n.state.currency,e)&&(a=S.default.t(598)),n.setState({priceAmount1000:t,priceStr:"".concat(e),priceError:a})},n.onDescriptionChange=function(e){n.setState({description:e})},n.onUrlChange=function(e){var t="";""===e||D.default.isValid(e)||(t=S.default.t(603)),n.setState({url:e,urlError:t})},n.onUrlBlur=function(){var e=n.state.url;""===e||D.default.isHttps(e)||D.default.isHttp(e)||n.setState({url:"https://".concat(e)})},n.onRetailerIdChange=function(e){n.setState({retailerId:e})},n.getProductChanges=function(){var e=n.props.product,t=n.state,a=t.name,i=t.priceAmount1000,r=t.currency,o=t.description,d=t.url,l=t.retailerId;return new M.default({id:e.id,priceAmount1000:i,currency:r,description:o||"",imageCdnUrl:e.imageCdnUrl,additionalImageCdnUrl:e.additionalImageCdnUrl,name:a,retailerId:l,url:d})},n.onSaveItem=function(){var e,t=n.props,a=t.product,i=t.newProduct,r=t.sessionId,o=n.getProductChanges();i?(0,_.logAddProductClick)(r):(0,_.logEditProductClick)(a,r),n.setState({isUpdating:!0}),null===(e=n.imagePanelRef.current)||void 0===e||e.component.uploadImages().then((function(e){o.imageCdnUrl||(o.imageCdnUrl={rawUrl:"",full:"",requested:"",productImageModel:new k.default}),o.imageCdnUrl.rawUrl=e[0],o.additionalImageCdnUrl=e.slice(1).map((function(e){return{full:"",rawUrl:e,productImageModel:new k.default,requested:"null"}})),f.default.find((0,C.getMaybeMeUser)()).then((function(e){(i?e.addProduct:e.editProduct).call(e,o).catchType(E.ServerStatusCodeError,n.handleEditError).then(n.handleEditSuccess).finally((function(){n.setState({isUpdating:!1})}))}))})).catch((function(e){throw n.setState({isUpdating:!1}),e}))},n.handleEditError=function(e){return n.props.newProduct?(0,_.logAddProductFailed)(n.props.sessionId):(0,_.logEditProductFailed)(n.props.product,n.props.sessionId,e.statusCode),h.default.openToast(s.createElement(A.default,{msg:S.default.t(383),id:(0,A.genId)("catalog_save_item_failed")})),Promise.reject(new Error("Error editing product details"))},n.handleEditSuccess=function(e){var t=n.props,a=t.onEditSuccess,i=t.newProduct,r=t.onCreate;n.props.newProduct?(0,_.logAddProductSuccess)(n.props.sessionId):(0,_.logEditProductSuccess)(n.props.product,n.props.sessionId),h.default.openToast(s.createElement(A.default,{msg:S.default.t(379),id:(0,A.genId)("catalog_item_saved")})),a(e),null!=i&&r&&r()},n.onDeleteItem=function(){(0,_.logDeleteProductClick)(n.props.product,1,n.props.sessionId),h.default.openModal(s.createElement(p.default,{title:S.default.t(374),okText:S.default.t(1635),cancelText:S.default.t(1482),onOK:n.onConfirmItemDelete,onCancel:function(){h.default.closeModal()}},s.createElement("div",null,S.default.t(373))))},n.onConfirmItemDelete=function(){(0,I.deleteProducts)([n.props.product.id.toString()]).then((function(){f.default.find((0,C.getMaybeMeUser)()).then((function(e){(0,_.logDeleteProductSuccess)(n.props.product,1,n.props.sessionId),e.productCollection.remove(n.props.product.id.toString()),n.props.onDelete&&n.props.onDelete(),h.default.closeDrawerMid()}))})).catchType(E.ServerStatusCodeError,(function(e){(0,_.logDeleteProductFailed)(n.props.product,1,n.props.sessionId,e.statusCode),h.default.openToast(s.createElement(A.default,{msg:S.default.t(375),id:(0,A.genId)("catalog_delete_product_failed")}))})),h.default.closeModal()},n.onImageChange=function(e){var t="";0===e.length&&(t=S.default.t(596)),n.setState({imageError:t,hasImages:e.length>0})};var i=n.props.product,o=null==i.priceAmount1000?null:i.priceAmount1000,d="";return null!=o&&null!=i.currency&&(d=m.format(i.currency,o)),n.state={name:i.name||"",priceAmount1000:o,description:i.description||"",url:i.url||"",retailerId:i.retailerId||"",priceStr:d,currency:i.currency||m.currencyForLocale(),isUpdating:!1,nameError:"",priceError:"",urlError:"",retailerIdError:"",imageError:"",hasImages:!!i.imageCdnUrl},n}return(0,o.default)(a,[{key:"isValid",value:function(){var e=this.state,t=e.name,a=e.nameError,n=e.priceError,i=e.urlError,r=e.retailerIdError,o=e.imageError,d=e.hasImages;return""!==t&&!1!==d&&a+n+i+r+o===""}},{key:"render",value:function(){var e=this.props,t=e.product,a=e.onBack,n=e.newProduct,i=this.state,r=i.isUpdating,o=i.currency,d=i.nameError,l=i.priceError,f=i.urlError,h=i.retailerIdError,p=i.imageError,E=s.createElement(u.default,{type:"primary",onClick:this.onSaveItem,disabled:!this.isValid()},n?S.default.t(195):S.default.t(1184)),C=s.createElement("div",{className:j.default.drawerHeader},s.createElement("div",null,n?S.default.t(385):S.default.t(386)),s.createElement("div",{className:j.default.drawerHeaderButtonContainer},E)),y=n?null:s.createElement("div",{className:j.default.deleteButtonContainer},s.createElement(u.default,{type:"warning",onClick:this.onDeleteItem},S.default.t(488))),_=(0,c.default)(j.default.productWrapper,{[j.default.isSending]:r}),M=r?s.createElement("div",{className:j.default.spinner},s.createElement(L.default,{size:50,stroke:3})):null;return s.createElement(g.default,{key:"catalog-link-drawer",theme:"catalog"},s.createElement(v.default,{a8n:"catalog-link-title",title:C,type:v.DRAWER_HEADER_TYPE.SMALL,onBack:a}),s.createElement(b.default,null,s.createElement("div",{className:_},M,s.createElement(T.default,{product:t,maxImageCount:10,onChange:this.onImageChange,ref:this.imagePanelRef,error:p}),s.createElement(N.default,{a8n:"product-edit-drawer-name-input",value:this.state.name,placeholder:S.default.t(784),onChange:this.onNameChange,theme:"small",customStyleThemes:["desaturated"],maxLength:150,error:d}),s.createElement(N.default,{a8n:"product-edit-drawer-price-input",value:this.state.priceStr,placeholder:S.default.t(785,{currencySymbol:m.formatToParts(o,0).symbol}),onChange:this.onPriceChange,theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:l}),s.createElement(N.default,{a8n:"product-edit-drawer-description-input",value:this.state.description,placeholder:S.default.t(782),onChange:this.onDescriptionChange,theme:"small",maxLength:5e3,customStyleThemes:["desaturated"]}),s.createElement(N.default,{a8n:"product-edit-drawer-link-input",value:this.state.url,placeholder:S.default.t(783),onChange:this.onUrlChange,onBlur:this.onUrlBlur,theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:f,managed:!0}),s.createElement(N.default,{a8n:"product-edit-drawer-retailer-id-input",value:this.state.retailerId,placeholder:S.default.t(781),onChange:this.onRetailerIdChange,theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:h}),y)))}}]),a}(s.Component);t.EditProductDrawer=R,R.CONCERNS={product:["id","additionalImageCdnUrl","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency"]};var O=(0,y.default)((0,P.default)((0,w.default)(R,R.CONCERNS)));t.default=O},cdgaidjejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("daghjjjedc")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("bjaidjhcbc")),m=i(a("djaiggcdb")),g=a("facgccaif"),b=a("hcabbffbb"),v=i(a("dhfbfehaef")),j=i(a("bdjjabfecc")),E=i(a("dhhjhedjij")),C=i(a("dbihaeaggd")),y=n(a("bjhgigfbec")),S=h.default.CONTACT_US_MIN_DESC_LENGTH,_=h.default.CONTACT_US_MAX_DESC_LENGTH,M=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={description:"",includeDeviceInfo:!0},e.setDescriptionRef=function(t){e.decriptionInput=t},e.onSend=function(){var t=e.state.description;e.validateDescription(t)?(e.props.onSend&&e.props.onSend({description:t}),u.default.closeModal(),u.default.openToast(c.createElement(y.default,{msg:j.default.t(1283),id:(0,y.genId)()}))):e.setState({descriptionError:j.default.t(1234)})},e.onCancel=function(){e.props.onCancel&&e.props.onCancel(),u.default.closeModal()},e.onDescriptionChange=function(t){e.setState({description:t,descriptionError:e.validateDescription(t)?void 0:e.state.descriptionError})},e.onIncludeDeviceInfoChange=function(){e.setState({includeDeviceInfo:!e.state.includeDeviceInfo})},e.validateDescription=function(e){return e.length>=S},e.stopPropagation=function(e){e.stopPropagation()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e;null===(e=this.decriptionInput)||void 0===e||e.restoreFocus()}},{key:"render",value:function(){var e={enter:this.stopPropagation};return c.createElement(f.default,{title:j.default.t(1284),okText:j.default.t(1218),onOK:this.onSend,onCancel:this.onCancel,okDisabled:!this.validateDescription(this.state.description)},c.createElement(v.default,{handlers:e},c.createElement(b.FlexColumn,{align:"stretch"},c.createElement(C.default,{error:this.state.descriptionError,maxLength:_,onChange:this.onDescriptionChange,placeholder:j.default.t(1282),ref:this.setDescriptionRef,value:this.state.description}),c.createElement(b.FlexItem,{className:p.default.deviceInfo,grow:1},c.createElement(E.default,{theme:"muted-small"},j.default.t(1280))),c.createElement(b.FlexRow,null,c.createElement(b.FlexItem,{className:p.default.deviceInfoLabel,grow:1},c.createElement("label",{htmlFor:"contact-us-include-device"},c.createElement(E.default,{theme:"plain"},j.default.t(1281)," ",c.createElement(m.default,{href:(0,g.getContactFormDeviceInfoShareFaqUrl)()},j.default.t(789))))),c.createElement(b.FlexItem,{className:p.default.deviceInfoCheckbox,grow:0},c.createElement(s.default,{checked:this.state.includeDeviceInfo,id:"contact-us-include-device",onChange:this.onIncludeDeviceInfoChange}))))))}}]),a}(c.Component);t.default=M},cdhbehgbej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("djecdhecha")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("eaaagccfda")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=a("ddbdgibbbi"),m=i(a("ebddggeaib")),g=a("cgbdcdhgig"),b=i(a("dcdbbhicce")),v=i(a("bcjcbbafcj")),j=n(a("bgeajihhc")),E=(0,s.default)((function(e,t){(0,p.setVideoVolumeSettings)(e,t)}),500),C=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasSentPlayed:!1},e.checkIteration=0,e.checkForSuccessInterval=0,e.hasCalledPlaying=!1,e.mediaBlobWasDownloadedBeforeMount=Boolean(e.props.mediaData.mediaBlob),e.refVideo=u.createRef(),e.onVolumeChange=function(){var t=e.refVideo&&e.refVideo.current;t&&E(t.volume,t.muted)},e.onTimeUpdate=function(){var t=e.refVideo&&e.refVideo.current;t&&(t.currentTime/t.duration>.5||t.currentTime>10)&&((0,g.markPlayed)(e.props.msg),e.setState({hasSentPlayed:!0}))},e.startCheckForSuccess=function(){e.checkIteration=0,e.checkForSuccessInterval||(e.checkForSuccessInterval=setInterval(e.checkForSuccess,250))},e.clearCheckForSuccess=function(){e.checkForSuccessInterval&&(clearInterval(e.checkForSuccessInterval),e.checkIteration=0,e.checkForSuccessInterval=0)},e.checkForSuccess=function(){if(j.default.state===j.STATE.CONNECTED){e.checkIteration++;var t=e.refVideo&&e.refVideo.current,a=t&&t.buffered;a&&a.length&&a.end(0)>0?e.onPlaying():e.checkIteration>240&&e.clearCheckForSuccess()}},e.onPlayerError=function(){e.clearCheckForSuccess()},e.onOtherPlaying=function(t){t!==(0,d.default)(e)&&e.pause()},e.pause=function(){var t=e.refVideo&&e.refVideo.current;t&&(t.paused||t.pause())},e.onPlaying=function(){e.clearCheckForSuccess(),f.default.mediaPlaying((0,d.default)(e))},e.onLoadedMetadata=function(t){e.setStartTime();var a=e.props.onLoadedMetadata;a&&a(t)},e.setStartTime=function(){var t=e.refVideo&&e.refVideo.current;null!=e.props.startTime&&0!==e.props.startTime&&t&&(t.currentTime=e.props.startTime)},e.onContextMenu=function(t){e.props.disableContextMenu&&t.preventDefault()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(f.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"componentWillUnmount",value:function(){E.flush(),this.clearCheckForSuccess(),this.pause()}},{key:"componentDidUpdate",value:function(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"updateVideoUserPrefs",value:function(){var e=this.refVideo&&this.refVideo.current;if(e){var t=(0,p.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),S()&&this.props.autoPlay&&this.startCheckForSuccess()}}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.mediaBlob,r=n.streamable&&n.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&r||!i){if(!n.streamable||!n.isStreamable())return null;e="".concat(h.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString())}else e=i.url();var o=!this.state.hasSentPlayed&&(0,g.canMarkPlayed)(a)?this.onTimeUpdate:void 0,d=S()&&!t.autoPlay?this.startCheckForSuccess:void 0;return u.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:d,onPlaying:this.onPlaying,onTimeUpdate:o,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu},t.children)}}]),a}(u.PureComponent);C.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]};var y=(0,m.default)((0,b.default)(C,C.CONCERNS));function S(){return v.default.isGecko||v.default.isSafari}t.default=y},cdhhgdibbf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cfadcbbiie")),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=n(a("bjjhgjdbhd")),p=i(a("jheedhagg")),m=i(a("cjdjhiiai")),g=i(a("bdjjabfecc")),b=i(a("ebddggeaib")),v=i(a("bhbeigbaec")),j=a("chcfhehffe"),E=i(a("bgiafagffb")),C=i(a("bbgcdfeifh")),y=i(a("dcdbbhicce")),S=i(a("dgdcjccfdi")),_=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.onRoadmapSelected=function(){n.setState({mapType:j.MapType.ROADMAP})},n.onSatelliteSelected=function(){n.setState({mapType:j.MapType.SATELLITE})},n.onTerrainSelected=function(){n.setState({mapType:j.MapType.TERRAIN})},n.onTrafficToggled=function(){n.setState((function(e){return{showTraffic:!e.showTraffic}}))},n.onMarkerSelected=function(e){n.setState({markerSelected:e})},n.state={mapType:j.MapType.ROADMAP,showTraffic:!1,markerSelected:!1,online:C.default.online},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(C.default,"change:online",(function(){e.setState({online:C.default.online})}))}},{key:"render",value:function(){var e,t,a,n,i=c.createElement(E.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:this.state.showTraffic}),r=this.props.msg,o=r.finalLat,d=r.finalLng,l=r.finalTimeOffset,p=r.lat,b=r.lng,j=r.senderObj,C=r.t,y=this.state,_=y.mapType,M=y.showTraffic,I=y.markerSelected;return void 0===o||void 0===d||void 0===l?(e=p,t=b,a=C):(e=o,t=d,a=C+l),n=y.online?c.createElement("div",{className:m.default.wrapper},c.createElement(v.default,{contact:j,lat:e,lng:t,mapType:_,showTraffic:M,markerSelected:I,onMarkerSelected:this.onMarkerSelected}),c.createElement("div",{className:m.default.notification},c.createElement("div",{className:m.default.ended},g.default.t(798)),c.createElement("div",{className:m.default.lastUpdated},s.default.liveLocationLastUpdatedStr(a)))):c.createElement("div",{className:m.default.offline},c.createElement("div",null,c.createElement("div",{className:m.default.circle},c.createElement(S.default,{name:"live-location-disconnected"})),c.createElement("div",{className:m.default.text},g.default.t(845)))),c.createElement(u.default,null,c.createElement(h.default,{title:g.default.t(799),type:h.DRAWER_HEADER_TYPE.SMALL,menu:i,onCancel:this.onClose}),c.createElement(f.default,null,n))}}]),a}(c.PureComponent);_.CONCERNS={msg:["finalLat","finalLng","finalTimeOffset","lat","lng","senderObj","t"]};var M=(0,p.default)((0,b.default)((0,y.default)(_,_.CONCERNS)));t.default=M},cdhjbegegf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("bfgbdiffgd")),h=i(a("cacbbhbige")),p=i(a("bcifhbgija"));function m(){var e=(0,r.default)(["Assertion failed!"]);return m=function(){return e},e}function g(){var e=(0,r.default)(["Current index: ",", total count: ",""]);return g=function(){return e},e}var b=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;return(0,o.default)(this,a),(e=t.apply(this,arguments)).setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,a){if(e.refBar){var n=1e3*f.default.statusVideoMaxDuration,i=Math.min(t,n),r=Math.min(a,n),o="-".concat(i/r*100,"%");(0,p.default)(e.refBar,"stop"),e.barAnimation=(0,p.default)(e.refBar,{translateX:["0%",o]},{duration:i,easing:"linear"})}},e.onPause=function(){e.refBar&&(0,p.default)(e.refBar,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},__LOG__(1)(g(),e.props.current,e.props.total),e.props.current>=0&&e.props.current<e.props.total||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("bad current status v3 index")),e}return(0,d.default)(a,[{key:"render",value:function(){for(var e=this,t=[],a="".concat(100/this.props.total,"%"),n=function(n){var i=(0,s.default)(h.default.foreground,{[h.default.filled]:n<e.props.current,[h.default.empty]:n>e.props.current,[h.default.active]:n===e.props.current}),r=u.createElement("div",{className:h.default.wrapper,style:{width:a},key:n,onClick:function(){return e.onClick(n)}},u.createElement("div",{className:h.default.bg}),u.createElement("div",{className:h.default.mask},u.createElement("div",{className:i,ref:n===e.props.current?e.setRefBar:function(){}})));t.push(r)},i=0;i<this.props.total;++i)n(i);return(u.createElement("div",{className:h.default.container},t))}}]),a}(u.Component);t.default=b},cdjefgbie:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LiveLocationDrawer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ExpiredLocationDrawer",{enumerable:!0,get:function(){return r.default}});var i=n(a("bjiecabhbh")),r=n(a("cdhhgdibbf"))},cebbffhbdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("daghjjjedc")),h=i(a("cfadcbbiie")),p=i(a("ccbgfecegc")),m=i(a("fjdjhajce")),g=i(a("bdjjabfecc")),b=i(a("dagdiahdfi")),v=i(a("dcdbbhicce")),j=a("cjfegjecaj"),E=i(a("dhhjhedjij"));function C(e){return s.createElement("div",{className:(0,c.default)(m.default.section,{[m.default.disabled]:e.disabled})},s.createElement("div",{"data-a8n":u.default.key(e.a8nText),className:m.default.control},s.createElement(f.default,{id:e.id,onChange:e.onChange,checked:e.checked,disabled:e.disabled})),s.createElement("label",{className:m.default.label,htmlFor:e.id},e.children))}var y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={notifications:b.default.getGlobalNotifications(),sounds:b.default.getGlobalSounds(),previews:b.default.getGlobalPreviews(),collapseMuted:b.default.getCollapseMuted()},e.onSounds=function(){var t=!e.state.sounds;e.setState({sounds:t}),b.default.setGlobalSounds(t)},e.onNotifications=function(){var t=!e.state.notifications;e.setState({notifications:t}),b.default.setGlobalNotifications(t)},e.onPreviews=function(){var t=!e.state.previews;e.setState({previews:t}),b.default.setGlobalPreviews(t)},e.onCollapseMuted=function(){var t=!e.state.collapseMuted;e.setState({collapseMuted:t}),b.default.setCollapseMuted(t)},e.onClose=function(){p.default.closeModal()},e.onMuteDesktopNotifications=function(){p.default.muteAll((0,j.unproxy)(e.props.mute),!e.props.mute.isMuted)},e}return(0,o.default)(a,[{key:"render",value:function(){var e=[];window.Notification&&(e.push(s.createElement(C,{key:0,a8nText:"option-desktop-notifications",id:"desktop-notifications",checked:this.state.notifications,onChange:this.onNotifications},g.default.t(1065))),e.push(s.createElement(C,{key:1,a8nText:"options-msg-previews",disabled:!this.state.notifications,id:"msg-previews",checked:this.state.previews,onChange:this.onPreviews},g.default.t(1066),s.createElement(E.default,{theme:"muted",block:!0},g.default.t(1067)))));var t,a=this.props.mute.expiration,n=this.props.mute.isMuted,i=g.default.t(1311);if(n&&null!=a){var r=h.default.untilStr(a);t=s.createElement(E.default,{theme:"muted",block:!0},r)}return(s.createElement("div",{className:m.default.container},s.createElement(C,{a8nText:"option-sounds",id:"sounds",checked:this.state.sounds,onChange:this.onSounds},g.default.t(1069)),e,void 0,s.createElement(C,{a8nText:"option-mute-desktop-notifications",id:"mute-desktop-notifications",checked:n,onChange:this.onMuteDesktopNotifications},i,t)))}}]),a}(s.Component);y.CONCERNS={mute:["isMuted","expiration"]};var S=(0,v.default)(y,y.CONCERNS);t.default=S},cebgbdgebc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cfadcbbiie")),u=i(a("ccbgfecegc")),f=n(a("bjgiedaj")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=i(a("dbfjeecgih")),b=i(a("edfgfbdfg")),v=i(a("bdjjabfecc")),j=i(a("cjfjiidcae")),E=i(a("dadhdecijh")),C=i(a("debgiacjfi")),y=i(a("dhhjhedjij")),S=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).orderFlatListController=new g.default,n.state={isLoading:!0,order:null},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.orderId,n=t.token,i=t.sellerJid;j.default.findOrder(a,i,n).then((function(t){e.setState({order:t,isLoading:!1})}))}},{key:"_getDrawerContent",value:function(){var e=this.props,t=e.sellerJid,a=e.sessionId,n=this.state.order;if(this.state.isLoading||null==n)return c.createElement(b.default,null);var i="";i=n.products.length>0?v.default.t(779,{count:n.totalItemCount||0,_plural:n.totalItemCount||0}):v.default.t(1075);var r=c.createElement(y.default,{theme:"title",block:!0},i),o=null;o=null!=n.total?c.createElement(y.default,{theme:"muted-small",block:!0},v.default.t(1073,{subtotal:f.format(n.currency,n.total)})):c.createElement(y.default,{theme:"muted-small",block:!0},v.default.t(1070));var d=null;if(null!=n.createdAt){var l=s.default.timeStr(n.createdAt);d=c.createElement(y.default,{theme:"muted-small"},"".concat(l))}return(c.createElement(c.Fragment,null,c.createElement("div",{className:E.default.info},r,o),c.createElement(C.default,{flatListController:this.orderFlatListController,onProductDetail:this.props.onProductDetail,order:n,sellerJid:t,sessionId:a}),c.createElement("div",{className:E.default.date},d)))}},{key:"onClose",value:function(){u.default.closeDrawerRight()}},{key:"render",value:function(){var e=this.props.userIsCartOwner;return(c.createElement(h.default,{theme:"striped",onDrop:this.onClose},c.createElement(m.default,{title:e?v.default.t(1072):v.default.t(1071),type:m.DRAWER_HEADER_TYPE.SMALL,onBack:this.onClose}),c.createElement(p.default,{flatListControllers:[this.orderFlatListController]},this._getDrawerContent())))}}]),a}(c.Component);t.default=S},ceffhjgfce:function(e,t){e.exports={container:"_2l7qQ",wallpaperColorCanvas:"_1y7HY",wallpaperColorEmpty:"Tzs6M",canvasActive:"_3ZPoh",canvasHover:"irEVH"}},ceggieaiij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("eabehhacha")),f=i(a("cfadcbbiie")),h=i(a("bhbdiadfhj")),p=i(a("bdjjabfecc")),m=i(a("bfgbdiffgd")),g=i(a("dcdbbhicce")),b=i(a("cdaddhbbj")),v=i(a("bahcdceje")),j=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e,t=this.props,a=t.statusV3,n=t.contact,i=(0,c.default)({[b.default.dimmed]:n.statusMute});return e=m.default.statusRanking&&h.default.supportsFeature(h.default.F.STATUS_RANKING)?a.hasUnread?p.default.t(1265,{count:a.unreadCount,_plural:a.unreadCount}):p.default.t(1264,{count:a.totalCount,_plural:a.totalCount}):f.default.relativeDateAndTimeStr(a.t),s.createElement(u.default,{className:i,key:a.id.toString(),customImage:!0,theme:"status-list",image:s.createElement(v.default,{statusV3:a,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:e,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),a}(s.PureComponent);j.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]};var E=(0,g.default)(j,j.CONCERNS);t.default=E},cehaiccjjf:function(e,t){e.exports={addItemButton:"i2U-Z",themeInList:"_24129",themeDefault:"_2-XT1",addIcon:"_2WvWn"}},cehjgabfic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=a("cfabbaghh"),s=n(a("ddhijeejag")),u=i(a("hgigjbgie")),f=n(a("dgjacfgggf")),h=i(a("ebddggeaib")),p=i(a("cbhfeifejj")),m=i(a("dgdcjccfdi")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).validateTranslate=function(t,a){var n=e.props.editedMedia.editData,i=(t-n.width/2)*n.scale,r=(t+n.width/2)*n.scale,o=(a+n.height/2)*n.scale,d=(a-n.height/2)*n.scale;return{x:i<-e.cropRadius&&r>e.cropRadius,y:d<-e.cropRadius&&o>e.cropRadius}},e.validateScale=function(t){var a=e.props.editedMedia.editData,n=Math.max(2*e.cropRadius/a.width,2*e.cropRadius/a.height),i=Math.max(t,n);if(a.width*t<e.cropRadius||a.height*t<e.cropRadius)return!1;var r=-e.cropRadius/i+a.width/2,o=e.cropRadius/i-a.width/2,d=-e.cropRadius/i+a.height/2,l=e.cropRadius/i-a.height/2;return{scale:i,offsetX:Math.min(Math.max(a.offsetX,o),r),offsetY:Math.min(Math.max(a.offsetY,l),d)}},e.onPressMove=function(t,a){var n=e.props.editedMedia.editData,i=t.stageX-a.x,r=t.stageY-a.y,o=n.offsetX+i/n.scale,d=n.offsetY+r/n.scale,l=e.validateTranslate(o,d);l.x&&(n.offsetX=o),l.y&&(n.offsetY=d),a.x=t.stageX,a.y=t.stageY,e.props.drawCanvas()},e.onEnlarge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,a=e.props.editedMedia.editData,n=0!==t?t:1.1,i=e.validateScale(a.scale*n);i&&(a.scale=i.scale,a.offsetX=i.offsetX,a.offsetY=i.offsetY,e.props.drawCanvas())},e.onReduce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,a=e.props.editedMedia.editData,n=0!==t?t:1.1,i=e.validateScale(a.scale/n);i&&(a.scale=i.scale,a.offsetX=i.offsetX,a.offsetY=i.offsetY,e.props.drawCanvas())},e.crop=function(){var t,a=e.props.editedMedia,n=a.editData,i=a.editedImage&&a.editedImage.src;if(!i)return Promise.reject("empty image");var r=2*e.cropRadius,o=r;return r>u.default.MAX_PIC_SIDE?o=u.default.MAX_PIC_SIDE:r<u.default.MIN_PIC_SIDE&&(o=u.default.MIN_PIC_SIDE),f.crop(i,(n.width-2*e.cropRadius)/2,(n.height-2*e.cropRadius)/2,2*e.cropRadius,2*e.cropRadius,o,o,f.DATA_URL|f.CANVAS).then((function(e){var a=e.images;return t=a.dataUrl,f.crop(a.canvas,0,0,u.default.PROF_PIC_THUMB_SIDE,u.default.PROF_PIC_THUMB_SIDE)})).then((function(e){return{thumb:e.images.dataUrl,full:t}}))},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this;return(s.createElement("div",{className:p.default.scaler},s.createElement("div",{className:p.default.scalerButton,onClick:function(){e.onEnlarge()}},s.createElement(m.default,{name:"plus"})),s.createElement("div",{className:p.default.scalerButton,onClick:function(){e.onReduce()}},s.createElement(m.default,{name:"minus"}))))}},{key:"componentDidMount",value:function(){var e=this;this.props.editedMedia.saveEdits();var t,a=this.props.editedMedia.editData,n=this.props.cropOverlay,i=n.canvas;t=a.baseItem?a.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=t.width,i.height=t.height;var r=new c.Easel.Shape;r.graphics.beginFill("rgba(0, 0, 0, 0.1)"),r.graphics.drawRect(0,0,t.width,t.height),r.regX=t.width/2,r.regY=t.height/2,r.x=t.width/2,r.y=t.height/2,r.on("mousedown",(function(t){var a={x:t.stageX,y:t.stageY},n=r.on("pressmove",e.onPressMove,null,!1,a);r.on("pressup",(function(){r.off("pressmove",n)}),null,!0)})),r.cursor="move",this.props.listeners.add(i,"mousewheel",(function(t){t.deltaY>0?e.onEnlarge(1.02):e.onReduce(1.02)}));var o=i.getContext("2d"),d=i.width,l=i.height,s=d/l>500/361?l/361:d/500;this.cropRadius=Math.min(361,500)/2*.9*s,o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,0,d,l),o.globalCompositeOperation="destination-out",o.beginPath(),o.arc(d/2,l/2,this.cropRadius,0,2*Math.PI,!0),o.fillStyle="#ffffff",o.fill(),n.addChild(r),n.update()}}]),a}(s.Component),b=g;t.Component=b;var v=(0,h.default)(g);t.default=v},ceibaheeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("djecdhecha")),c=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=i(a("eaaagccfda")),f=a("djfeeacgad"),h=n(a("ddhijeejag")),p=a("ceagbbhcha"),m=a("chcfhehffe"),g=i(a("ciehddchae")),b=a("heaagdjji"),v=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).setMap=function(e){return n.map=e},n.onLocationChanged=function(e){var t=n.props,a=t.clusters,i=t.atCenter,r=t.selectedMarkerId;if(n.props.onLocationChanged(),!r&&i)n.viewAllClusters();else if(r&&r===e){var o=a.get(r);o&&n.viewSingleCluster(o)}},n.onIdle=(0,u.default)((function(){var e=n.map;if(e){var t=e.getZoom();if(n.zoomingToAllClusters){n.defaultZoomLevel=t,n.zoomingToAllClusters=!1;var a=(0,l.default)(n).zoomHistory;if(a.prev.preZoom===a.curr.postZoom&&a.prev.postZoom===a.curr.preZoom)return}n.props.onMapMoved(t,n.atCenter())}}),100),n.onDragStart=function(){var e=n.map;if(e){var t=e.getZoom();n.props.onMapMoved(t,!1)}},n.onResize=(0,u.default)((function(){n.setMapLatLngDiff()}),250),n.mapOnClick=function(){n.dismissMarkerTimer.debounceAndCap(50,100)},n.markerOnClick=function(e,t){n.dismissMarkerTimer.isScheduled()&&n.dismissMarkerTimer.cancel(),n.props.onMarkerSelected(t)},n.dismissMarkerTimer=new f.ShiftTimer((function(){n.props.selectedMarkerId&&n.props.onClearSelected()})),n.defaultLatDiff=n.defaultLngDiff=.01,n.defaultZoomLevel=-1,n.zoomingToAllClusters=!1,n.zoomHistory={prev:{preZoom:-1,postZoom:-1},curr:{preZoom:-1,postZoom:-1}},n}return(0,d.default)(a,[{key:"componentWillUnmount",value:function(){this.onIdle.cancel(),this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.setMapLatLngDiff(),this.viewAllClusters()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,r=t.atCenter,o=e.selectedMarkerId;if(this.setMapLatLngDiff(),a.size&&(!o||i||r))if(i&&o!==i){var d=a.get(i)||n.get(i);d&&this.viewSingleCluster(d)}else!i&&r&&this.viewAllClusters()}},{key:"viewAllClusters",value:function(){var e=this.props.clusters;0===e.size||this.atCenter()||(this.zoomToFitAllClusters(e),this.centerAllClusters(e))}},{key:"viewSingleCluster",value:function(e){this.zoomToFitSingleCluster(e),this.centerSingleCluster(e)}},{key:"zoomToFitAllClusters",value:function(e){var t=this.map;if(t){this.zoomingToAllClusters=!0,this.zoomHistory.prev.preZoom=this.zoomHistory.curr.preZoom,this.zoomHistory.curr.preZoom=t.getZoom();var a=this.getBounds(e),n=e.entries().next();if(1!==e.size||n.done)this.boundsTooSmall(a)?t.fitBounds(this.getDefaultBounds(a.getCenter())):t.fitBounds(a);else{var i=(0,r.default)(n.value,2)[1];this.zoomToFitSingleCluster(i,!1)}this.zoomHistory.prev.postZoom=this.zoomHistory.curr.postZoom,this.zoomHistory.curr.postZoom=t.getZoom()}}},{key:"zoomToFitSingleCluster",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.map;if(a&&(!t||!this.boundsTooSmall(a.getBounds()))){var n=e.northeast,i=e.southwest,r=new google.maps.LatLng(n.lat,n.lng),o=new google.maps.LatLng(i.lat,i.lng),d=new google.maps.LatLngBounds(o,r);this.boundsTooSmall(d)?a.fitBounds(this.getDefaultBounds(d.getCenter())):a.fitBounds(d)}}},{key:"centerAllClusters",value:function(e){var t=this.getBounds(e).getCenter();this.centerMap(t)}},{key:"centerSingleCluster",value:function(e){var t=new google.maps.LatLng(e.center);this.centerMap(t)}},{key:"centerMap",value:function(e){var t=this.map;t&&(t.getCenter().equals(e)||t.panTo(e))}},{key:"getInitialCenter",value:function(){return this.getBounds(this.props.clusters).getCenter()}},{key:"getBounds",value:function(e){var t=new google.maps.LatLngBounds;return e.forEach((function(e){t.extend({lat:e.lat,lng:e.lng})})),t}},{key:"boundsTooSmall",value:function(e){var t=e.getNorthEast(),a=e.getSouthWest(),n=t.lat()-a.lat(),i=t.lng()-a.lng(),r=this.defaultLatDiff,o=this.defaultLngDiff,d=Math.abs(n)<r,l=Math.abs(i)<o;return d||l}},{key:"getDefaultBounds",value:function(e){var t=this.defaultLatDiff,a=this.defaultLngDiff,n=new google.maps.LatLng(e.lat()-t/2,e.lng()-a/2),i=new google.maps.LatLng(e.lat()+t/2,e.lng()+a/2);return new google.maps.LatLngBounds(n,i)}},{key:"atCenter",value:function(){var e=this.map;if(!e)return!0;var t=e.getCenter(),a=this.getInitialCenter(),n=t.lat()-a.lat(),i=t.lng()-a.lng();return Math.abs(n)<1e-4&&Math.abs(i)<1e-4&&this.defaultZoomLevel===e.getZoom()}},{key:"setMapLatLngDiff",value:function(){var e=this.map;if(e){var t=e.getCenter(),a=e.getDiv(),n=(0,b.getMetersPerPixel)(t.lat(),m.INITIAL_ZOOM),i=a.offsetWidth*n,r=a.offsetHeight*n;this.defaultLatDiff=(0,b.getLatDiff)(r),this.defaultLngDiff=(0,b.getLngDiff)(i,t.lat())}}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,r=[],o=function(t,a){r.push(h.createElement(g.default,{key:a,marker:{isLive:!0,cluster:t,onLocationChanged:function(){return e.onLocationChanged(a)},selected:i===a,onClick:function(t){return e.markerOnClick(t,a)}}}))};return a.forEach(o),n.forEach(o),r}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?h.createElement(p.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){return h.createElement(p.GoogleMap,{ref:this.setMap,defaultCenter:this.getInitialCenter(),defaultOptions:this.props.getMapOptions(),defaultZoom:m.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick,onDragStart:this.onDragStart,onIdle:this.onIdle},this.getMarkers(),this.getTrafficLayer())}}]),a}(h.Component),j=(0,m.withConfig)((0,p.withScriptjs)((0,p.withGoogleMap)(v)));t.default=j},cejfghgbfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("iidhbgeed")),s=i(a("bebajedcaf")),u=i(a("bhdddbafig")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("effbcehec")),m=a("dfdebdgdei"),g=i(a("ccbgfecegc")),b=i(a("bbfjdcedab")),v=i(a("dhigahgdjb")),j=i(a("dbgbgeefcf")),E=i(a("dahagdijgh")),C=i(a("bjheffjbgd")),y=n(a("bjjhgjdbhd")),S=a("cdhbdacigj"),_=n(a("cajijabhgb")),M=i(a("bfchfhibba")),I=i(a("dbfjeecgih")),k=i(a("bbaacgghch")),T=i(a("ddajbaceej")),P=a("dgjddffcfg"),L=i(a("dhfbfehaef")),w=i(a("bdjjabfecc")),N=i(a("bcgdidhcbe")),A=i(a("cbdjcijgja")),D=i(a("dhccahhefj")),R=i(a("deffjjfcba")),O=a("cbhhehcjbb"),x=i(a("bfgbdiffgd")),U=i(a("ecdebjcgfa")),F=i(a("dgdcjccfdi")),B=n(a("bjhgigfbec")),V=i(a("didfdhbecg")),G=(0,B.genId)("max_participant_toast"),H=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={searchText:"",participants:e.props.participants,shouldFocus:!0,isBusy:!1},e.flatListController=new I.default,e.setRefParticipantList=function(t){e.refParticipantList=t},e.setRefList=function(t){e.refList=t},e.onKeyDown=function(t){if("Backspace"===t.key&&!e.state.searchText&&!(0,s.default)(e.state.participants)){t.preventDefault();var a=e.state.participants;e.setState({participants:a.slice(0,a.length-1),shouldFocus:!0})}},e.onInput=function(t){e.setState({searchText:t.target.value})},e.onReset=function(){e.setState({searchText:"",shouldFocus:!0})},e.focus=function(){T.default.focus(e.refInput)},e.onBack=function(){e.props.onBack()},e.onContinue=function(){e.props.onContinue(e.state.participants)},e.onDelete=function(t,a){var n=(0,c.default)(e.state.participants,(function(e){return!e.id.equals(a.id)}));e.setState({participants:n,shouldFocus:!n.length})},e.onContactClick=function(t,a){e.state.participants.find((function(e){return e.id.equals(a.id)}))?e.removeContact(a):a.isBlocked()?g.default.openModal(h.createElement(b.default,{title:w.default.t(184),onOK:function(){e.unblockAndAddContact(a),g.default.closeModal()},onCancel:function(){return g.default.closeModal()},okText:w.default.t(1763),cancelText:w.default.t(1630)},w.default.t(180))):e.addContact(a)},e.onFocusList=function(t){e.refList&&(t.preventDefault(),t.stopPropagation(),k.default.shouldIndicateFocus(),e.refList&&e.refList.focusFirst())},e.onFocusParticipants=function(t){t.repeat||e.refInput&&0!==e.refInput.selectionStart||e.refParticipantList&&(t.preventDefault(),t.stopPropagation(),L.default.flashFocus=0,e.refParticipantList&&e.refParticipantList.focusLast())},e.onSelectFirst=function(t){t.preventDefault(),t.stopPropagation();var a=e.getFilteredContacts()[0];a&&e.onContactClick(t,a)},e.onFocusSearch=function(){k.default.shouldIndicateFocus(),T.default.focus(e.refInput)},e.setRefInput=function(t){e.refInput=t},e.setRefSizer=function(t){e.refSizer=t},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,u.default)(v.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=w.default.accentFold(t);var a=(0,P.numberSearch)(t);return e.filter((function(e){return e.searchMatch(t,a)}))}},{key:"adjustInput",value:function(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,n=a>t?t:a;this.refInput.style.width=n+"px",e=t-this.refInput.offsetLeft-n>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=x.default.maxParticipants){var a=w.default.t(70,{max:x.default.maxParticipants});g.default.openToast(h.createElement(B.default,{msg:a,id:G}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,c.default)(t,(function(t){return!e.id.equals(t.id)})),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,m.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function(){t.addContact(e),t.setState({isBusy:!1})})).catchType(_.Unmount,(function(){})).catch((function(){t.setState({isBusy:!1})}))}},{key:"render",value:function(){var e;this.state.isBusy?e=h.createElement("div",{className:N.default.spinner},h.createElement(U.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=h.createElement(R.default,{a8nText:"group-participants-btn",onClick:this.onContinue},h.createElement(F.default,{name:"arrow-forward",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":w.default.t(695),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};a[w.default.LR("left","right")]=this.onFocusParticipants;var n,i=this.getFilteredContacts();return n=0===i.length?h.createElement(S.SearchContacts,null):h.createElement(j.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:i,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),h.createElement(E.default,null,h.createElement(y.default,{title:w.default.t(1792),type:y.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),h.createElement(C.default,null,h.createElement("div",{className:N.default.search},h.createElement("div",null,h.createElement(L.default,{handlers:a,className:N.default.inputLine},h.createElement("div",{"data-list-scroll-container":!0},h.createElement(A.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),h.createElement("input",{"data-a8n":p.default.key("inputarea"),className:(0,f.default)(N.default.inputarea,O.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),h.createElement("span",{className:N.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),h.createElement(M.default,{className:N.default.contacts,flatListControllers:[this.flatListController]},n),h.createElement(V.default,{transitionName:"btn",className:N.default.drawerSection},e)))}}]),a}(h.Component);H.defaultProps={participants:[]};var W=(0,D.default)(H);t.default=W},cejgggcehb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("djecdhecha")),l=i(a("bjehdcaaj")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("chichicffi")),f=i(a("bgifaaggh")),h=i(a("fhfbcdaib")),p=n(a("ddhijeejag")),m=a("biheibdage"),g=i(a("iieiegjjd")),b=i(a("ccbgfecegc")),v=i(a("bdeebiagii")),j=a("dibegjcfci"),E=i(a("bcjcbbafcj")),C=function(e){(0,s.default)(a,e);var t=(0,u.default)(a);function a(){var e;return(0,r.default)(this,a),(e=t.apply(this,arguments)).onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.onFailedMedias=function(t){var a=t.filter((function(e){return e.isGif}));if(a.length>0){var n=a.map((function(e){return e.filename}));b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,n.join(" "))})),e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()}},e.sendMediaWithMentions=function(t,a){var n=e.props.chat;b.default.once("ui_idle",(function(){t.forEach((function(t,a){var i=t.media,r={};if(0===a&&(r.quotedMsg=n.composeQuotedMsg,n.composeQuotedMsg=null),r.mentionedJidList=t.mentionedJidList,r.caption=i.caption,r.addEvenWhilePreparing=i.previewable&&i.state===m.ATTACH_MEDIA_STATE.PROCESSING,e.props.initCaption&&e.props.initCaption.ctwaContextLinkData){var o=e.props.initCaption,d=o.ctwaContextLinkData,l=o.ctwaContext;r.ctwaContext=(0,j.prepareCtwaContextSend)(d,l)}i.sendToChat(n,r)})),e.clearComposeAttachMedia()})),e.props.onComplete&&e.props.onComplete(!0,a),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){null!=t&&b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,t)})),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind((0,d.default)(e)),e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){b.default.closeContextMenu(),b.default.closeTooltip(),this.push(p.createElement(g.default,{chat:this.props.chat,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,h.default)(this.sendMediaWithMentions),onDropText:(0,h.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;E.default.isGecko?(0,f.default)((function(){return b.default.focusChatTextInput(e.props.chat)})):b.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),(0,l.default)((0,c.default)(a.prototype),"handleRequestDismiss",this).call(this)}}]),a}(v.default);t.default=C},cfchibgehh:function(e,t){e.exports={wrapper:"_3vmNv",icon:"_3FSp1",text:"_2cQ_q"}},cfghhggjbg:function(e,t){e.exports={mediaViewerImg:"_3bc52",cropOverlay:"_2WRWu"}},cfhfdchaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ebcagbhefg")),u=i(a("ccbgfecegc")),f=i(a("hgigjbgie")),h=i(a("dcgdbhbjdi")),p=i(a("bdicccbaa")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("ddeefhbafc")),j=n(a("cajijabhgb")),E=a("eajdbbfgfg"),C=i(a("jheedhagg")),y=a("dhegcfddhg"),S=i(a("chhebaafhb")),_=i(a("bdjjabfecc")),M=i(a("ebddggeaib")),I=a("edagdaii"),k=i(a("biecbbiiee")),T=i(a("eigdejjai")),P=i(a("eahdicfdjf")),L=i(a("cbccffhcjb")),w=i(a("dhccahhefj")),N=i(a("bfgbdiffgd")),A=i(a("ecdebjcgfa")),D=i(a("dcdbbhicce")),R=i(a("dgdcjccfdi")),O=n(a("bjhgigfbec")),x=i(a("ccbcihdfhg")),U=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).setRefScrollable=function(t){e.refScrollable=t},e.state={msgInfo:void 0,unimplemented:!1},e.wrapper=null,e.isMsgVisible=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===e.props.msg.id&&(!!a||e.getMsgComponent())},e.onClose=function(){e.props.uim.uie.requestDismiss()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;T.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e,"change:playedRemaining change:readRemaining change:deliveryRemaining",(function(){t.forceUpdate()}))})).catchType(j.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),u.default.openToast(c.createElement(O.default,{msg:_.default.t(928),id:(0,O.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===f.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===k.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e,t,a,n=this.props.msg,i=this.state,r=i.msgInfo,o=i.unimplemented;if(r){var d,l,u,j=[];r.isPTT&&(t=_.default.t(891),l=(d=r.played.head())&&d.t,u=c.createElement("span",{className:p.default.icon},c.createElement(R.default,{name:"status-ptt",className:p.default.pttBlue})),j.push(c.createElement(h.default,{title:_.default.t(886),t:l,icon:u,key:"played"}))),l=(d=r.read.head())&&d.t,u=c.createElement("span",{className:p.default.icon},c.createElement(R.default,{name:"status-dblcheck",className:p.default.ack})),t=t||_.default.t(888),j.push(c.createElement(h.default,{title:t,t:l,icon:u,key:"read"})),l=(d=r.delivery.head())&&d.t,u=c.createElement("span",{className:p.default.icon},c.createElement(R.default,{name:"status-dblcheck"})),j.push(c.createElement(h.default,{title:_.default.t(884),t:l,icon:u,key:"delivery"})),!N.default.hfmStringChanges&&N.default.frequentlyForwardedMessages&&n.numTimesForwarded>0&&!n.isFrequentlyForwarded&&j.push(c.createElement(P.default,{key:"forward",msg:n})),e=c.createElement(v.default,{theme:"padding"},j)}r||o||(a=c.createElement("div",{className:p.default.spinner,key:"spinner"},c.createElement(A.default,{size:50,stroke:4})));var C=null;return n.labels&&n.labels.length&&(0,E.canDisplayLabel)()&&(C=c.createElement(v.default,{theme:"padding"},c.createElement(S.default,{labels:n.labels}))),c.createElement(m.default,{key:"message-info-modal",theme:"striped"},c.createElement(b.default,{title:_.default.t(883),type:b.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),c.createElement(L.default,{ref:this.setRefScrollable,chatPreference:s.default.assertGet("defaultPreference")},c.createElement(x.default,{msg:n,ref:(0,y.GetRef)("wrapper",this),displayType:f.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:I.MsgPosition.END,onProductClick:this.props.onProductClick})),c.createElement(g.default,null,C,c.createElement("div",{className:p.default.body},a,e)))}}]),a}(c.Component);U.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var F=(0,C.default)((0,w.default)((0,M.default)((0,D.default)(U,U.CONCERNS))));t.default=F},cfhfjfibci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ieeidjijb")),u=i(a("bgheieccaj")),f=i(a("bfchfhibba")),h=i(a("dbfjeecgih")),p=i(a("bdjjabfecc")),m=i(a("ddcjddjgfe")),g=i(a("dggddfhei")),b=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).flatListController=new h.default,e.renderListItem=function(t){var a=t.participant,n=a.valid?c.createElement(g.default,{participant:a}):p.default.t(831),i=a.valid?function(){return e.props.onParticipantSelected(a.contact.id.toString())}:null,r=a.isMe?c.createElement("div",{onClick:e.props.onStopSharing,className:m.default.stopSharingButton},p.default.t(821)):null;return c.createElement(s.default,{contact:a.contact,secondary:n,onClick:i,detail:r})},e}return(0,o.default)(a,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),contentKey:e.valid?"valid":"invalid",participant:e}}))}},{key:"render",value:function(){var e=this.getListData();return(c.createElement(f.default,{className:m.default.list,flatListControllers:[this.flatListController]},c.createElement(u.default,{data:e,renderItem:this.renderListItem,flatListController:this.flatListController,direction:"vertical"})))}}]),a}(c.Component);t.default=b},cgagcihcgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("cdechhdjeg")),f=i(a("bdeebiagii")),h=i(a("bdjjabfecc")),p=i(a("bjchbacdef")),m=i(a("ddajejfdfc")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).showInfoDrawer=function(t){var a=e.props.sessionId;e.push(c.createElement(p.default,{product:t,onBack:e._pop,onEditProduct:e.onProductEdit,onShareProduct:e.onShareProduct,sessionId:a}))},e.onShareProduct=function(t){e.push(c.createElement(m.default,{onBack:e._pop,product:t,sessionId:e.props.sessionId,prompt:c.createElement("div",null,h.default.t(384)),onSend:function(){return s.default.closeDrawerMid()},centerDrawer:!0}))},e.onProductEdit=function(t,a){e.push(c.createElement(u.default,{sessionId:a,onBack:e._pop,onEditSuccess:e.showInfoDrawer,product:t,onDelete:e.props.onDelete}))},e._pop=function(){e.pop()},e._end=function(){e.end(!0)},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.product,n=t.sessionId,i=t.onCreate;t.newProduct?this.push(c.createElement(u.default,{sessionId:n,onBack:this._pop,onEditSuccess:function(t){i&&i(),e.showInfoDrawer(t)},product:a,newProduct:!0})):this.showInfoDrawer(a)}}]),a}(f.default);t.default=g},cggdjhhbaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("jagjbhcgf")),v=i(a("dgebcfedgb")),j=a("cdhbdacigj"),E=n(a("cajijabhgb")),C=a("bgddggdhc"),y=i(a("ddajbaceej")),S=i(a("jheedhagg")),_=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bdjjabfecc")),k=i(a("ebddggeaib")),T=a("cadfgefaja"),P=i(a("dhccahhefj")),L=i(a("jcfhjhibi")),w=i(a("dcaibchbg")),N=i(a("ecdebjcgfa")),A=i(a("djhaaeddde")),D=i(a("ccadaajdfc")),R=i(a("dgdcjccfdi")),O=i(a("jjhjbgbd")),x=i(a("didfdhbecg"));function U(){var e=(0,r.default)(["StarredDrawer:loadEarlierMsgs failed\n",""],["StarredDrawer:loadEarlierMsgs failed\\n",""]);return U=function(){return e},e}var F=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).msgRefs={},n.getInitialState=function(){var e=n.props.starredMsgs;return{cursor:L.default.create({msgCollection:e,type:h.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:h.default.MSG_PRELOAD_THRESHOLD})}},n.handleStarChange=function(){n.initSelectionObjects(),n.forceUpdate()},n.initSelectionObjects=function(){var e=n.props.starredMsgs.toArray();n.currSelection.init(e,!0),n.activeSelection.init(e)},n.setRefMsgComponent=function(e,t){t?n.msgRefs[e.id.toString()]=t:delete n.msgRefs[e.id.toString()]},n.loadEarlierMsgs=function(){var e=n.state.cursor,t=n.props.chat&&n.props.chat.id,a=n.props.starredMsgs,i=a.models;if(e.getEnd(a)<i.length)n.setState({cursor:e.loadAfter(a)});else{if(a.isSynced)return;n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then((function(){e.hasAfter(a)&&n.setState({cursor:e.loadAfter(a)})})).catchType(E.Unmount,(function(){})).catch((function(e){__LOG__(2)(U(),e)}))}},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.focus=function(){n.body&&y.default.focus((0,C.forbiddenAssertDOMNode)(n.body))},n.onFocusGain=function(e){n.body&&((e?e.target:document.activeElement)===(0,C.forbiddenAssertDOMNode)(n.body)&&(n.currSelection.index<0?n.currSelection.setFirst(!0):n.currSelection.reset(!1)))},n.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.currSelection.next();n.currSelection.index!==t&&n.currSelection.setNext(!0)},n.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),n.currSelection.prev()>-1&&n.currSelection.setPrev(!0)},n.onScroll=function(e){n.handleScroll(e.currentTarget)},n._handleScroll=function(e){n.updateMsgListInfo(),function(e){return e.scrollTop+h.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&n.loadEarlierMsgs()},n.selectMsg=function(e){n.currSelection.setVal(e),n.activeSelection.setVal(e),f.default.openChatAt(e.chat,e.chat.getSearchContext(e)),f.default.focusShowMsg(e.id)},n.getMsgList=function(){var e=n.state.cursor,t=n.props.starredMsgs,a=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),a.length);return a=a.slice(e.getStart(t),i),n.length=a.length,a},n.getMsgVisibility=function(e){if(!e)return h.default.VISIBILITY.BELOW;if(n.scrollContainer){var t=(0,C.forbiddenAssertDOMNode)(n.scrollContainer),a=t.previousSibling.clientHeight,i=t.scrollTop+a,r=i+t.clientHeight,o=(0,C.forbiddenAssertDOMNode)(e);return o?o.offsetTop+o.clientHeight<=i?h.default.VISIBILITY.ABOVE:o.offsetTop>=r?h.default.VISIBILITY.BELOW:h.default.VISIBILITY.VISIBLE:h.default.VISIBILITY.BELOW}},n.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!n.msgListInfo.visibleMsgs[e.toString()]&&(!!t||n.getMsgComponent(e))},n.getMsgComponent=function(e){var t=n.msgRefs[e.toString()];if(t){var a=t.getWrapperRef();return a&&"function"==typeof a.getMsgComponentRef?a.getMsgComponentRef():void 0}},n._updateMsgListInfo=function(){for(var e=n.getMsgList(),t={},a=0,i=n.length-1;a<i;){var r=Math.floor((a+i)/2),o=n.msgRefs[e[r].id.toString()];n.getMsgVisibility(o)===h.default.VISIBILITY.ABOVE?a=r+1:i=r}for(var d=a;d<e.length;d++){var l=n.msgRefs[e[d].id.toString()];if(n.getMsgVisibility(l)!==h.default.VISIBILITY.VISIBLE)break;t[e[d].id.toString()]=!0}n.pauseHiddenGifs(n.msgListInfo.visibleMsgs,t),n.msgListInfo.visibleMsgs=t},n.pauseHiddenGifs=function(e,t){for(var a in e)if(!t[a]){var i=n.props.starredMsgs.get(a);if(i&&i.isGif){var r=n.getMsgComponent(a);r&&r.playCount&&r.pause()}}},n.handleScroll=(0,s.default)(n._handleScroll,100),n.updateMsgListInfo=(0,s.default)(n._updateMsgListInfo,100),n.msgListInfo={visibleMsgs:{}},n.state=n.getInitialState(),n}return(0,d.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new w.default([],(function(e){return e.id.toString()})),this.activeSelection=new w.default([],(function(e){return e.id.toString()}))}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<h.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",(function(){e.initSelectionObjects(),e.forceUpdate()})),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",(function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e,t,a=this,n=this.getMsgList(),i=this.state.cursor,r=this.props.starredMsgs,o=this.props.chat||null;if(t=r.isSynced&&i.getEnd(r)>=n.length?null:this.props.starredMsgs.syncPromise?u.createElement("div",{className:A.default.more,title:I.default.t(832)},u.createElement(N.default,{stroke:6,size:24})):u.createElement("div",{className:A.default.more},u.createElement("div",{title:I.default.t(829),onClick:this.loadEarlierMsgs},u.createElement(R.default,{name:"refresh"}))),n.length>0){var d=n.map((function(e){var t=e.type===h.default.MSG_TYPE.IMAGE||e.type===h.default.MSG_TYPE.VIDEO||e.type===h.default.MSG_TYPE.AUDIO;return(u.createElement(D.default,{key:e.id.toString(),ref:function(t){a.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?a.isMsgVisible:function(){},currSelection:a.currSelection,activeSelection:a.activeSelection,onClickMsg:a.selectMsg}))}));e=u.createElement(x.default,{transitionName:"slide"},d)}else this.props.starredMsgs.isSynced?e=u.createElement(j.StarredMsgs,null):(e=u.createElement(j.Loading,null),t=null);var l={down:this.onNextMsg,up:this.onPrevMsg},c=n.length>0?u.createElement(T.MenuBarItem,{a8nText:"starred-menu",icon:u.createElement(R.default,{name:"menu"}),title:I.default.t(875)},u.createElement(B,{chat:o,msgs:n})):null;return u.createElement(p.default,{theme:"gallery"},u.createElement(M.default,{className:A.default.hotKeyWraper,handlers:l,onFocus:this.onFocusGain,"data-tab":h.default.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,_.GetRef)("body",this)},u.createElement(g.default,{title:I.default.t(1253),onBack:this.onClose,type:g.DRAWER_HEADER_TYPE.LARGE,menu:c}),u.createElement(m.default,{onScroll:this.onScroll,ref:(0,_.GetRef)("scrollContainer",this)},e,t)))}}]),a}(u.Component),B=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).sendUnstarAll=function(){f.default.openModal(u.createElement(O.default,{msgs:e.props.msgs,chat:e.props.chat}))},e}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props.msgs;return(u.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},u.createElement(v.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},I.default.t(1325))))}}]),a}(u.Component),V=(0,S.default)((0,P.default)((0,k.default)(F)));t.default=V},cggehdbfjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var i=e.map(M.vcardFromContactModel),r=1===i.length?i[0]:(0,M.mergeVcards)(i),o="".concat(r.displayName,".vcf"),l=(0,p.createFile)([r.vcard],o,{type:"text/vcard"}),c=l.size/1024;if(g.default.supportsFeature(g.default.F.VCARD_OVER_MMS)&&0!==S.default.vcardAsDocumentSizeKb&&c>S.default.vcardAsDocumentSizeKb)return void function(){k.apply(this,arguments)}(l,e.length,t,a,n);!function(e,t,a,n,i){var r=n&&n.msgContextInfo(t.id),o=(0,m.getMaybeMeUser)(),l=(0,d.default)((0,d.default)({ack:h.default.ACK.CLOCK,from:o,id:new v.default({from:o,to:t.id,id:(0,E.default)(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:u.default.globalUnixTime(),to:t.id},r),{},{ctwaContext:i}),c=1===e.length?(0,d.default)((0,d.default)({type:"vcard",vcardFormattedName:e[0].displayName,body:e[0].vcard},l),w(t)):(0,d.default)((0,d.default)({type:"multi_vcard",vcardList:e},l),w(t));T((function(){return(0,C.addAndSendMsgToChat)(t,c)[1]}),{channel:b.default.CONTACT_SEND_CHANNEL.CHATD,isMultiVcard:e.length>1,sizeInKb:a})}(i,t,c,a,n)};var r=i(a("dfadhaifh")),o=i(a("diaegabbjd")),d=i(a("cdfdfciehj")),l=i(a("ffedgcdgj")),c=n(a("ddhijeejag")),s=i(a("dbjacfjdhg")),u=i(a("cfadcbbiie")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=a("cgffhfegce"),m=a("ddbdgibbbi"),g=i(a("bhbdiadfhj")),b=i(a("bdcchebfge")),v=i(a("cffajefeag")),j=i(a("cahfddcdga")),E=i(a("cfejjfjhca")),C=a("cgddafdgie"),y=a("dgbddfjdhi"),S=i(a("bfgbdiffgd")),_=n(a("bjhgigfbec")),M=a("cjjdjbcgjh");function I(){var e=(0,r.default)(["Error sending contact: ",""]);return I=function(){return e},e}function k(){return(k=(0,l.default)(o.default.mark((function e(t,a,n,i,r){var d,l,u,p,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={file:t,type:h.default.MSG_TYPE.DOCUMENT,filename:t.name,mimetype:"text/vcard",isVcardOverMmsDocument:!0,documentPageCount:a},l=new s.default({chatParticipantCount:n.getParticipantCount()}),e.next=4,l.processAttachments([d]);case 4:if(u=l.uiProcessMsgs(),!(p=u.errorMsgs)){e.next=8;break}return f.default.openToast(c.createElement(_.default,{msg:p,id:(0,_.genId)()})),e.abrupt("return");case 8:m=(0,j.default)(l.getValidMedias()[0],"collection.getValidMedias()[0]"),T((function(){return m.sendToChat(n,{quotedMsg:i,ctwaContext:r})}),{channel:b.default.CONTACT_SEND_CHANNEL.MMS,isMultiVcard:a>1,sizeInKb:t.size/1024});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return P.apply(this,arguments)}function P(){return(P=(0,l.default)(o.default.mark((function e(t,a){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new b.default.ContactSend({channel:a.channel,isMultiVcard:a.isMultiVcard,vcardDataSize:Math.floor(a.sizeInKb)}),e.prev=1,e.next=4,t();case 4:i=e.sent,n.messageSendResult=L(i),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),__LOG__(2)(I(),e.t0),n.messageSendResult=b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN,e.t0;case 13:return e.prev=13,n.markMessageSendT(),n.commit(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,8,13,17]])})))).apply(this,arguments)}function L(e){switch(e){case y.SendMsgResult.OK:return b.default.MESSAGE_SEND_RESULT_TYPE.OK;case y.SendMsgResult.ERROR_NETWORK:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_NETWORK;case y.SendMsgResult.ERROR_EXPIRED:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_EXPIRED;case y.SendMsgResult.ERROR_CANCELLED:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_CANCELLED;case y.SendMsgResult.ERROR_UPLOAD:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD;case y.SendMsgResult.ERROR_UNKNOWN:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN}}function w(e){var t={};if(S.default.ephemeralMessages){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());var a=e.getEphemeralSettingTimestamp();null!=a&&(t.ephemeralSettingTimestamp=a)}return t}},cggjjcbdia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.filename,n=(0,d.default)(l.default.icon,s[t]?s[t].icon:"icon-doc-generic");return o.createElement("div",{className:l.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:l.default.media},o.createElement("div",{className:l.default.document},o.createElement("div",{className:n}),o.createElement("div",{className:l.default.text},a))))};var r=i(a("bgeijhbbad")),o=n(a("ddhijeejag")),d=i(a("ceffhbhahb")),l=i(a("hbafgiab")),c=a("cedhgehjef"),s=(0,r.default)(c.MIMETYPES,(function(e){return"document"===e.msgType}))},cghhjgjffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("bjigbaghc")),f=n(a("hhcjfgifh")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=i(a("cciafahdib")),g=n(a("bjjhgjdbhd")),b=i(a("gfebgebbi")),v=a("ddbdgibbbi"),j=i(a("bdjjabfecc")),E=i(a("dadjidbecc")),C=i(a("dgdcjccfdi")),y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=c.createElement(E.default,{id:this.props.profileId}),t=c.createElement(f.default,{id:(0,v.getMaybeMeUser)(),size:82,quality:f.DETAIL_IMAGE_QUALITY.HIGH}),a=c.createElement(b.default,{text:u.default.pushname,ellipsify:!0,titlify:!0});return c.createElement(h.default,{theme:"settings"},c.createElement(g.default,{title:j.default.t(1243),onBack:this.props.onClose,type:g.DRAWER_HEADER_TYPE.LARGE}),c.createElement(p.default,null,c.createElement(s.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),c.createElement(m.default,{a8nText:"li-notifications",icon:c.createElement(C.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},j.default.t(865)),void 0,c.createElement(m.default,{icon:c.createElement(C.default,{name:"settings-theme"}),onClick:this.props.onThemeSettings},j.default.t(872)),c.createElement(m.default,{icon:c.createElement(C.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},j.default.t(873)),c.createElement(m.default,{a8nText:"li-blocked",icon:c.createElement(C.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},j.default.t(858)),void 0,c.createElement(m.default,{a8nText:"li-help",icon:c.createElement(C.default,{name:"settings-help"}),onClick:this.props.onHelp},j.default.t(860)),void 0,void 0,void 0,void 0,void 0))}}]),a}(c.PureComponent);t.default=y},chadaehai:function(e,t){e.exports={notifyName:"_1Dnpn"}},chbjhajdfc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cciecagbbc")),u=i(a("ccbgfecegc")),f=i(a("bdeebiagii")),h=i(a("biibicegh")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._pop=function(){e.pop(),u.default.closeDrawerMid()},e._end=function(){e.end(!0)},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=(new h.default).toString();this.push(c.createElement(s.default,{sessionId:e,onBack:this._pop}))}}]),a}(f.default);t.default=p},chcfhehffe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.withConfig=function(e){return function(t){(0,c.default)(n,t);var a=(0,s.default)(n);function n(){var e;(0,d.default)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).state={authFailed:!0===window.gm_authFailed},e.onAuthFailed=function(){window.gm_authFailed=!0,e.setState({authFailed:!0});var t=e.getUrl(),a=String(p.default.googleMapsDoNotAuth),n=String(p.default.googleMapsKeyless);__LOG__(4,!1,new Error)(b(),t,"web",a,n),SEND_LOGS("google-map-auth-failed")},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){window.gm_authFailure=this.onAuthFailed}},{key:"componentWillUnmount",value:function(){window.gm_authFailure=void 0}},{key:"getUrl",value:function(){var e={client:"gme-whatsappinc",v:"3",libraries:"geometry,drawing,places",t:Math.floor(Date.now()/864e5)};return g.default.build("https://maps.googleapis.com/maps/api/js",e)}},{key:"getMapOptions",value:function(){return{clickableIcons:!1,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,minZoom:3,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}}}},{key:"render",value:function(){if(this.state.authFailed)return u.createElement("div",{className:h.default.authFailed},f.default.t(661));var t=this.getUrl(),a=u.createElement("div",{className:h.default.loading},u.createElement(m.default,{color:"highlight"})),n=u.createElement("div",{className:h.default.container}),i=u.createElement("div",{className:h.default.map});return u.createElement(e,(0,r.default)({googleMapURL:t,loadingElement:a,containerElement:n,mapElement:i,getMapOptions:this.getMapOptions},this.props))}}]),n}(u.Component)},t.MIN_ZOOM=t.INITIAL_ZOOM=t.MapType=void 0;var r=i(a("bacehaajgh")),o=i(a("dfadhaifh")),d=i(a("eaidjcib")),l=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=i(a("bdjjabfecc")),h=i(a("baefdeabej")),p=i(a("bfgbdiffgd")),m=i(a("ecdebjcgfa")),g=i(a("edbaidcaf"));function b(){var e=(0,o.default)(["url: ","\ntarget: ","\nprops; "," & ",""],["url: ","\\ntarget: ","\\nprops; "," & ",""]);return b=function(){return e},e}var v=a("bjgidhichc")({ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain"});t.MapType=v;t.INITIAL_ZOOM=15;t.MIN_ZOOM=3},chihjgjffb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bafcchidfe")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("bdeebiagii")),m=i(a("bdjjabfecc")),g=i(a("bijffg")),b=i(a("bacbeacgf")),v=i(a("eabhbddaei")),j=i(a("bihiceijie")),E=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){var e;(0,r.default)(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).onDeleteLabel=function(e){e.forEach((function(e){var t=e.id;g.default.deleteLabel(t)}))},e.onManageLabels=function(e){u.default.openModal(c.createElement(j.default,{modelsToUpdate:e}))},e.onEditLabel=function(t){u.default.openModal(c.createElement(s.default,{labelId:t,onUpdateLabel:e.onUpdateLabel,onCancel:u.default.closeModal()}))},e.onLabelClick=function(t){var n=a("bahjbgaefa").default;e.push(c.createElement(n,{openLabelColorDrawer:e.openLabelColorDrawer,labelId:t,onManageLabels:e.onManageLabels,onClose:e._pop,onRemoveLabel:e.onRemoveLabel,onEditLabel:e.onEditLabel}))},e.openAddLabel=function(){g.default.toArray().length>=h.default.MAX_SMB_LABEL_COUNT?u.default.openModal(c.createElement(f.default,{okText:m.default.t(1058),onOK:function(){return u.default.closeModal()}},m.default.t(1788,{count:h.default.MAX_SMB_LABEL_COUNT}))):u.default.openModal(c.createElement(s.default,{onAddLabel:e.onAddLabel,onCancel:u.default.closeModal()}))},e.onUpdateLabel=function(e,t){g.default.updateLabel(e,t)},e.openLabelColorDrawer=function(t,a){e.push(c.createElement(b.default,{labelId:t,onClose:e._pop,onUpdateColor:e.onUpdateLabel,currentColor:a}))},e._pop=function(){e.pop()},e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.push(c.createElement(v.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){g.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){g.default.addOrRemoveLabels([{id:e,type:"remove"}],t)}}]),n}(p.default);t.default=E},chiieajhih:function(e,t){e.exports={container:"cc0oO",media:"_1DDR0",img:"_1cbSY",audio:"_1bhcp",videoContainer:"_39u4o",spinner:"u2T2G",video:"_3cGm8",staticPreview:"_29rod"}},chjejfcdd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=a("jagjbhcgf"),p=i(a("bjjdjibgad")),m=a("dbbhijehii"),g=i(a("dhfbfehaef")),b=i(a("bdjjabfecc")),v=i(a("jdibabjeb")),j=i(a("bajeaefcdg")),E=a("cecdefhddc"),C=i(a("dgdcjccfdi")),y=i(a("cgjdibiahi")),S=i(a("dfciadajdf")),_=a("bficeagfg"),M=i(a("didfdhbecg")),I=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={active:!1,emojiPicker:null},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=s.createElement(p.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:a,dirY:h.DirY.TOP,type:"emoji_picker",anchor:t.target}}),e.restoreFocus()},e.onEmojiPickerClose=function(){e.setState({emojiPicker:null})},e.onRestoreEmojiPickerFocus=function(){if(e.refEmojiPicker){var t=e.refEmojiPicker.getRef();if(t){var a=t.getElement();a&&a.restoreFocus()}}},e.onEmoji=function(t){var a=e.refInput;a&&(a.focus(!1),a.replaceSelection(t)),e.onEmojiPickerClose()},e.setRefInput=function(t){e.refInput=t},e.setRefEmojiPicker=function(t){e.refEmojiPicker=t},e.onSelectionChange=function(t){e.selection=t},e.onMaxPasteExceeded=function(){u.default.openModal(s.createElement(f.default,{title:b.default.t(369),onOK:function(){u.default.closeModal()},okText:b.default.t(1635)},b.default.t(368)))},e.restoreFocus=function(){e.refInput&&e.refInput.focus()},e.onBlur=function(t){e.state.active&&e.setState({active:!1}),e.props.onBlur&&e.props.onBlur(t)},e.onFocus=function(t){t.stopPropagation(),e.state.active||e.setState({active:!0}),e.props.onFocus&&e.props.onFocus(t)},e.onReset=function(){e.refInput&&e.refInput.reset()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,a=(0,_.numCodepoints)(this.props.value||""),n=(0,c.default)(j.default.textInput,{[j.default.noPlaceholder]:!this.props.placeholder,[j.default.active]:!0}),i=(0,c.default)(j.default.labelText,{[j.default.float]:!!this.props.value}),r=this.props.supportsEmoji?s.createElement("button",{className:j.default.inputEmoji,onClick:this.onEmojiPicker},s.createElement(C.default,{name:"emoji-input"})):void 0,o=this.props.value;e=o&&""!==o?s.createElement("div",{role:"button",className:j.default.clearInput,onClick:this.onReset},s.createElement(C.default,{name:"x-alt"})):null;var d,l=this.props.showRemaining?s.createElement("div",{className:(0,c.default)(j.default.buttonContainer,j.default.charCounter,{[j.default.charCounterWithClearBtn]:!!e})},s.createElement("div",{className:j.default.charCounter},t-a<50?b.default.n(t-a):null)):null;return this.state.emojiPicker&&(d=s.createElement(y.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},s.createElement(S.default,{contextMenu:this.state.emojiPicker}))),s.createElement(g.default,{className:n,onFocus:this.restoreFocus},s.createElement("span",{className:i},this.props.placeholder),s.createElement("div",{className:j.default.spacer}),s.createElement("div",{className:j.default.suggestionsPositioner},s.createElement("div",{className:j.default.suggestionsContainer},s.createElement(v.default.MentionSuggestions,{chat:this.props.chat,theme:E.ThemeOptions.MEDIA_CAPTION}),s.createElement(v.default.EmojiSuggestions,{chat:this.props.chat,theme:m.ThemeOptions.MEDIA_CAPTION}))),s.createElement("div",{className:(0,c.default)(j.default.wrapper,{[j.default.textActive]:this.state.active})},s.createElement(v.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),s.createElement("div",{className:j.default.inputControls},s.createElement(M.default,{transitionName:"pop",component:"div",className:j.default.buttonContainer},e,r),l)),d)}}]),a}(s.Component);t.default=I,I.defaultProps={maxLength:25}},chjifbjhjh:function(e,t){e.exports={wallpaperApplyDoodle:"_3euH5",checkboxLabel:"_2RPkW",wallpaperColorGrid:"_1WC91",wallpaperColorCanvas:"_2rFYl",wallpaperDefaultTitle:"_mtbd",wallpaperColorEmpty:"_2U_Ng",canvasHover:"U45SQ",canvasActive:"_2ILMM",canvasDefault:"_1wlMU"}},cicgecaadf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:e.inactive?o.default.inactive:o.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:o.default.circle},r.createElement(d.default,{name:e.svgName})),r.createElement("div",{className:o.default.text},e.text)))};var r=i(a("ddhijeejag")),o=n(a("ccgeibdhai")),d=n(a("dgdcjccfdi"))},cichhcjjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.frequentlyForwardedCount,a=e.totalCount,n=r.createElement("span",{className:c.default.text},1===t&&1===a?s.default.t(628):s.default.t(627)," ",r.createElement(d.default,{href:(0,l.getFrequentlyForwardedFaqUrl)()},s.default.t(789)));return r.createElement("div",{className:c.default.wrapper},r.createElement("div",{className:c.default.icon},r.createElement(u.default,{name:"highly-forwarded"})),r.createElement(o.default,{theme:"plain",primary:n,idle:!0}))};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=n(a("djaiggcdb")),l=a("facgccaif"),c=n(a("cfchibgehh")),s=n(a("bdjjabfecc")),u=n(a("dgdcjccfdi"))},ciehddchae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=a("ceagbbhcha"),f=i(a("ccjdjhjhij")),h=a("dbgjdhbdaj"),p=i(a("ebddggeaib")),m=i(a("dbfgeggab")),g=i(a("badjagjaja")),b=i(a("diffaiehid")),v=i(a("dfefggiaaf")),j=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).setOverlay=function(e){n.overlay=e},n.onLocationChanged=function(){n.props.marker.isLive&&n.props.marker.onLocationChanged()},n.onLastUpdatedTimeChanged=function(){if(n.props.marker.isLive){null!=n.timeoutId&&(n.props.clearTimeout(n.timeoutId),n.timeoutId=null);var e=(0,h.isStale)(n.props.marker.cluster);n.state.stale!==e&&n.setState({stale:e}),e||n.setStaleTimeout()}},n.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},n.state={stale:!e.marker.isLive||(0,h.isStale)(e.marker.cluster)},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster;(0,h.isStale)(t)||this.setStaleTimeout(),t.participants.forEach((function(t){e.props.listeners.add(t,"change:lat change:lng",e.onLocationChanged),e.props.listeners.add(t,"change:lastUpdated",e.onLastUpdatedTimeChanged)}))}}},{key:"setStaleTimeout",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster,a=h.STALE_THRESHOLD-(0,h.getSmallestElapsedTime)(t);a<=0||(this.timeoutId=this.props.setTimeout((function(){return e.setState({stale:!0})}),1e3*a))}}},{key:"getMapPaneName",value:function(){return this.props.marker.onClick?u.OverlayView.OVERLAY_MOUSE_TARGET:u.OverlayView.OVERLAY_LAYER}},{key:"render",value:function(){var e,t,a,n,i=this.props.marker,r=i.onClick,o=i.selected,d=this.state.stale;if(this.props.marker.isLive){var l=this.props.marker.cluster;e=l.lat,t=l.lng,a=l.participants.map((function(e){return e.id}))}else e=this.props.marker.lat,t=this.props.marker.lng,a=[this.props.marker.contact.id];if(o){var p,b,j;if(this.props.marker.isLive){var E=this.props.marker.cluster,C=E.participants,y=E.hasSingleParticipant()?C.at(0):null;y&&(p=y.id,b=y.accuracy,j=y.isMe)}else{var S=this.props.marker.contact;p=S.id,j=S.isMe}p&&(n=s.createElement(g.default,{id:p,lat:e,lng:t,accuracy:b,isMe:j||!1,markerSize:h.MARKER_SIZE}))}return(s.createElement(u.OverlayView,{ref:this.setOverlay,position:{lat:e,lng:t},mapPaneName:this.getMapPaneName(),getPixelPositionOffset:this.getPixelPositionOffset},s.createElement(v.default.Provider,{value:this.context},s.createElement("div",{className:(0,c.default)(m.default.container,{[m.default.selected]:o}),onClick:r},n,s.createElement("div",{className:(0,c.default)(m.default.glow,{[m.default.stale]:d,[m.default.expired]:!this.props.marker.isLive}),style:{height:h.AVATAR_SIZE,width:h.AVATAR_SIZE,padding:h.GLOW_SIZE}},s.createElement("div",null,s.createElement(f.default,{ids:a,size:h.IMAGE_SIZE,border:!0,showCount:!0}))),s.createElement("div",{className:(0,c.default)(m.default.pin,{[m.default.selected]:o}),style:{height:h.PIN_SIZE,width:h.PIN_SIZE,marginLeft:(h.MARKER_SIZE-h.PIN_SIZE)/2}})))))}}]),a}(s.Component);j.contextType=v.default;var E=(0,b.default)((0,p.default)(j));t.default=E},ciidebiahb:function(e,t){e.exports={popup:"_3-I8j",container:"_15ru1",twoLines:"_3tmOQ",name:"-XV84",status:"_23QuI",menuButton:"_3R0C1",triangle:"_2UAPi"}},cijddbbaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("jbgeabaaj")),s=n(a("ddhijeejag")),u=i(a("cagaiadjai")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=a("eajdbbfgfg"),g=i(a("bdjjabfecc")),b=i(a("bijffg")),v=a("dcfieddiah"),j=i(a("ebddggeaib")),E=i(a("deedfgdbdj")),C=i(a("bdcchebfge")),y=n(a("dgjfidhijd")),S=i(a("dgaefbheia")),_=i(a("dceicchccd")),M=a("cjfegjecaj"),I=i(a("dgdcjccfdi")),k=0,T=1,P=2,L=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;(0,r.default)(this,a),(n=t.call(this,e)).selectedLabels=new _.default([],(function(e){return e.id})),n.changeSet=new Set,n.onMultiSelect=function(e){e&&(n.initialLabelState[e]===P?n.changeSet.add("{labelId}_changed"):n.changeSet.has(e)?n.changeSet.delete(e):n.changeSet.add(e),n.forceUpdate())},n.constructLabelCountMap=function(){var e={};return n.props.modelsToUpdate.forEach((function(t){var a=(0,M.unproxy)(t);a.labels&&a.labels.forEach((function(t){e[t]=e[t]?++e[t]:1}))})),e},n.onUpdateLabelsOK=function(){(0,v.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE,n.props.modelsToUpdate.length,C.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var e=n.selectedLabels.list,t=n.selectedLabels.selected,a=e.map((function(e,a){return{id:e.id,type:t[a]?"add":"remove"}}));b.default.addOrRemoveLabels(a,n.props.modelsToUpdate),n.props.onLabelUpdateComplete&&n.props.onLabelUpdateComplete()};var i=n.props.modelsToUpdate,o=n.constructLabelCountMap();return n.initialLabelState=(0,c.default)(o,(function(e){return e===i.length?T:e>0?P:k})),n}return(0,o.default)(a,[{key:"render",value:function(){var e=s.createElement(u.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},g.default.t(1184)),t=s.createElement(u.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},g.default.t(1482)),a=(0,m.canEditLabel)()&&s.createElement("div",{className:E.default.newLabelBtn},s.createElement(u.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},s.createElement(I.default,{name:"plus-large",className:E.default.plus,display:"inline"}),g.default.t(191)));return s.createElement(y.default,{type:y.TowerModalType},s.createElement(f.default,{key:"mange_label_modal",theme:"labels"},s.createElement(p.default,{title:g.default.t(780),type:p.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),s.createElement(h.default,{"data-list-scroll-container":!0,theme:"padding"},s.createElement(S.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContext:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),a,s.createElement("div",{className:E.default.actionBtns},t,e)))}}]),a}(s.Component),w=(0,j.default)(L);t.default=w},cijgjfcbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("cfadcbbiie")),h=i(a("dhigahgdjb")),p=i(a("hhcjfgifh")),m=a("cdhbdacigj"),g=n(a("bgheieccaj")),b=i(a("bfchfhibba")),v=i(a("dbfjeecgih")),j=a("ddbdgibbbi"),E=i(a("bhbdiadfhj")),C=i(a("bdjjabfecc")),y=i(a("ebddggeaib")),S=i(a("cahfddcdga")),_=i(a("bfgbdiffgd")),M=i(a("ceggieaiij")),I=i(a("bgcdajbhif")),k=i(a("dfaibafaje")),T=i(a("bahcdceje")),P=i(a("dgdcjccfdi")),L="SEC_UNREAD",w="SEC_READ",N="SEC_MUTED",A="ROW_STATUS",D=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a),(e=t.apply(this,arguments)).flatListController=new v.default,e.onStatusChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.onContactMuteChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.toggleMuted=function(){e.setState((function(e){return{isMutedExpanded:!e.isMutedExpanded}}))},e.renderItem=function(t){switch(t.type){case L:return s.createElement("div",{className:k.default.listSectionSep},s.createElement("hr",null),s.createElement("div",{className:k.default.listSectionText},s.createElement("span",null,C.default.t(1267))));case w:return s.createElement("div",{className:k.default.listSectionSep},s.createElement("hr",null),s.createElement("div",{className:k.default.listSectionText},s.createElement("span",null,C.default.t(1273))));case N:return s.createElement("div",{className:k.default.listSectionSep},s.createElement("hr",null),s.createElement("div",{className:k.default.listSectionText},s.createElement("span",null,C.default.t(1261)),s.createElement("button",{className:k.default.listSectionAction,onClick:e.toggleMuted},t.expanded?C.default.t(1258):C.default.t(1259))));case A:return s.createElement(M.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new g.UnknownDataError(t)}};var n=e.getUnreadStatusList(),i=e.getReadStatusList(),d=[].concat((0,r.default)(n),(0,r.default)(i)).filter((function(e){return e.contact.statusMute}));return e.state={unreadStatusList:n.filter((function(e){return!e.contact.statusMute})),readStatusList:i.filter((function(e){return!e.contact.statusMute})),mutedStatusList:d,myStatus:I.default.getMyStatus(),isMutedExpanded:!1},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(I.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(h.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(I.default,"sync",(function(){e.forceUpdate()}))}},{key:"getUnreadStatusList",value:function(){return I.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return I.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,a=e.readStatusList,n=e.mutedStatusList,i=[];return t.length>0&&(i.push({type:L,itemKey:"section-unread",height:48}),i.push.apply(i,(0,r.default)(t.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),a.length>0&&(i.push({type:w,itemKey:"section-read",height:48}),i.push.apply(i,(0,r.default)(a.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),n.length>0&&(i.push({type:N,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&i.push.apply(i,(0,r.default)(n.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),i}},{key:"render",value:function(){var e,t=this.getData();return e=I.default.hasSynced()&&t.length>0?s.createElement(g.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:t,renderItem:this.renderItem}):s.createElement(m.ListStatus,null),s.createElement("div",{className:k.default.listPanel},s.createElement(R,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),s.createElement(b.default,{className:k.default.listBody,flatListControllers:[this.flatListController]},e))}}]),a}(s.Component),R=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"render",value:function(){var e,t,a,n=this,i=this.props.statusV3;i&&(a=i.msgs);var r,o,d,l,c=function(){var e=i&&i.msgs;i&&e&&e.length&&n.props.onOpenStatus(i,e.head(),0)};if(i&&a&&a.length){e=s.createElement(T.default,{statusV3:i,contact:i.contact,onClick:c});var h=(0,S.default)(a.last(),"myMsgs.last()").t;t=s.createElement("span",{className:k.default.secondaryHeaderText},_.default.statusRanking&&E.default.supportsFeature(E.default.F.STATUS_RANKING)?C.default.t(1264,{count:a.length,_plural:a.length}):f.default.relativeDateAndTimeStr(h)),o={cursor:"pointer"},r=c}else e=s.createElement(p.default,{id:(0,j.getMaybeMeUser)(),theme:"status_v3",size:40}),t=s.createElement("span",{"data-a8n":u.default.key("status-no-updates"),className:k.default.secondaryHeaderText},C.default.t(1263));E.default.supportsFeature(E.default.F.STATUS_V3_UI_SENDING)&&(d=s.createElement(P.default,{name:"menu"}),l=s.createElement(P.default,{name:"status-v3-create"}));var m=s.createElement("span",{"data-a8n":u.default.key("my-status"),className:k.default.primaryHeaderText},C.default.t(1262));return s.createElement("div",{className:k.default.panelHeader,style:o,onClick:r},s.createElement("div",{className:k.default.headerButtonsPrimary},e),s.createElement("div",{className:k.default.headerText},m,t),s.createElement("div",{className:k.default.headerButtonsSecondary},l,d))}}]),a}(s.Component),O=(0,y.default)(D);t.default=O},cijhbdaifj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=n(a("ddhijeejag")),d=i(a("ejegihaeh")),l=i(a("bdjjabfecc")),c=i(a("cahfddcdga")),s=n(a("chbeahhfcj")),u=i(a("biebgdijhi")),f=i(a("bfgbdiffgd")),h=function(e,t){var a,n,i,h=o.useState(!1),p=(0,r.default)(h,2),m=p[0],g=p[1],b=o.useState([]),v=(0,r.default)(b,2),j=v[0],E=v[1];return f.default.productCatalogDeeplink&&(n=function(e,t,a){g(0===a.length)},i=function(e){var t=e;E(t),g(t.length>0)},a=o.createElement(u.default,{disabled:!m,onClick:function(){var t,a=(0,c.default)(null===(t=j[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),n=(0,c.default)(d.default.get(a),"CatalogCollection.get(catalogWid)");e.onShare(n)}})),o.createElement(s.default,{ref:t,title:l.default.t(1241),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:s.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1,customHeader:a,onSelectionChanged:n,onDataLoaded:i})},p=o.forwardRef(h);t.default=p},cjacdcjgcj:function(e,t){e.exports={drawerTitleContainer:"D5gjV",drawerTitleButton:"_3eg-B"}},cjdjhiiai:function(e,t){e.exports={wrapper:"A0YD9",offline:"Q7sF6",circle:"_1g2Xy",text:"_156iv",notification:"_3nNEI",ended:"_3Uzky",lastUpdated:"_1W9s1"}},cjfjhjdfaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("ebddggeaib")),h=i(a("bgcdajbhif")),p=i(a("cijgjfcbg")),m=i(a("caghhccge")),g=i(a("eafijicig")),b=i(a("dgdcjccfdi")),v=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onStatusAddRemove=function(){n.setState({status:h.default.getMyStatus()})},n.state={status:h.default.getMyStatus()},n}return(0,o.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sessionId,n=t.listeners;n.add(h.default,"add remove",this.onStatusAddRemove),n.add(u.default,"dismiss_status_v3_viewer",(function(){e.props.closeStatusViewer(!0)})),null!=a&&h.default.logMetrics({type:"session",sessionId:a})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,a=(0,c.default)(m.default.v3_x,{});return s.createElement("div",{className:m.default.modalBackground,"data-animate-status-v3-modal-background":!0},s.createElement("div",{className:m.default.mainWrapper},s.createElement(p.default,{onOpenStatus:t}),s.createElement(g.default,{status:this.state.status,onOpenStatus:t}),s.createElement("button",{className:a,onClick:function(){return e.props.closeStatusViewer(!0)}},s.createElement(b.default,{name:"x-viewer"}))))}}]),a}(s.Component),j=(0,f.default)(v);t.default=j},cjgeeiibdf:function(e,t){e.exports={linkContainer:"_3lSC7",descContainer:"_3Lv7w",icon:"_2znQw"}},cjjadhbjij:function(e,t){e.exports={header:"_3ygvN"}},cjjdibgija:function(e,t){e.exports={imageGallery:"uAhm_",imageGalleryList:"_1_fJf",imageGalleryItem:"_1D2sB",imageGalleryItemSpacer:"_16qgZ",imageGalleryItemImage:"_3OWTa",imageGalleryItemOverlay:"_16L2A",selected:"_2le5A",imageGalleryFooter:"_1IkH4",focusAnimation:"_1F7Ve",focusAnimationKeyframes:"_4kAG-"}},cjjfbiafb:function(e,t){e.exports={body:"_2JElZ",thumbs:"naICS",thumbsContainer:"_2NR6P",btnSend:"_3ipVb",captionInput:"NOlXp",mediaBody:"tnocY",invalidContainer:"_181LZ",invalidMedia:"zU9F8",mediaWarning:"R4XJG",dropOverlay:"ObkEl",dropOverlayOutline:"_3qqba",btnAdd:"wPm43",btnAddDisabled:"_2kBns",btnAddText:"Bu0YU",btnViewOnce:"vdEA0",btnViewOnceActive:"_3C5Ax"}},dababjcdei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("debbidcgjc")),f=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){return c.createElement("div",{className:u.default.overlay,key:"avatar-overlay"},c.createElement("div",{className:u.default.icon},this.props.icon),c.createElement("div",{"data-a8n":s.default.key("avatar-text"),className:u.default.text},this.props.text))}}]),a}(c.Component);t.default=f},dacaegbbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("gcfidijgh")),o=a("cgffhfegce"),d=n(a("edbaidcaf"));t.default=function e(t,a,n,l){var c=this;(0,i.default)(this,e),this.updateEditData=function(e){c.saveEdits(),c.editData=(0,r.default)({},c.editData,e)},this.updateEditItems=function(e,t){c.saveEdits();var a=[];c.editData.items&&c.editData.items.forEach((function(e){e!==t&&a.push(e)})),a.push(e),c.editData.items=a},this.saveEdits=function(){var t=new e(c.media,c.originalImage,c.editData,c.previous);c.previous=t},this.revertEdit=function(){c.previous&&(c.editData=c.previous.editData,c.previous=c.previous.previous)},this.saveEditsFromCanvas=function(e){var t=e.toDataURL();c.editedImage||(c.editedImage=new Image),c.editedImage.src=t},this.exportEditedMedia=function(){if(c.hasEdits()&&c.editedImage){var e=c.editedImage.src;return d.default.dataURLtoFile(e)}return c.media instanceof File?c.media:(0,o.createFile)([c.media],"",{type:c.media.type})},this.hasEdits=function(){return!!c.previous&&c.editedImage},this.cleanUp=function(){window.URL.revokeObjectURL(c.originalImage.src)},this.media=t,a?this.originalImage=a:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(t)),this.previous=l,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,r.default)(this.editData,n)}},dacbhighjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("bfjhddbcc")),f=a("bfcfjggjab"),h=i(a("bdjjabfecc")),p=i(a("dcdbbhicce")),m=i(a("dhhjhedjij")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e,t,a;switch(this.props.section){case f.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case f.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case f.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var n=h.default.t(890,a);return(c.createElement("div",{"data-a8n":s.default.key("msg-info-remaining"),className:u.default.footer},c.createElement(m.default,{theme:"muted"},n)))}}]),a}(c.Component);g.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var b=(0,p.default)(g,g.CONCERNS);t.default=b},dadhdecijh:function(e,t){e.exports={date:"_2rxVN",info:"_2W4x7"}},dbdjeddfia:function(e,t){e.exports={animation:"kwVN3","play-ltr":"_1wpie",playLtr:"_1wpie","play-rtl":"_36OcQ",playRtl:"_36OcQ",versionInfo:"_1IEZb"}},dbeeeigche:function(e,t){e.exports={container:"_2HpXF",list:"_3SqHj",header:"_1aVdx",item:"_2o2o5",right:"_21V_O",left:"_1YzaX",close:"D6FRW",name:"_32wS_",time:"_3ue7J"}},dbfgeggab:function(e,t){e.exports={container:"_1A89-",selected:"_2QMnt",glow:"_3eZS1",stale:"_2Hfgh",expired:"_30HHF",pin:"_3Q8RX"}},dbgbgeefcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("bjcdghhbjh")),f=n(a("dighcbdehd")),h=i(a("dbdfbgehgj")),p=i(a("hgigjbgie")),m=n(a("ieeidjijb")),g=i(a("cjjadhbjij")),b=n(a("bgheieccaj")),v=i(a("dhfbfehaef")),j=i(a("bdjjabfecc")),E=i(a("baabifghjg")),C=i(a("dcaibchbg")),y=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).selection=new C.default([],(function(e){return e.id.toString()})),e.getSelectionList=function(){var t=e.props,a=t.contacts,n=t.frequentContacts,i=[],r=[];return a.forEach((function(e){if(e.isGroup){var t=h.default.get(e.id);t&&r.push(t)}else i.push(e)})),(n||[]).concat(i).concat(r)},e.onFocusGain=function(t){t.target===e.refList&&(e.selection.index<0?e.focusFirst():e.selection.reset(!0))},e.focusFirst=function(){e.selection.setFirst(!0)},e.onNextContact=function(t){t.preventDefault(),t.stopPropagation(),e.selection.setNext(!0)},e.onPrevContact=function(t){t.preventDefault(),t.stopPropagation(),e.selection.prev()>-1?e.selection.setPrev(!0):(e.selection.unset(),e.props.onFocusSearch(t))},e.setRefHotKeys=function(t){e.refList=t},e.renderContact=function(t,a){var n;return t.isBlocked()&&(n=j.default.t(467)),s.createElement(m.default,{active:e.selection,contact:t,onClick:e.props.onClick,secondary:n,frequent:a,waitIdle:!0})},e.renderItem=function(t){switch(t.type){case 0:return s.createElement(E.default,{key:"frequent-contacts-header",header:j.default.t(1530)});case 3:var a=t.data,n=t.frequent;return e.renderChat(a,n);case 2:var i=t.data,r=t.frequent;return e.renderContact(i,r);case 1:var o=t.data,d=t.separator;return(s.createElement("div",{className:g.default.header},d?s.createElement(u.default,{key:"separator-".concat(o)}):null,s.createElement(E.default,{header:o})));default:throw new b.UnknownDataError(t)}},e}return(0,d.default)(a,[{key:"renderChat",value:function(e,t){return s.createElement(f.default,{active:this.selection,chat:e,mode:f.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,a=[];return e.forEach((function(e){var n=t.getContactDataItem(e,!0);n&&a.push(n)})),a}},{key:"getContactDataItem",value:function(e,t){var a=(t?m.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var n=h.default.get(e.id);return n?{itemKey:a,data:n,type:3,frequent:t}:null}return{itemKey:a,data:e,type:2,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],a=[],n=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:0}),t.push.apply(t,(0,r.default)(this.getFrequentContactsData(e)))),this.props.contacts.forEach((function(e){e.isGroup?n.push(e):a.push(e)}));var i=this.getDataFromContacts(a),o=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&i.length>0){var d=j.default.t(1498);t.push({itemKey:"header-".concat(d),data:d,separator:!0,type:1})}if(t.push.apply(t,(0,r.default)(i)),this.props.showPersonGroupDivisionHeader&&o.length>0){var l=j.default.t(1603);t.push({itemKey:"header-".concat(l),data:l,separator:!0,type:1})}return t.push.apply(t,(0,r.default)(o)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],n=e.length>10,i="XXX",r=0;r<e.length;r++){var o=e[r];if(n&&o.header){var d=o.header;if(d!==i){var l=r<e.length-1&&d!==e[r+1].header;a.push({itemKey:"header-".concat(t,"-").concat(d),data:d,separator:l,type:1}),i=d}}var c=this.getContactDataItem(o);c&&a.push(c)}return a}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return(s.createElement(v.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":p.default.TAB_ORDERS.CHAT_CONTACT_LIST},s.createElement(b.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"})))}}]),a}(s.PureComponent);t.default=y},dbgjdhbdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestElapsedTime=r,t.isStale=function(e){return r(e)>=600},t.MARKER_SIZE=t.AVATAR_SIZE=t.PIN_SIZE=t.GLOW_SIZE=t.IMAGE_BORDER_SIZE=t.IMAGE_SIZE=t.STALE_THRESHOLD=void 0;var i=n(a("bhfcfhafdj"));t.STALE_THRESHOLD=600;t.IMAGE_SIZE=40;t.IMAGE_BORDER_SIZE=2;t.GLOW_SIZE=4;t.PIN_SIZE=4;t.AVATAR_SIZE=44;function r(e){var t=e.participants.map((function(e){return e.elapsedTime()}));return Math.min.apply(Math,(0,i.default)(t))}t.MARKER_SIZE=52},dbjchidfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("dbahhcabjf")),u=i(a("dbafiicfja")),f=i(a("dadhheahfi")),h=n(a("ddhijeejag")),p=n(a("dhajefgece")),m=i(a("ccbgfecegc")),g=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=a("cdhbdacigj"),C=n(a("cajijabhgb")),y=i(a("bbaacgghch")),S=i(a("ddajbaceej")),_=i(a("dhfbfehaef")),M=i(a("bhigchjbgb")),I=i(a("bdjjabfecc")),k=i(a("fiijdaaid")),T=i(a("dhccahhefj")),P=i(a("diffaiehid")),L=n(a("bjhgigfbec")),w=i(a("bcjcbbafcj")),N=a("bficeagfg"),A=i(a("cfidecfjad")),D=i(a("bjieiiccce")),R=i(a("dfjfejdjjh"));function O(){var e=(0,r.default)(["Image search failed"]);return O=function(){return e},e}function x(){var e=(0,r.default)(["Image search failed"]);return x=function(){return e},e}var U=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).setRefSearch=function(e){n.refSearch=e},n.setRefSearchHotkeys=function(e){n.refSearchHotkeys=e},n.setRefGallery=function(e){n.refGallery=e},n._search=function(e,t){n._hasPendingSearch=!1;var a=p.search(e,t).cancellable().then((function(t){a===n._searchPromise&&(n._addSearchResults(e,t),n.setState({isSearching:!1}))})).catchType(Promise.CancellationError,(function(){})).catch((function(){__LOG__(3,!0)(x()),m.default.openToast(h.createElement(L.default,{msg:I.default.t(757),id:(0,L.genId)()})),a===n._searchPromise&&n.setState({isSearching:!1})})).finally((function(){a===n._searchPromise&&(n._searchPromise=null)}));n._searchPromise=a,n.setState({isSearching:!0})},n.handleUserInput=function(e){var t=(e||"").trim();if(!t)return n._cancelSearch(),void n._resetState();(0,N.numCodepoints)(t)<g.default.FTS_MIN_CHARS||t!==n.state.query&&(n._cancelSearch(),n._resetState(),n._requestSearch(t))},n.handleRequestMoreImages=function(){n._hasPendingSearch||n._searchPromise||!n.state.totalEstimatedMatches||n.state.nextOffset>=n.state.totalEstimatedMatches||n._requestSearch(n.state.query,n.state.nextOffset)},n.handleImageClick=function(e){var t=n.state.imageData[e];if(t){var a=t.contentUrl;(w.default.isElectron?R.default.getRetry(a,D.default.RESP_TYPE.BLOB).then((function(e){if(200!==e.status)throw new C.ServerStatusError(null,a,e.status);return e.response})):A.default.downloadImage(a)).checkpoint(n.props.rejectOnUnmount()).then((function(e){if(!(e instanceof Blob))throw new C.ImageError("Server did not respond with image bytes",a);n.props.onImageSelected(e,t.hostPageUrl)})).catchType(C.Unmount,(function(){})).catch((function(){__LOG__(3,!0)(O()),m.default.openToast(h.createElement(L.default,{msg:I.default.t(754),id:(0,L.genId)()}))}))}},n.focusSearch=function(){y.default.shouldIndicateFocus(),S.default.focus(n.refSearch)},n.focusGallery=function(e){e.repeat||n.refGallery&&n.refSearch&&n.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),y.default.shouldIndicateFocus(),null!=n.refGallery&&S.default.focus(n.refGallery))},n.handleSearchFocus=function(){y.default.maybeIndicateFocus(n.refSearchHotkeys)},n.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},n._hasPendingSearch=!1,n._searchPromise=null,n._debouncedSearch=n.props.debounce(n._search,750),n}return(0,d.default)(a,[{key:"componentWillUnmount",value:function(){this._cancelSearch()}},{key:"_requestSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._hasPendingSearch=!0,this._debouncedSearch(e,t)}},{key:"_cancelSearch",value:function(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}},{key:"_resetState",value:function(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}},{key:"_addSearchResults",value:function(e,t){this.setState((function(a){var n=(0,f.default)(t.value,(function(e){return null==e?void 0:e.thumbnailUrl})),i=(0,u.default)(t.value,(function(e){return{id:e.imageId,thumbUrl:e.thumbnailUrl}})),r=t.value.length,o={};return a.query===e?(o.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+r,o.thumbnails=(0,s.default)(a.thumbnails,i),o.totalEstimatedMatches=t.totalEstimatedMatches,o.imageData=Object.assign(n,a.imageData)):(o.imageData=n,o.nextOffset=t.nextOffset?t.nextOffset:r,o.query=e,o.thumbnails=i,o.totalEstimatedMatches=t.totalEstimatedMatches),o}))}},{key:"render",value:function(){var e,t=j.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?h.createElement(E.SearchingImages,null):this.state.query?h.createElement(E.ImageSearchEmpty,null):h.createElement(E.BeforeImageSearch,null):h.createElement(M.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),h.createElement(b.default,null,h.createElement(j.default,{title:I.default.t(761),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),h.createElement(v.default,null,h.createElement(_.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},h.createElement(k.default,{ref:this.setRefSearch,placeholder:I.default.t(758),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}]),a}(h.Component),F=U;t.Component=F;var B=(0,P.default)((0,T.default)(U));t.default=B},dbjdhjhjha:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=(0,d.default)(t.groupMetadata.groupInviteLink,"chat.groupMetadata.groupInviteLink"),n="".concat(o.default.t(707)," ").concat(a);return r.createElement(l.default,{title:o.default.t(691),text:n,pushTransition:"none",popTransition:"none"})};var r=i(a("ddhijeejag")),o=n(a("bdjjabfecc")),d=n(a("cahfddcdga")),l=n(a("dighgbcbbd"))},dccbiiffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("bfghieafac")),h=i(a("bdjjabfecc")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleCancel=function(){s.default.closeModal()},e.handleOK=function(){e.props.onConfirm(),s.default.closeModal()},e}return(0,o.default)(a,[{key:"render",value:function(){return c.createElement(u.default,{title:h.default.t(677),onOK:this.handleOK,okText:h.default.t(677),onCancel:this.handleCancel,cancelText:h.default.t(1482)},c.createElement("div",{className:f.default.confirmationText},h.default.t(688,{groupName:this.props.chat.contact.name})))}}]),a}(c.Component);t.default=p},dcdefbibje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=a("cfabbaghh"),u=n(a("ddhijeejag")),f=i(a("cfghhggjbg")),h=n(a("difhgjjfcb")),p=i(a("eafahcacji")),m=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).initCanvas=function(){var e=n.props.editedMedia.originalImage;e.complete?n.onImageLoad():e.onload=n.onImageLoad},n.onImageLoad=function(){var e=n.props.editedMedia.editData;n.props.editedMedia.editedImage=null;var t=n.props.editedMedia.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){var a=new s.Easel.Bitmap(t);e.baseItem=a}n.drawCanvas(!0)},n.maybeInitStage=function(e){var t;return n.state.stage?t=n.state.stage:(t=new s.Easel.Stage(e)).enableMouseOver(),n.props.mediaEditController.stage=t,t},n.drawCanvas=function(e,t){if(n.refStaticCanvas&&n.refStaticCanvas.refCanvas){var a=n.refStaticCanvas.refCanvas;t&&n.props.mediaPickerStatsLogger&&n.props.mediaPickerStatsLogger.logChange(n.props.activeMediaId||-1,t);var i=n.props.editedMedia,o=i.editData,d=n.maybeInitStage(a);e&&(a.width=o.width,a.height=o.height),d.removeAllChildren(),null!=o.baseItem&&d.addChild(o.baseItem),o.items&&d.addChild.apply(d,(0,r.default)(o.items));var l=i.originalImage.naturalWidth,c=i.originalImage.naturalHeight;d.regX=l/2,d.regY=c/2,d.rotation=o.rotation,o.width&&o.height&&(d.x=o.width/2+o.scale*o.offsetX,d.y=o.height/2+o.scale*o.offsetY),d.scaleX=o.scale,d.scaleY=o.scale,d.update(),n.setState({canvasSize:{width:a.width,height:a.height},stage:d})}},n.saveCanvas=function(){n.drawCanvas(!0);var e=n.refStaticCanvas&&n.refStaticCanvas.refCanvas;e&&n.props.editedMedia.saveEditsFromCanvas(e)},n.clearStage=function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())},n.setRefStaticCanvas=function(e){n.refStaticCanvas=e},n.setRefMediaContainer=function(e){n.refMediaContainer=e},n.setRefCropOverlay=function(e){n.refCropOverlay=e},n.updateCanvasSize=function(e,t){n.setState({canvasSize:{width:e,height:t}})},n.state={canvasSize:{height:1,width:1},stage:null,mediaContainer:null},n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.initCanvas(),this.setState({mediaContainer:this.refMediaContainer}),this.cropOverlay=new s.Easel.Stage(this.refCropOverlay),this.cropOverlay.autoClear=!1,this.cropOverlay.enableMouseOver(),this.refMediaContainer&&(this.props.mediaEditController.mediaContainer=this.refMediaContainer),this.props.mediaEditController.cropOverlay=this.cropOverlay}},{key:"componentWillUnmount",value:function(){var e=this.props.editedMedia.originalImage;e.complete||(e.onload=void 0),this.saveCanvas(),this.clearStage(this.state.stage),this.clearStage(this.cropOverlay)}},{key:"render",value:function(){var e=u.createElement("canvas",{ref:this.setRefCropOverlay,className:f.default.cropOverlay});return u.createElement("div",{className:this.props.className,ref:this.setRefMediaContainer},u.createElement(h.default,{type:this.props.fitType||h.FIT_TYPE.SCALE_DOWN,size:this.state.canvasSize},e,u.createElement(p.default,{ref:this.setRefStaticCanvas,className:f.default.mediaViewerImg})))}}]),a}(u.Component);t.default=m},dcebgggdhi:function(e,t){e.exports={container:"_27Jlt",border:"_3tkqu",square:"yMINV",avatar:"_1Olyg",count:"L-Jkb",two:"_3OQ-5",first:"_3qJZa",second:"_3Aczi",three:"_20doK",third:"_6fzuE",four:"_2uTWL",fourth:"_3o-2t"}},dcejeebede:function(e,t){e.exports={container:"_3pj7z",body:"_23B__",footer:"_2Ppdl",retakeBtn:"_2al2V",retakeIcon:"_3vJtp",caption:"_3d978",videoContainer:"_3P_u3",video:"_2TaxI",btn:"ZMREK",videoInactive:"_1NlLU",btnSend:"_1bxsX",image:"BImGF",snapshot:"_1FMe7"}},dcfihjeedb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("dgffihajaa")),s=i(a("bdeebiagii")),u=i(a("dbjchidfej")),f=n(a("ddhijeejag")),h=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onImageSelected=function(t,a){e.push(f.createElement(c.default,{onCancel:e._handleCancel,attributionUrl:a,onFinished:e.onFinished,onRetake:e._pop,retryText:c.RETRY_OPTIONS.NONE,img:t}))},e._handleCancel=function(){e.end()},e._pop=function(){e.pop()},e.onFinished=function(t,a){e.props.onFinished(t,a),e.end()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(f.createElement(u.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}]),a}(s.default);t.default=h},dcgdbhbjdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("effbcehec")),d=n(a("cefccdiabc")),l=n(a("cfadcbbiie")),c=n(a("bgddgdiefd"));t.default=function(e){var t=e.title,a=e.icon,n=e.t,i=null!=n?l.default.relativeDateAndTimeStr(n):"-",s=r.createElement("div",{className:c.default.title,"data-a8n":o.default.key("msg-info-title")},a,t);return r.createElement(d.default,{primary:s,secondary:i,theme:"plain",idle:!0})}},dcgfgbbjff:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onAddProductClick,a=e.onCatalogAlreadyCreated,n=e.sessionId,i=r.createElement("div",{className:p.default.placeholderIcon}),v='<a href="'.concat(c.default.FB_LEGAL_TERMS_URL,'" target="_blank">').concat(f.default.t(606),"</a>"),j='<a href="'.concat(c.default.FB_COMMERCE_POLICY_URL,'" target="_blank">').concat(f.default.t(605),"</a>"),E='<a href="'.concat(c.default.WA_COMMERCE_POLICY_URL,'" target="_blank">').concat(f.default.t(1771),"</a>"),C=f.default.t(376,{fb_product_link:v,fb_commerce_link:j,wa_commerce_policy_link:E});return r.createElement(s.default,{theme:"padding-small",animation:!1},r.createElement(g.default,{theme:"title",block:!0},f.default.t(371)),r.createElement(o.default,{onClick:function(){(0,h.logCreateProductCatalogClick)(n),(0,m.createCatalog)().then((function(){(0,h.logCreateProductCatalogSuccess)(n),t()})).catchType(u.ServerStatusCodeError,(function(e){(0,h.logCreateProductCatalogFailed)(n,e.statusCode),l.default.openToast(r.createElement(b.default,{msg:f.default.t(594),id:(0,b.genId)("err_catalog_already_created")})),a()}))},theme:"default"}),r.createElement(g.default,{theme:"plain",block:!0},r.createElement("div",{dangerouslySetInnerHTML:{__html:C}})),r.createElement("div",{className:p.default.placeholderContainer},r.createElement(d.default,{theme:"add-item-placeholder",image:i,customImage:!0,className:p.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:p.default.divider}),r.createElement(d.default,{theme:"add-item-placeholder",image:i,customImage:!0,className:p.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:p.default.divider})))};var r=i(a("ddhijeejag")),o=n(a("biegjchieg")),d=n(a("cefccdiabc")),l=n(a("ccbgfecegc")),c=n(a("hgigjbgie")),s=n(a("ddeefhbafc")),u=a("bgihjbde"),f=n(a("bdjjabfecc")),h=a("ecceajhjba"),p=n(a("cbgjiaicaf")),m=a("bhgfchijhg"),g=n(a("dhhjhedjij")),b=i(a("bjhgigfbec"))},dcjahegieh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cebbffhbdf")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=n(a("bjjhgjdbhd")),c=i(a("bdjjabfecc")),s=i(a("dagdiahdfi")),u=n(a("ddhijeejag"));t.default=function(e){return u.createElement(o.default,null,u.createElement(l.default,{a8n:"drawer-title-notifications",title:c.default.t(1051),onBack:e.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),u.createElement(d.default,null,u.createElement(r.default,{key:"notifications",mute:s.default.globalMute()})))}},ddcjddjgfe:function(e,t){e.exports={list:"_1tupn",stopSharingButton:"hIU_h"}},dddhbbadie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=a("ebjaejiaba"),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=n(a("bjjhgjdbhd")),p=i(a("gfebgebbi")),m=i(a("dhfbfehaef")),g=i(a("bdjjabfecc")),b=n(a("dgjfidhijd")),v=i(a("deffjjfcba")),j=i(a("dgdcjccfdi")),E=i(a("bdhddbagij")),C=i(a("ecbejhejff")),y=a("cjjdjbcgjh"),S=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.contactList,i=a.onSend,r=a.onBack,o=a.chat;switch(o.kind){case s.CHAT_KIND.CHAT:e=g.default.t(452,{chat:o.title(),count:g.default.n(n.length),_plural:n.length});break;case s.CHAT_KIND.GROUP:e=g.default.t(453,{chat:o.title(),count:g.default.n(n.length),_plural:n.length});break;case s.CHAT_KIND.BROADCAST:e=g.default.t(451,{chat:o.title(),count:g.default.n(n.length),_plural:n.length})}var d=e?c.createElement(p.default,{text:e,direction:"auto",titlify:!0,ellipsify:!0}):null;return(c.createElement(b.default,{type:b.BoxModalType},c.createElement(u.default,null,c.createElement(h.default,{type:h.DRAWER_HEADER_TYPE.POPUP,onBack:r},d),c.createElement(f.default,null,c.createElement(m.default,null,c.createElement("div",{className:E.default.body},n.map((function(e,a){return t.renderVcard((0,y.vcardFromContactModel)(e),a.toString())}))))),c.createElement("div",{className:E.default.btnContainer},c.createElement("div",{className:E.default.btnPosition},c.createElement(v.default,{large:!0,onClick:i},c.createElement(j.default,{name:"send",directional:!0})))))))}},{key:"renderVcard",value:function(e,t){var a=(0,y.parseVcard)(e.vcard);return a?c.createElement("div",{key:t,className:E.default.vcardWrapper},c.createElement(C.default,{parsedVcard:a,thumbnail:(0,y.vcardThumbnail)(a)})):null}}]),a}(c.Component);t.default=S},ddfaijbfgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("diaegabbjd")),o=i(a("ffedgcdgj")),d=i(a("eaidjcib")),l=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=a("dfdebdgdei"),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("bdeebiagii")),g=i(a("bdjjabfecc")),b=n(a("chbeahhfcj")),v=i(a("bfgbdiffgd")),j=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,d.default)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i)))._handleForwardConfirmed=function(t){t.forEach(function(){var t=(0,o.default)(r.default.mark((function t(a){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isUser||!a.contact.isBlocked()){t.next=3;break}return t.next=3,(0,f.unblockContact)(a.contact);case 3:e._sendProduct(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),e.end(),1===t.length&&(h.default.openChatFromUnread(t[0]),window.innerWidth<=p.default.LAYOUT_2COLUMNS_MAX_WIDTH&&h.default.closeDrawerRight())},e._handleCancel=function(){e.end()},e._sendProduct=function(t){var a=e.props.product;h.default.once("ui_idle",(function(){t.sendProductMessage(a)}))},e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){h.default.closeContextMenu(),h.default.closeTooltip(),this.push(u.createElement(b.default,{onConfirm:this._handleForwardConfirmed,maxItems:v.default.multicastLimitGlobal,title:g.default.t(930),listType:b.ListType.CHAT_SELECT_MODAL,onCancel:this._handleCancel}))}}]),a}(m.default);t.default=j},ddffdjfeag:function(e,t){e.exports={thumb:"XHdVe",active:"_2sFmi",body:"_1_kax",btnDelete:"_3Ruaa",bodyDoc:"_1PUEX"}},ddgehgjfdd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ID_SEPARATOR=void 0;var i=n(a("bhfcfhafdj")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=n(a("gabccaieg")),l=a("heaagdjji");t.ID_SEPARATOR=",";var c=function(){function e(){var t=this;(0,r.default)(this,e),this.participants=new d.default;for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];n.forEach((function(e){return t.add(e)}))}return(0,o.default)(e,[{key:"add",value:function(e){this.participants.add(e)}},{key:"hasSingleParticipant",value:function(){return 1===this.length}},{key:"fits",value:function(e,t,a){var n=this.center,i=n.lat,r=n.lng,o=e.lat,d=e.lng,c=(0,l.getMetersBetweenLatLngs)(i,r,i,d),s=(0,l.getMetersBetweenLatLngs)(i,r,o,r),u=(0,l.getMetersPerPixel)(i,t);return c/u<=a&&s/u<=a}},{key:"id",get:function(){return this.participants.map((function(e){return e.id.toString()})).join(",")}},{key:"center",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:(Math.min.apply(Math,(0,i.default)(e))+Math.max.apply(Math,(0,i.default)(e)))/2,lng:(Math.min.apply(Math,(0,i.default)(t))+Math.max.apply(Math,(0,i.default)(t)))/2}}},{key:"lat",get:function(){return this.center.lat}},{key:"lng",get:function(){return this.center.lng}},{key:"length",get:function(){return this.participants.length}},{key:"northeast",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.max.apply(Math,(0,i.default)(e)),lng:Math.max.apply(Math,(0,i.default)(t))}}},{key:"southwest",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.min.apply(Math,(0,i.default)(e)),lng:Math.min.apply(Math,(0,i.default)(t))}}}]),e}();t.default=c},ddggdgafij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("dgebcfedgb")),f=i(a("jhjbdcjbc")),h=i(a("bdjjabfecc")),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onCapture=function(){s.default.openModal(c.createElement(f.default,{onFinished:e.props.onImageTake}))},e}return(0,o.default)(a,[{key:"render",value:function(){return c.createElement(u.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},h.default.t(1295))}}]),a}(c.Component);t.default=p},ddigiajeji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("ebcagbhefg")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("ddeefhbafc")),j=n(a("cajijabhgb")),E=n(a("bgheieccaj")),C=i(a("dbfjeecgih")),y=a("eajdbbfgfg"),S=i(a("bdijbhadid")),_=i(a("bfjhddbcc")),M=i(a("dacbhighjj")),I=a("bfcfjggjab"),k=i(a("jheedhagg")),T=a("dhegcfddhg"),P=i(a("chhebaafhb")),L=i(a("bdjjabfecc")),w=i(a("ebddggeaib")),N=a("edagdaii"),A=i(a("biecbbiiee")),D=i(a("eigdejjai")),R=i(a("eahdicfdjf")),O=i(a("cbccffhcjb")),x=i(a("cahfddcdga")),U=i(a("dhccahhefj")),F=i(a("eafdabbdgj")),B=i(a("bfgbdiffgd")),V=i(a("ecdebjcgfa")),G=i(a("dcdbbhicce")),H=i(a("dgdcjccfdi")),W=i(a("dhhjhedjij")),Y=n(a("bjhgigfbec")),z=i(a("ccbcihdfhg")),K=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).flatListController=new C.default,e.setRefScrollable=function(t){e.refScrollable=t},e.state={msgInfo:void 0,unimplemented:!1},e.wrapper=null,e.isMsgVisible=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===e.props.msg.id&&(!!a||e.getMsgComponent())},e.onClose=function(){e.props.uim.uie.requestDismiss()},e.getHeaderAtSection=function(e){var t,a;switch(e){case I.SECTIONS.PLAYED_HEADER:a=s.createElement(H.default,{name:"status-ptt",className:_.default.pttBlue}),t=L.default.t(887);break;case I.SECTIONS.READ_HEADER:a=s.createElement(H.default,{name:"status-dblcheck",className:_.default.ack}),t=L.default.t(889);break;case I.SECTIONS.DELIVERED_HEADER:a=s.createElement(H.default,{name:"status-dblcheck"}),t=L.default.t(885)}return a=s.createElement("div",{className:_.default.titleIcon},a),s.createElement("div",{"data-a8n":u.default.key("msg-info-title"),className:_.default.title},s.createElement(F.default,{side:a,ellipsify:!0},s.createElement(W.default,{theme:"section-title"},t)))},e.getFooterAtSection=function(t){var a=(0,x.default)(e.state.msgInfo,"_this.state.msgInfo");return(s.createElement(M.default,{key:t,section:t,msgInfo:a}))},e.renderItem=function(t){return"MSG_INFO_ROW"===t.type?e.getInfoCell(t.participant):t.type===I.SECTIONS.FORWARD_COUNT?e.getForwardCount():t.type===I.SECTIONS.PLAYED_HEADER||t.type===I.SECTIONS.READ_HEADER||t.type===I.SECTIONS.DELIVERED_HEADER?e.getHeaderAtSection(t.type):e.getFooterAtSection(t.type)},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;D.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e.played,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.read,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.delivery,"add remove",(function(){t.forceUpdate()}))})).catchType(j.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),h.default.openToast(s.createElement(Y.default,{msg:L.default.t(928),id:(0,Y.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===p.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===A.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter".concat(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return s.createElement(S.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return B.default.hfmStringChanges?null:s.createElement("div",{className:_.default.forwardCount},s.createElement(R.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,a=[];return t&&t.isPTT&&(a.push({type:I.SECTIONS.PLAYED_HEADER,itemKey:I.SECTIONS.PLAYED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.played.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT}})))),t.playedRemaining>0&&a.push({type:I.SECTIONS.PLAYED_FOOTER,itemKey:I.SECTIONS.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:I.SECTIONS.READ_HEADER,itemKey:I.SECTIONS.READ_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.read.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT}})))),t.readRemaining>0&&a.push({type:I.SECTIONS.READ_FOOTER,itemKey:I.SECTIONS.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:I.SECTIONS.DELIVERED_HEADER,itemKey:I.SECTIONS.DELIVERED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.delivery.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:E.DEFAULT_ITEM_HEIGHT}})))),t.deliveryRemaining>0&&a.push({type:I.SECTIONS.DELIVERED_FOOTER,itemKey:I.SECTIONS.DELIVERED_FOOTER,height:50})),B.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:I.SECTIONS.FORWARD_COUNT,itemKey:I.SECTIONS.FORWARD_COUNT,height:60}),a}},{key:"render",value:function(){var e,t=this.props.msg,a=this.state,n=a.msgInfo,i=a.unimplemented;n||i||(e=s.createElement("div",{className:_.default.spinner,key:"spinner"},s.createElement(V.default,{size:50,stroke:4})));var r=this.getData(),o=r.length?s.createElement(E.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:this.renderItem}):null,d=null;return t.labels&&t.labels.length&&(0,y.canDisplayLabel)()&&(d=s.createElement(v.default,{theme:"padding"},s.createElement(P.default,{labels:t.labels}))),s.createElement(m.default,{key:"message-info-modal",theme:"striped"},s.createElement(b.default,{title:L.default.t(883),type:b.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),s.createElement(O.default,{ref:this.setRefScrollable,chatPreference:f.default.assertGet("defaultPreference")},s.createElement(z.default,{msg:t,ref:(0,T.GetRef)("wrapper",this),displayType:p.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:N.MsgPosition.END,onProductClick:this.props.onProductClick})),s.createElement(g.default,{flatListControllers:[this.flatListController]},d,e,s.createElement("div",{className:_.default.list},o)))}}]),a}(s.Component);K.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var q=(0,k.default)((0,U.default)((0,w.default)((0,G.default)(K,K.CONCERNS))));t.default=q},debbidcgjc:function(e,t){e.exports={overlay:"_1huBh",icon:"_1WUBO",text:"_3O0IT"}},debgiacjfi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.order,a=e.onProductDetail,n=e.sellerJid,i=e.sessionId;return(r.createElement(l.default,{flatListControllers:[e.flatListController]},r.createElement(d.default,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(f=t.orderItemCollection.toArray(),n===(0,c.getMaybeMeUser)().toString()&&(0,s.logOrderListImpression)(i,t.id,f.length),f.map((function(e){return{itemKey:e.id.toString(),product:e}}))),renderItem:function(e){var t=e.product,o={productId:t.id,businessOwnerJid:n};return r.createElement(u.default,{product:t,onClick:function(){return a(o,i)}})},defaultItemHeight:o.default.PRODUCT_LIST_ITEM_HEIGHT})));var f};var r=i(a("ddhijeejag")),o=n(a("hgigjbgie")),d=n(a("bgheieccaj")),l=n(a("bfchfhibba")),c=a("ddbdgibbbi"),s=a("habihjdae"),u=n(a("dfdhffjdjj"))},debhhgegij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bdeebiagii")),u=i(a("bjihjhccce")),f=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeStatusViewer=function(){e.end()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(u.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),a}(s.default);t.default=f},deedfgdbdj:function(e,t){e.exports={actionBtns:"_31Ye9",newLabelBtn:"_24-mu",plus:"_371cj"}},defdgchjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("ceffhbhahb")),u=a("djfeeacgad"),f=n(a("ddhijeejag")),h=i(a("dcejeebede")),p=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=n(a("cajijabhgb")),E=n(a("dciajcgfie")),C=a("dhegcfddhg"),y=n(a("dgjacfgggf")),S=i(a("bdjjabfecc")),_=i(a("gdjchhcha")),M=i(a("chjejfcdd")),I=n(a("dcecgegjfc")),k=i(a("bdcchebfge")),T=i(a("difhgjjfcb")),P=i(a("dcdjgccech")),L=i(a("dhccahhefj")),w=i(a("deffjjfcba")),N=i(a("ecdebjcgfa")),A=i(a("dgdcjccfdi")),D=i(a("edbaidcaf")),R=i(a("didfdhbecg")),O=i(a("ecfabjjeda"));function x(){var e=(0,r.default)(["captureDrawer:render Unhandled video capture state ",""]);return x=function(){return e},e}function U(){var e=(0,r.default)(["Assertion failed!"]);return U=function(){return e},e}function F(){var e=(0,r.default)(["Assertion failed!"]);return F=function(){return e},e}function B(){var e=(0,r.default)(["CaptureDrawer:onCapture can not get 2d context"]);return B=function(){return e},e}var V="ANIMATING",G="LOADING",H="RECORDING",W="SENDING",Y=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={state:V,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},e.videoRef=null,e.startTimer=new u.ShiftTimer((function(t){e.loadNewStream(t)})),e.loadNewStream=function(t){t?(e.setState({state:G,stream:t}),(0,I.isSrcObjectInVideoElement)()||(t?(window.URL.revokeObjectURL(e.url),e.url=window.URL.createObjectURL(t)):(window.URL.revokeObjectURL(e.url),e.url=void 0))):e.state.state===V&&e.setState({state:G})},e.stopStreamTimer=new u.ShiftTimer((function(t){t&&I.stop(t),(0,I.isSrcObjectInVideoElement)()||(e.url=window.URL.revokeObjectURL(e.url))})),e.onCapture=function(){if(e.videoRef){var t=e.videoRef.underlyingVideo();if(t){var a=e.props.chat,n=document.createElement("canvas");n.height=t.videoHeight,n.width=t.videoWidth;var i=n.getContext("2d");if(i){i.translate(n.width,0),i.scale(-1,1),i.drawImage(t,0,0,t.videoWidth,t.videoHeight);var r=e.props.onCaptured;if(r)y.canvasToBlob(n).then((function(e){r(e)}));else{e.stopStreamTimer.onOrBefore(500,e.state.stream),e.mediaLogger=new _.default,e.mediaLogger.logAdd("CAPTURE_MEDIA","image",k.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),e.mediaLogger.chatRecipients=a&&a.groupMetadata?a.groupMetadata.participants.length:1;var o=n.toDataURL("image/jpeg");e.setState({state:W,stream:void 0,img:o})}}else __LOG__(3)(B())}}},e.onVideoLoaded=function(t){e.setState({state:H,videoSize:{width:t.videoWidth,height:t.videoHeight}})},e.onRetake=function(){e.setState({state:G,caption:void 0});var t=I.start("camera");Promise.race([t,e.props.rejectOnUnmount()]).checkpoint(e.props.rejectOnUnmount()).then((function(t){t&&((0,I.isSrcObjectInVideoElement)()||(e.url=window.URL.createObjectURL(t)),e.setState({stream:t}))})).catchType(j.Unmount,(function(){t.then((function(e){return I.stop(e)})).catch((function(){}))})).catchType(j.GUM.NotAllowedError,(function(){e.props.onBack(),p.default.openModal(f.createElement(E.default,{messaging:E.Messaging.CAMERA_FAIL,type:E.default.TYPE.GUIDE_UNBLOCK}))})).catchType(j.GUM.GUMError,(function(){e.props.onBack(),p.default.openModal(f.createElement(E.default,{messaging:E.Messaging.CAMERA_MISSING,type:E.default.TYPE.GUIDE_NONE}))}))},e.onSend=function(){var t=e.state,a=t.img,n=t.caption,i=e.props.onSend;if(i)if(a){var r=e.refCaptionInput&&e.refCaptionInput.refInput,o=[];if(n&&r){var d=r.serialize(n),l=[d[0].trim(),d[1]],c=l[0],s=l[1];c.length&&(n=c,o=s.mentionedJidList||[])}i({getImg:P.default.createFromBase64Jpeg(D.default.parseDataURL(a).data),caption:n,mentionedJidList:o}),e.mediaLogger.logSend()}else a||(__LOG__(4,!1,new Error)(U()),SEND_LOGS("capture-drawer-no-img"));else i||(__LOG__(4,!1,new Error)(F()),SEND_LOGS("capture-drawer-no-onSend"))},e.onCaptionChange=function(t){e.setState({caption:t})},e.setRefCaptionInput=function(t){e.refCaptionInput=t},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&I.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.state){case V:case G:if(i=f.createElement(N.default,{stroke:4,size:50}),this.state.state===V)break;case H:var r=(0,s.default)(h.default.video,{[h.default.videoInactive]:this.state.stream&&this.state.state===G}),o=this.state.stream?f.createElement(O.default,{autoPlay:!0,ref:(0,C.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;a=this.state.stream?f.createElement("div",{key:"webcam"},f.createElement(T.default,{type:this.props.layoutType,size:this.state.videoSize},f.createElement("div",{className:r,"data-animage-capture-webcam":!0},o))):null,e=this.state.state===H?f.createElement("div",{className:h.default.btn,key:"btn-capture"},f.createElement(w.default,{large:!0,onClick:this.onCapture},f.createElement(A.default,{name:"camera"}))):null;break;case W:a=f.createElement(T.default,{type:this.props.layoutType,size:this.state.videoSize},f.createElement("img",{className:h.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=f.createElement("div",{className:(0,s.default)(h.default.btn,h.default.btnSend),key:"btn-send"},f.createElement(w.default,{large:!0,onClick:this.onSend},f.createElement(A.default,{name:"send",directional:!0}))),t=f.createElement("div",{className:h.default.retakeBtn,onClick:this.onRetake},f.createElement("div",{className:h.default.retakeIcon},f.createElement(A.default,{name:"return"})),S.default.t(1161)),n=this.props.chat?f.createElement(M.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:m.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:S.default.t(179),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:__LOG__(2)(x(),this.state.state)}var d=this.props.caption?f.createElement(R.default,{transitionName:"media-caption",className:h.default.caption},n):null;return(f.createElement(g.default,{key:"attach-capture-modal",theme:"capture"},f.createElement(v.default,{title:S.default.t(1295),type:v.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),f.createElement(b.default,{overflow:"hidden"},f.createElement("div",{className:h.default.container},i,f.createElement("div",{className:h.default.body},f.createElement(R.default,{transitionName:"capture",className:h.default.videoContainer},a))),f.createElement("div",{className:h.default.footer},d,f.createElement(R.default,{transitionName:"pop_delay"},e)))))}}]),a}(f.PureComponent);Y.defaultProps={caption:!1};var z=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).loadNewStream=function(t){e.getComponent().loadNewStream(t)},e}return a}((0,L.default)(Y));t.default=z},dfbdhdcebe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bdeebiagii")),u=i(a("ddigiajeji")),f=i(a("cjgdgbgbj")),h=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onProductClick=function(t,a){e.push(c.createElement(f.default,{refreshCarousel:!0,chat:e.props.msg.chat,product:t,sessionId:a,onEnd:e._pop}))},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(u.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),a}(s.default);t.default=h},dfdhffjdjj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.product,a=e.onClick,n=r.createElement(l.default,{text:t.name,ellipsify:!0,titlify:!0}),i=r.createElement(u.default,{mediaData:t.mediaData,theme:"list"}),h=c.default.t(1074,{quantity:t.quantity.toString()}),p=null;t.quantity&&(p=r.createElement(f.default,{className:s.default.quantity},h));var m=null;t.price&&(m=r.createElement(f.default,{className:s.default.price},d.format(t.currency,t.price)));var g=null;null!=m&&null!=p&&(g=r.createElement("span",{className:s.default.separator},""));var b=r.createElement("div",null,m,g,p);return(r.createElement(o.default,{key:t.id.toString(),image:i,customImage:!0,primary:n,secondary:b,theme:"order-product",onClick:a}))};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=i(a("bjgiedaj")),l=n(a("gfebgebbi")),c=n(a("bdjjabfecc")),s=n(a("bccajbfghh")),u=n(a("dchhjffcdj")),f=n(a("dhhjhedjij"))},dffbbbhiad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("dbahhcabjf")),s=i(a("cfjdfebffb")),u=i(a("dbafiicfja")),f=a("bjhaecbifc"),h=i(a("bgcdajbhif")),p=n(a("bgabgddgch"));function m(){var e=(0,r.default)(["error while loading more status msgs: ",""]);return m=function(){return e},e}function g(){var e=(0,r.default)(["error while loading more status msgs: ",""]);return g=function(){return e},e}function b(){var e=(0,r.default)(["Loaded "," messages with total count ",", but noEarlierMsgs set"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["error while getting first unread status: ",""]);return v=function(){return e},e}function j(){var e=(0,r.default)(["Total count: ",", unread count: ",", msgs length: ",""]);return j=function(){return e},e}var E=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return a}((0,f.customError)("InvalidStatusV3Iterator"));t.InvalidStatusV3Iterator=E;var C=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return a}((0,f.customError)("StatusV3LoadingError"));t.StatusV3LoadingError=C;var y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return a}((0,f.customError)("StatusV3MsgNotFound"));t.StatusV3MsgNotFound=y;t.default=function e(t,a){var n=this;if((0,o.default)(this,e),this.printInfo=function(){n.statuses.forEach((function(e){__LOG__(2)(j(),e.totalCount,e.unreadCount,e.msgs.length)}))},this.getFirstUnread=function(e,t,a){var i=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==i){var r,o=n.statuses[i],d=o.readMsgKeys;return a?(r=o.msgs?o.msgs.findIndex((function(e){return a&&e.id.toString()===a.toString()})):-1)>=0?Promise.resolve({msgIdx:r,statusIdx:i}):Promise.reject(new E):-1===(r=o.msgs?o.msgs.findIndex((function(e){return!d.includes(e.id.toString())})):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(r=t?0:o.msgs.length-1,Promise.resolve({msgIdx:r,statusIdx:i})):-1!==r?Promise.resolve({msgIdx:r,statusIdx:i}):0===o.unreadCount&&t&&o.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:i}):n.fetchMore(e).then((function(){return n.getFirstUnread(e,t,a)})).catch((function(e){return __LOG__(3)(v(),String(e)),Promise.reject(new E)}))}return Promise.reject(new E)},this.hasNext=function(e){var t=n.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<n.statuses.length},this.getNext=function(e){var t=n.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)(b(),t.msgs.length,t.totalCount),Promise.reject(new E)):n.fetchMore(a).then((function(){return n.getNext(e)})).catch((function(t){if(__LOG__(3)(g(),String(t)),e.statusIdx+1<n.statuses.length){var a=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(a,!0)}return Promise.reject(new E)}));if(e.statusIdx+1<n.statuses.length){var i=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(i,!0)}return Promise.reject(new E)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(e){if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=n.statuses[e.statusIdx-1].statusV3;return n.getFirstUnread(t,!1)}return Promise.reject(new E)},this.statusAt=function(e,t){var a=n.statuses[e.statusIdx],i=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):i.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new E):n.fetchMore(i).then((function(){return n.statusAt(e,t)})).catch((function(e){return __LOG__(3)(m(),String(e)),Promise.reject(new E)}))},this.fetchMore=function(e){return Promise.loop((function(t,a,i){var r=Promise.delay(p.expBackoff(i,12e4,1e3,.1));return e.loadMore().then((function(){var a=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==a){var o=n.statuses[a],d=o.totalCount,l=o.unreadCount,f=e.msgs.getModelsArray().slice(0,d),h=f.slice(0,d-l),p=(0,u.default)(h,(function(e){return e.id.toString()}));o.msgs=f,o.readMsgKeys=(0,s.default)((0,c.default)(o.readMsgKeys,p)),t(!0)}else{if(!(i>=4))return r;t(!1)}})).catch((function(){if(!(i>=4))return r;t(!1)}))})).then((function(e){if(!e)throw new C}))},a){var i=t.msgs.getModelsArray().find((function(e){return a&&e.id.toString()===a.toString()}));if(!i)throw new y;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[i],readMsgKeys:[i.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var r=h.default.getUnexpired(!0),d=[];r.forEach((function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,n=t.slice(0,a),i=(0,u.default)(n,(function(e){return e.id.toString()}));d.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:i})}})),this.statuses=d}else{var l=t.msgs.getModelsArray(),f=t.totalCount-t.unreadCount,S=l.slice(0,f),_=(0,u.default)(S,(function(e){return e.id.toString()})),M=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:l,readMsgKeys:_}];this.statuses=M}this.printInfo()}},dfjfejdjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhehgiigij")),o=i(a("bacbhehedf")),d=n(a("bgabgddgch")),l=n(a("bgeajihhc")),c=i(a("bjieiiccce"));function s(e){return Promise.loop((function(t,a,n){var i=Promise.delay(d.expBackoff(n,6e4,void 0,.1));return(l.default.state===l.STATE.CONNECTED?Promise.resolve():(0,o.default)(l.default,"change:state",(0,r.default)({state:l.STATE.CONNECTED}))).then((function(){return e()})).then((function(e){if(e.status>=500&&e.status<600)return i;t(e)})).catch((function(){return i}))}))}var u={headRetry:function(e){return s((function(){return c.default.head(e)}))},getRetry:function(e,t){return s((function(){return c.default.get(e,t)}))},postRetry:function(e,t){return s((function(){return c.default.post(e,t)}))}};t.default=u},dfjhjafaab:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return"".concat("https://www.whatsapp.com/legal/","?lg=").concat(i.default.getLocale())},t.TOS_BASE_URL=void 0;var i=n(a("bdjjabfecc"));t.TOS_BASE_URL="https://www.whatsapp.com/legal/"},dgaefbheia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("bhcgjhdbdj")),f=a("eajdbbfgfg"),h=i(a("bijffg")),p=i(a("ecbbjjjhh")),m=i(a("ebddggeaib")),g=i(a("gfgihaeab")),b=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;return(0,o.default)(this,a),(e=t.call(this)).refLastLabel=null,e.updateData=function(t,a,n){var i=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:h.default.toArray()},(function(){if(n.add&&i){var a=i(t.name),r=a.shouldScrollIntoView,o=a.shouldSelect;r&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),o&&e.onMultiSelect(t,!0,!1)}}))},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,a,n){var i=e.props,r=i.selectedLabels,o=i.onMultiSelect;r&&r.setVal(t,a,n),o&&o(t.id)},e.renderLabelRow=function(){var t=e.props,a=t.renderContext,n=t.onLabelClick,i=t.initialLabelState,o=void 0===i?{}:i,d=e.props.SelectableState||new g.default(!0);return e.state.labels.reduce((function(t,i,l){var c=h.default.assertGet(i.id);if(!i.name)return t;var m="label-selection"===a||(0,f.canEditLabel)()?s.createElement(u.default,{theme:a,model:c,initialSelection:o[i.id]||0,multiSelection:e.props.selectedLabels,selectableState:d,onSelect:e.onMultiSelect},s.createElement(p.default,{label:i.id})):s.createElement(p.default,{label:i.id,theme:a});return[].concat((0,r.default)(t),[s.createElement("div",{key:"label_item_".concat(i.id),ref:l===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:n?n.bind(null,i.id):function(){}},m)])}),[])},e.state={labels:h.default.toArray()},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"add remove",this.updateData)}},{key:"render",value:function(){return s.createElement("div",null,this.renderLabelRow())}}]),a}(s.PureComponent),v=(0,m.default)(b);t.default=v},dgffihajaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.RETRY_OPTIONS=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("bebajedcaf")),s=n(a("ddhijeejag")),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=i(a("bjjhgjdbhd")),p=i(a("ggefijcjf")),m=i(a("dacaegbbf")),g=i(a("djaiggcdb")),b=i(a("bdjjabfecc")),v=i(a("ebddggeaib")),j=i(a("dcdefbibje")),E=i(a("dhdeebadad")),C=n(a("difhgjjfcb")),y=i(a("cehjgabfic")),S=i(a("deffjjfcba")),_=i(a("dgdcjccfdi")),M=a("dfjhjafaab"),I=i(a("edbaidcaf")),k=i(a("didfdhbecg")),T={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=T;var P=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onDoneEditing=function(){var e=n.state.editedMedia;n.saveCanvas(),n.refProfileCropTool&&n.refProfileCropTool.getComponent().crop().then((function(t){var a=t.thumb,i=t.full;n.props.onFinished(a,i),e.cleanUp()}))},n.onObjectLoad=function(e){if(e&&e instanceof HTMLElement){var t={};!n.state.editorSize||n.state.editorSize.width===e.clientWidth&&n.state.editorSize.height===e.clientHeight||(t.editorSize={width:e.clientWidth,height:e.clientHeight}),n.state.loaded||(t.loaded=!0),(0,c.default)(t)||n.setState(t)}},n.setRefMediaEditCanvas=function(e){n.mediaEditCanvas=e},n.setRefProfileCropTool=function(e){n.refProfileCropTool=e},n.drawCanvas=function(e,t){n.mediaEditCanvas&&n.mediaEditCanvas.drawCanvas(e,t)},n.saveCanvas=function(){n.mediaEditCanvas&&n.mediaEditCanvas.saveCanvas()},n.updateCanvasSize=function(e,t){n.mediaEditCanvas&&n.mediaEditCanvas.updateCanvasSize(e,t)},n.onCanvasInitialized=function(){n.forceUpdate()},n.state={doneEditing:!1,loaded:!1,editorSize:{width:500,height:361},editedMedia:new m.default(e.img)},n.mediaEditController=new E.default,n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.mediaEditController,"change:isInitialized",this.onCanvasInitialized)}},{key:"render",value:function(){var e,t=this.props,a=t.attributionUrl,n=t.onRetake,i=t.retryText,r=this.state.loaded?s.createElement("div",{className:p.default.btnSend,key:"btn-send"},s.createElement(S.default,{large:!0,onClick:this.onDoneEditing},s.createElement(_.default,{name:"checkmark-large"}))):null;this.mediaEditController.isInitialized&&(e=s.createElement(y.default,{editedMedia:this.state.editedMedia,stage:this.mediaEditController.stage,cropOverlay:this.mediaEditController.cropOverlay,mediaContainer:this.mediaEditController.mediaContainer,drawCanvas:this.drawCanvas,ref:this.setRefProfileCropTool}));var o,d=s.createElement(j.default,{className:p.default.mediaElement,editedMedia:this.state.editedMedia,mediaEditController:this.mediaEditController,fitType:C.FIT_TYPE.COVER,ref:this.setRefMediaEditCanvas});if(n){var l;switch(i){case T.NONE:l=null;break;case T.RETAKE:l=b.default.t(1161);break;case T.RESTART:default:l=b.default.t(1170)}o=s.createElement("div",{className:p.default.retake,onClick:n},s.createElement("div",{className:p.default.retakeIcon},s.createElement(_.default,{name:"return"})),l)}var c=a?s.createElement("div",{className:p.default.attribution},s.createElement(g.default,{className:p.default.attributionLink,href:a},I.default.hostname(a)),s.createElement("span",null,b.default.t(756),"",s.createElement(g.default,{href:(0,M.getTosUrl)()},b.default.t(762)))):null,m=s.createElement("div",{className:p.default.footer},s.createElement(k.default,{transitionName:"btn"},r),c),v=this.props.imageSize?this.props.imageSize:{width:500,height:361};return s.createElement(u.default,{key:"attach-edit-modal",theme:"edit"},s.createElement(h.default,{title:b.default.t(196),type:"offset",onCancel:this.props.onCancel},o),s.createElement(f.default,{overflow:"hidden"},s.createElement("div",{className:p.default.mediaBody},e,s.createElement("div",{className:p.default.containerBackground},s.createElement(k.default,{transitionName:"capture"},s.createElement(C.default,{type:C.FIT_TYPE.COVER,size:v,onObjectLoad:this.onObjectLoad},d)))),m))}}]),a}(s.Component),L=P;t.Component=L;var w=(0,v.default)(P);t.default=w},dggddfhei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bdjjabfecc")),u=i(a("ebddggeaib")),f=i(a("diffaiehid")),h=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onUpdate=function(e){n.setState({timestampText:n.getTimestampText(e)})},n.state={timestampText:n.getTimestampText(e.participant)},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.participant;e.isMe?this.props.listeners.add(e,"change:expiration",this.onUpdate):this.props.listeners.add(e,"change:lastUpdated",this.onUpdate);var t=this.getTime(e);this.setTimeoutForNextMinute(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.participant,a=e.participant;if(t.expiration!==a.expiration&&t.lastUpdated!==a.lastUpdated){null!=this.timeoutId&&this.props.clearTimeout(this.timeoutId),null!=this.intervalId&&this.props.clearInterval(this.intervalId);var n=this.getTime(t);this.setTimeoutForNextMinute(n)}}},{key:"getTimestampText",value:function(e){return e.isMe?this.remainingTimeText(e.remainingTime()):this.elapsedTimeText(e.elapsedTime())}},{key:"getTime",value:function(e){return e.isMe?e.remainingTime():e.elapsedTime()}},{key:"setTimeoutForNextMinute",value:function(e){var t=this;this.timeoutId=this.props.setTimeout((function(){t.setState({timestampText:t.getTimestampText(t.props.participant)}),t.setIntervalForEveryMinute()}),e%60*1e3)}},{key:"setIntervalForEveryMinute",value:function(){var e=this;this.intervalId=this.props.setInterval((function(){e.setState({timestampText:e.getTimestampText(e.props.participant)})}),6e4)}},{key:"elapsedTimeText",value:function(e){var t=this.toHoursAndMinutes(e),a=t.hours,n=t.minutes;return a>0?n>0?s.default.t(825,{hours:a,minutes:n}):s.default.t(824,{hours:a,_plural:a}):n>0?s.default.t(827,{minutes:n,_plural:n}):s.default.t(826)}},{key:"remainingTimeText",value:function(e){var t=this.toHoursAndMinutes(e,!0),a=t.hours,n=t.minutes;return a>0?n>0?s.default.t(812,{hours:a,minutes:n}):s.default.t(811,{hours:a,_plural:a}):s.default.t(813,{minutes:n,_plural:n})}},{key:"toHoursAndMinutes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;t&&(a+=59);var n=3600,i=Math.floor(a/n),r=a%n,o=Math.floor(r/60);return{hours:i,minutes:o}}},{key:"render",value:function(){return c.createElement("span",null,this.state.timestampText)}}]),a}(c.Component),p=(0,u.default)((0,f.default)(h));t.default=p},dhajefgece:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={q:e,SafeSearch:"Strict",appid:c,mkt:f[o.default.getLocale()]||f.en,size:u,aspect:s,count:a,offset:t},i=d.default.build("https://www.bingapis.com/api/v6/images/search",n);return l.default.get(i,l.default.RESP_TYPE.JSON).then((function(t){if(!t.response.hasOwnProperty("_type"))throw new r.InvalidServerResponseError(i,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new r.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new r.InvalidServerResponseError(i,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response}))};var r=i(a("cajijabhgb")),o=n(a("bdjjabfecc")),d=n(a("edbaidcaf")),l=n(a("bjieiiccce")),c="D41D8CD98F00B204E9800998ECF8427E4F4A7492",s="Square",u="Medium",f={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"}},dhdeebadad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("dcaifjegcg")),s=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).stage=(0,c.prop)(),e.cropOverlay=(0,c.prop)(),e.mediaContainer=(0,c.prop)(),e.isInitialized=(0,c.derived)(e._isInitialized,["stage","cropOverlay","mediaContainer"]),e}return(0,o.default)(a,[{key:"_isInitialized",value:function(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}},{key:"clearStage",value:function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}]),a}(c.default),u=(0,c.defineModel)(s);t.default=u},dhibhgiihj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bfgbdiffgd"));function d(e){return Math.min(e,o.default.statusVideoMaxDuration)}var l=function(){function e(){var t=this;(0,i.default)(this,e),this.addListeners=function(e,a,n){t._onStart=e,t._onPause=a,t._onEnded=n},this.setVideo=function(e){t._video!==e&&(t.unsetVideo(),t._video=e,null!=e&&(e.addEventListener("playing",t._onPlayingHandler),e.addEventListener("pause",t._onPauseHandler),e.addEventListener("ended",t._onEndedHandler),e.addEventListener("timeupdate",t._onTimeUpdate)))},this.unsetVideo=function(){var e=t._video;e&&(t.stop(),e.removeEventListener("playing",t._onPlayingHandler),e.removeEventListener("pause",t._onPauseHandler),e.removeEventListener("ended",t._onEndedHandler),e.removeEventListener("timeupdate",t._onTimeUpdate))},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._video;if(null!=e){var a=t._onStart;if(a){var n=d(e.duration);a(1e3*(n-e.currentTime),1e3*n)}}},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this._onTimeUpdate=function(){var e,a=null===(e=t._video)||void 0===e?void 0:e.currentTime;if(null!=a&&a>=o.default.statusVideoMaxDuration){t.stop(),t._onEndedHandler();var n=t._video;n&&(n.removeEventListener("timeupdate",t._onTimeUpdate),n.removeEventListener("ended",t._onEndedHandler))}},this.removeListeners=function(){t.stop(),t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return(0,r.default)(e,[{key:"duration",get:function(){return null==this._video?0:1e3*d(this._video.duration)}}]),e}();t.default=l},dhiecjhe:function(e,t){e.exports={container:"_3RIGr",preview:"_1CfJq",caption:"_1xuvS",img:"_2Qc7p"}},dhigcdiaid:function(e,t,a){e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},diddacjbhj:function(e,t){e.exports={panel:"_6_Lyj",tileContainer:"_3C2Xq",imageTile:"VdazA",imageThumb:"_1w_dS",btnDelete:"_28PVo",btnAdd:"_3hBqy",btnAddContainer:"_2keOd",btnAddText:"_2ORGb",errorMessage:"_3NrCS"}},dieaaaeidb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("djecdhecha")),c=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=i(a("eaaagccfda")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("jigjfjjij")),m=i(a("dbdfbgehgj")),g=i(a("cfadcbbiie")),b=i(a("ccbgfecegc")),v=i(a("hgigjbgie")),j=i(a("hhcjfgifh")),E=i(a("gfebgebbi")),C=n(a("cajijabhgb")),y=i(a("ddajbaceej")),S=i(a("djifeiaaea")),_=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bhbcdbjdeg")),k=a("gaifbabbj"),T=i(a("bdjjabfecc")),P=i(a("ebddggeaib")),L=i(a("dcjigehfeb")),w=i(a("chihecbaj")),N=i(a("bdcchebfge")),A=n(a("difhgjjfcb")),D=i(a("dhccahhefj")),R=i(a("ecdebjcgfa")),O=i(a("dcdbbhicce")),x=i(a("bfffjiagfi")),U=a("eaaffccdb"),F=i(a("cbggbjhahe")),B=i(a("cdhjbegegf")),V=i(a("cgjdibiahi")),G=a("bficeagfg"),H=i(a("cdhbehgbej"));function W(){var e=(0,r.default)(["Invalid status v3 image type: ",""]);return W=function(){return e},e}var Y=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){var e;return(0,o.default)(this,a),(e=t.apply(this,arguments)).refProgressBar=h.createRef(),e.refProgressBarComponent=h.createRef(),e.refMeasuringProfile=h.createRef(),e.refWrapper=h.createRef(),e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var a=(0,l.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){var t=e.refMeasuringProfile&&e.refMeasuringProfile.current,a=e.refProgressBar&&e.refProgressBar.current;if(t&&a){var n=t.getBoundingClientRect(),i=a.getBoundingClientRect();!T.default.isRTL()&&n.right>i.left-5||T.default.isRTL()&&n.left<i.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;m.default.find(t).then((function(e){return b.default.openChatBottom(e)})).then((function(){e.props.closeStatusViewer(!0)}))},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==L.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var a=e.composeBox;a&&a.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===L.default.STAGE.RESOLVED){var a=(0,l.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(){e.pause()},e.onMouseUp=function(){e.play()},e.dismissReply=function(){var t=e.refWrapper&&e.refWrapper.current;t&&y.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,U.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new N.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.statusV3,n=t.msg,i=t.mediaData,r=t.msgIdx,o=t.sessionId;if(null!=o){var d;d=a.contact.isMe?N.default.WEBC_STATUS_ROW_SECTION.MY:a.contact.statusMute?N.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?N.default.WEBC_STATUS_ROW_SECTION.RECENT:N.default.WEBC_STATUS_ROW_SECTION.VIEWED;var l,c=this.props.rowIdx||0,s=a.msgs.length-1-r<a.unreadCount;i?l=i.isGif?N.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===i.type?N.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:N.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(l=n.getLinks().length?N.default.WEBC_STATUS_MEDIA_TYPE.URL:N.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=o,this.statusViewEvent.webcStatusRowSection=d,this.statusViewEvent.webcStatusRowIndex=c,this.statusViewEvent.webcStatusMediaType=l,this.statusViewEvent.webcStatusUnread=s}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners((function(t,a){var n=e.refProgressBarComponent&&e.refProgressBarComponent.current;n&&n.onStart(t,a)}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onPause()}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onEnded().checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.onNext()})).catchType(C.Unmount,(function(){}))})),i?(this.play(),i&&i.mediaStage===L.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,v.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var f=this.refWrapper&&this.refWrapper.current;f&&f.focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,u.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.msg,r=n.mediaData,o=n.statusV3;if(r&&r.preview)e={backgroundImage:"url(".concat(r.preview.url(),")")};else if(i.type===v.default.MSG_TYPE.CHAT){e={backgroundColor:i.statusV3TextBg}}if(r)switch(r.type){case L.default.TYPE.IMAGE:t=h.createElement(K,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case L.default.TYPE.VIDEO:t=h.createElement(Z,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:__LOG__(3)(W(),r.type)}else t=i.type===v.default.MSG_TYPE.CHAT?h.createElement(X,{msg:i,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):h.createElement(J,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var d,l=h.createElement("div",{ref:this.refProgressBar},h.createElement(B.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));i.type!==v.default.MSG_TYPE.CHAT&&(d=h.createElement("div",{className:F.default.captionBackdrop},h.createElement(E.default,{className:F.default.mediaCaption,text:i.caption,formatters:k.Configuration.StatusV3Caption()})));var c,s,u=(0,f.default)(F.default.profile,{[F.default.nonClickProfile]:i.isSentByMe,[F.default.profileNarrow]:this.state.narrow}),p=(0,f.default)(F.default.profile,F.default.measuringProfile,{}),m=h.createElement("div",{className:u,onClick:i.isSentByMe?null:this.onClickProfile},h.createElement("div",{className:F.default.playerAvatar},h.createElement(j.default,{id:o.contact.id,theme:"status_v3",size:40})),h.createElement("div",{className:F.default.msgInfo},h.createElement(E.default,{className:F.default.msgInfoName,text:o.contact.formattedName}),h.createElement("div",{className:F.default.timestamp},g.default.relativeDateAndTimeStr(i.t)))),b=h.createElement("div",{ref:this.refMeasuringProfile,className:p},h.createElement("div",{className:F.default.playerAvatar},h.createElement(j.default,{id:o.contact.id,theme:"status_v3",size:40})),h.createElement("div",{className:F.default.msgInfo},h.createElement(E.default,{className:F.default.msgInfoName,text:o.contact.formattedName}),h.createElement("div",{className:F.default.timestamp},g.default.relativeDateAndTimeStr(i.t)))),C={tab:this.onTab,"shift+tab":this.onTab},y=function(e){return e.stopPropagation()};r&&(c=h.createElement($,{mediaData:r})),this.props.statusV3.contact.isMe||(s=h.createElement(M.default,{handlers:{left:y,right:y}},h.createElement(x.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,_.GetRef)("composeBox",this)})));var S,I=(0,f.default)(F.default.playerBackground,{[F.default.media]:r}),T=(0,f.default)(F.default.progressBackdrop,{[F.default.progressBarBackdropNarrow]:this.state.narrow});return i.type!==v.default.MSG_TYPE.CHAT&&(S=h.createElement("div",{className:T})),h.createElement(V.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(e){e||a.props.closeStatusViewer()},requestFocus:this.dismissReply},h.createElement(M.default,{handlers:C},h.createElement("div",{className:F.default.playerWrapper,key:i.id.toString(),tabIndex:-1,ref:this.refWrapper},b,m,S,l,d,h.createElement("div",{className:I,style:e}),t,c,s)))}}]),a}(h.Component),z=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._renderImage=function(t){var a=e.props,n=a.msg,i=a.mediaData,r=(0,f.default)(F.default.playerContent,F.default.v3Image);return h.createElement("div",{className:r,onMouseDown:e.props.onMouseDown,onMouseUp:e.props.onMouseUp,onDragEnd:e.props.onMouseUp},h.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:i.fullWidth,height:i.fullHeight}},h.createElement("div",{className:F.default.mediaViewer},h.createElement(I.default,{src:t,disableContextMenu:!0}),n&&n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&h.createElement(p.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:e.props.onMouseDown,onTooltipDismiss:e.props.onMouseUp}))))},e._renderPreviewImage=function(){var t=e.props.mediaData,a=(0,f.default)(F.default.playerContent,F.default.v3Image,F.default.loading);return h.createElement("div",{className:a,onMouseDown:e.props.onMouseDown,onMouseUp:e.props.onMouseUp},h.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:t.aspectRatio,height:1}},h.createElement(I.default,{src:t.preview&&t.preview.url()})))},e._downloadMedia=function(){return e.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.STATUS_V3)},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==L.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===L.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){return h.createElement(w.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0},this._renderImage)}}]),a}(h.PureComponent);z.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]};var K=(0,O.default)(z,z.CONCERNS),q=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).refVideo=h.createRef(),e.setRefVideo=function(t){e.refVideo=t,e.props.playbackController.setVideo(e.refVideo.current)},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia(!0,N.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===L.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=e.onMouseDown,i=e.onMouseUp,r=a.mediaStage!==L.default.STAGE.RESOLVED,o=(0,f.default)(F.default.playerContent,F.default.v3Video,{loading:r}),d=a.preview?a.preview.url():void 0;return h.createElement("div",{className:o,onMouseDown:n,onMouseUp:i},h.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:a.fullWidth,height:a.fullHeight}},h.createElement("div",{className:F.default.mediaViewer},h.createElement(H.default,{msg:t,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:d,disableContextMenu:!0},T.default.t(1374)),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&h.createElement(p.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}]),a}(h.PureComponent);q.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable"]};var Z=(0,O.default)(q,q.CONCERNS),X=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"componentDidMount",value:function(){S.default.load(this.props.msg.font).catch((function(){}))}},{key:"render",value:function(){var e,t,a=(0,G.numCodepoints)(this.props.msg.body),n={[F.default["font_".concat(this.props.msg.font)]]:!0};return a<=60?(e=(0,f.default)(F.default.text,F.default.textLarge,n),t=k.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,f.default)(F.default.text,F.default.textMedium,n),t=k.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,f.default)(F.default.text,F.default.textSmall,n),h.createElement("div",{className:(0,f.default)(F.default.playerContent,{[F.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[F.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[F.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},h.createElement("div",{className:e},h.createElement(E.default,{text:this.props.msg.body,formatters:t})))}}]),a}(h.PureComponent);t.StatusV3Text=X;var J=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"render",value:function(){return h.createElement("div",{className:F.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},h.createElement("div",{className:F.default.unknown},T.default.t(1269)))}}]),a}(h.PureComponent),Q=function(e){(0,c.default)(a,e);var t=(0,s.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==L.default.STAGE.RESOLVED?h.createElement("div",{className:F.default.mediaStateControls},h.createElement("button",{className:"icon-media-disabled"},h.createElement(R.default,{size:50,stroke:4,color:"white"}))):null}}]),a}(h.Component);Q.CONCERNS={mediaData:["mediaStage"]};var $=(0,O.default)(Q,Q.CONCERNS),ee=(0,D.default)((0,P.default)(Y));t.default=ee},dihjjfjaca:function(e,t){e.exports={versionInfo:"ez9g0"}},diibfjicfe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushnameLocally=function(e){i.default.pushname=e,(0,r.setPushname)(e)};var i=n(a("bjigbaghc")),r=a("ddbdgibbbi")},dijgefdehc:function(e,t){e.exports={title:"_373-F",text:"_1b_tc",icon:"_2o6B-"}},djdjdgjjdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bjhdcidgah")),u=n(a("djbghdgcj")),f=i(a("ccbgfecegc")),h=i(a("bibjjjghee")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=i(a("cciafahdib")),b=n(a("bjjhgjdbhd")),v=a("djaiggcdb"),j=a("facgccaif"),E=i(a("bhbdiadfhj")),C=i(a("dbdjeddfia")),y=i(a("djbjbichdf")),S=i(a("bdjjabfecc")),_=i(a("jabfchggf")),M=i(a("bdcchebfge")),I=i(a("djiecjceea")),k=a("dfjhjafaab"),T=i(a("jajhhaah")),P={id:"animated-doodle",selectors:[".".concat(C.default.animation)],low:{default:s.default},high:{default:s.default}},L=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).openTime=-1,e.actionsTaken=!1,e.onTOS=function(){e.actionsTaken=!0,(0,v.openExternalLink)((0,k.getTosUrl)())},e.onFAQ=function(){(0,v.openExternalLink)((0,j.getFaqUrl)()),e.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.FAQ)},e.onContactUs=function(){f.default.openModal(E.default.supportsFeature(E.default.F.SUPPORT)?c.createElement(h.default,{onCancel:e.onContactUsCancel}):c.createElement(I.default,{onCancel:e.onContactUsCancel,onSend:e.onContactUsSend}))},e.onLicenses=function(){f.default.openModal(c.createElement(_.default,{onOk:e.onLicensesOk}))},e.onContactUsCancel=function(){e.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},e.onContactUsSend=function(t){e.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.EMAIL_SEND,t)},e.onLicensesOk=function(){},e.onKeyboardShortcuts=function(){f.default.openModal(c.createElement(y.default,null))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),u.default.loadAsset(P,u.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var a=new M.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}},{key:"render",value:function(){var e;return E.default.supportsFeature(E.default.F.LICENSES_PAGE)&&(e=c.createElement(g.default,{a8nText:"li-licenses",onClick:this.onLicenses},S.default.t(790))),c.createElement(p.default,null,c.createElement(b.default,{a8n:"drawer-title-help",title:S.default.t(749),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),c.createElement(m.default,null,c.createElement("div",{className:C.default.animation}),c.createElement(T.default,{className:C.default.versionInfo}),c.createElement(g.default,{a8nText:"li-faq",onClick:this.onFAQ},S.default.t(1704)),void 0,c.createElement(g.default,{a8nText:"li-contact-us",onClick:this.onContactUs},S.default.t(1232)),e,c.createElement(g.default,{a8nText:"li-tos",onClick:this.onTOS},S.default.t(1304)),void 0,void 0))}}]),a}(c.Component);t.default=L},djgcaefhci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("hgigjbgie")),f=i(a("hhcjfgifh")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=i(a("gfebgebbi")),b=i(a("jggdejhae")),v=i(a("bdjjabfecc")),j=i(a("dgjfidhijd")),E=i(a("cbdjcijgja")),C=i(a("dhefcajhhb")),y=i(a("dhccahhefj")),S=i(a("deffjjfcba")),_=i(a("dgdcjccfdi")),M=i(a("dbihaeaggd")),I=i(a("didfdhbecg")),k=i(a("bjieiiccce")),T=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isBusy:!1,inviteComment:v.default.t(710)},e.setRefParticipantList=function(t){e.refParticipantList=t},e.onClose=function(){(0,e.props.onClose)()},e.getGroupThumbBase64=function(){var t=e.props.gid,a=C.default.get(t);return new Promise((function(e){a&&a.img?k.default.get(a.img,k.default.RESP_TYPE.BLOB).then((function(t){if(200===t.status){var a=new FileReader;a.onloadend=function(){var t=a.result;if(null!=t){var n=t.toString().split(",")[1];e(n)}else e(void 0)},a.readAsDataURL(t.response)}else e(void 0)})).catch((function(){return e(void 0)})):e(void 0)}))},e.onSend=function(){var t=e.props.onSend,a=e.state.inviteComment;e.getGroupThumbBase64().then((function(e){t(a,e)}))},e.onInviteCommentChange=function(t){e.setState({inviteComment:t})},e.setRefEmojiInput=function(t){e.refEmojiInput=t},e}return(0,o.default)(a,[{key:"render",value:function(){var e=c.createElement(S.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},c.createElement(_.default,{name:"send",directional:!0})),t=c.createElement(f.default,{id:this.props.gid}),a=c.createElement(g.default,{text:this.props.subject});return c.createElement(j.default,{type:"invite"},c.createElement(h.default,{theme:"invite"},c.createElement(m.default,{type:m.DRAWER_HEADER_TYPE.POPUP,title:v.default.t(720),onCancel:this.onClose}),c.createElement(p.default,null,c.createElement("div",{className:b.default.search},c.createElement("div",{"data-list-scroll-container":!0},c.createElement(E.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map((function(e){return e.contact}))}))),c.createElement("div",{className:b.default.commentInput},c.createElement(M.default,{a8n:"groups-v4-invite-add-comment-input",ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:u.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),c.createElement(I.default,{transitionName:"btn",className:b.default.onSendInvite},e),c.createElement("div",{className:b.default.groupInfo},c.createElement(s.default,{idle:!0,image:t,primary:a,secondary:v.default.t(715),theme:"group_v4_invite"})))))}}]),a}(c.Component),P=(0,y.default)(T);t.default=P},djhaaeddde:function(e,t){e.exports={more:"_3MxH4",hotKeyWraper:"_2XBFW"}},djifeiaaea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("cdfdfciehj")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=a("cabeijgaif"),l=a("dhigcdiaid"),c={};c[d.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},c[d.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},c[d.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},c[d.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},c[d.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var s={};s[d.ExtendedTextMessageFontType.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'.concat(l,'") format("truetype");}');var u=new(function(){function e(){(0,r.default)(this,e),this.loadedFonts={},this.loadingPromise={}}return(0,o.default)(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var a=c[e],n=s[e],r=(n?new Promise((function(e,t){var a=document.createElement("style");a.appendChild(document.createTextNode(n)),a.onload=e,a.onerror=t,document.head&&document.head.appendChild(a)})):Promise.resolve()).then((function(){return new Promise((function(n,r){var o=(0,i.default)((0,i.default)({},a),{},{active:function(){t.loadedFonts[e]=!0,n()},inactive:function(){t.loadingPromise[e]=void 0,r("Failed to load font: "+e)}});WebFont.load(o)}))}));return this.loadingPromise[e]=r,r}},{key:"loadAllFonts",value:function(){var e=this;return Promise.all(Array.from(d.ExtendedTextMessageFontType.members()).map((function(t){return e.load(t)})))}}]),e}());t.default=u},djihccehdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("defdgchjjh")),u=i(a("bdeebiagii")),f=a("cjahggceac"),h=a("difhgjjfcb"),p=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).sendMedia=function(t){var a=t.getImg,n=t.caption,i=t.mentionedJidList,r=e.props.chat,o=r.composeQuotedMsg;r.composeQuotedMsg=null;var d=r.getComposeContents().ctwaContext||void 0;(0,f.prepRawMedia)(a,{}).sendToChat(r,{caption:n,mentionedJidList:i,quotedMsg:o,ctwaContext:d}),e.props.onCaptureSent(),e.end()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.push(c.createElement(s.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:h.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),a}(u.default);t.default=p},djjcfcigdi:function(e,t){e.exports={disabled:"Abvb-",title:"K_bwx"}},eaaffccdb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===c.default.TYPE.IMAGE){var a=4500;return(0,d.default)(t.caption)||(a+=2e3*Math.min(t.caption.length/150,1)),new h(a)}return e.type===c.default.TYPE.VIDEO?t.isGif?new p:new s.default:new h(3e3)}if(t.type===l.default.MSG_TYPE.CHAT){var n=2e3+60*Math.min(t.body.length,1e3);return new h(n)}return new h(3e3)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var i=n(a("dfadhaifh")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=n(a("bebajedcaf")),l=n(a("hgigjbgie")),c=n(a("dcjigehfeb")),s=n(a("dhibhgiihj"));function u(){var e=(0,i.default)(["Timer stop called on stopped timer"]);return u=function(){return e},e}function f(){var e=(0,i.default)(["Duplicate timer start"]);return f=function(){return e},e}var h=function(){function e(t){var a=this;(0,r.default)(this,e),this.addListeners=function(e,t,n){a._onStart=e,a._onPause=t,a._onEnded=n},this.removeListeners=function(){a._onStart=void 0,a._onPause=void 0,a._onEnded=void 0},this.play=function(){if(a._timer)__LOG__(1)(f());else{a._timer=setTimeout(a._onTimeup,a._timeout),a._start=(new Date).getTime();var e=a._onStart;e&&e(a._timeout,a._duration)}},this.stop=function(){if(a._timer){clearTimeout(a._timer),a._timer=null;var e=(new Date).getTime();a._timeout-=e-a._start;var t=a._onPause;t&&t()}else __LOG__(1)(u())},this.resume=function(){a.play()},this.pause=function(){a.stop()},this._onTimeup=function(){var e=a._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return(0,o.default)(e,[{key:"duration",get:function(){return this._duration}}]),e}();t.StatusV3CountdownController=h;var p=function(){function e(){var t=this;(0,r.default)(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,a){t._video!==e&&(t._video=e,null!=a&&(t._duration=a),t._videoController.setVideo(e))},this._onVideoStartHandler=function(){var e=t._video;if(null!=e){var a=t._onStart,n=e.duration||t._duration,i=Math.max(3*n*1e3,6e3);a&&a(i-1e3*n*t._playCounter-1e3*e.currentTime,i)}},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){var e=t._video;if(null!=e){t._playCounter++;var a=t._onEnded;3===t._playCounter&&(t._videoEnded=!0,t._timerEnded&&a&&a()),e.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout((function(){t._videoController.play()}),0)}},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new h(6e3),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return(0,o.default)(e,[{key:"addListeners",value:function(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}},{key:"duration",get:function(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,6e3)}}]),e}();t.StatusV3GifController=p},eabhbddaei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),m=a("eajdbbfgfg"),g=i(a("bdjjabfecc")),b=i(a("cbddigijbj")),v=a("dcfieddiah"),j=i(a("ebddggeaib")),E=i(a("bdcchebfge")),C=i(a("bhgjeaceh")),y=i(a("dgaefbheia")),S=i(a("dceicchccd")),_=i(a("deffjjfcba")),M=i(a("dgdcjccfdi")),I=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).onMultiSelect=function(){var t=e.multiSelection.getSelected().length;e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){s.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,t.length,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),s.default.openModal(c.createElement(u.default,{title:g.default.t(489,{_plural:t.length}),okText:g.default.t(1763),cancelText:g.default.t(1630),onCancel:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),s.default.closeModal()},onOK:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,E.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.multiSelection=new S.default([],(function(e){return e.id})),e.state={selectedCount:0},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,void 0,E.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;e=this.state.selectedCount>0?c.createElement(C.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):c.createElement(p.default,{title:g.default.t(787),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE});var t=(0,m.canEditLabel)()&&c.createElement("div",{className:b.default.addLabelBtContainer},c.createElement(_.default,{large:!0,onClick:this.props.openAddLabel},c.createElement(M.default,{name:"plus-large"})));return(c.createElement(f.default,{theme:"settings"},e,c.createElement(h.default,null,c.createElement(y.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContext:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),t))}}]),a}(c.PureComponent),k=(0,j.default)(I);t.default=k},eadddjbjhg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("biheibdage")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=a("cfffidafid"),m=n(a("cajijabhgb")),g=i(a("bdjjabfecc")),b=a("cjahggceac"),v=i(a("dcjigehfeb")),j=a("cbcbdjdah"),E=i(a("dcdjgccech")),C=i(a("diddacjbhj")),y=i(a("dchhjffcdj")),S=i(a("dhccahhefj")),_=i(a("dgdcjccfdi")),M=n(a("bjhgigfbec")),I=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(e){var n;(0,o.default)(this,a),(n=t.call(this,e)).onAddFileClick=function(){n.refInput&&n.refInput.click()},n.onFilePick=function(e){(0,p.getFiles)(e).then((function(e){e.slice(0,n.props.maxImageCount-n.state.images.length).map((function(e){return{file:e,filename:e.name,mimetype:e.type,type:j.TYPE.PRODUCT}})).map((function(e){var t,a=new u.default({file:Promise.resolve(e)});return null===(t=a.processPromise)||void 0===t?void 0:t.then((function(){n.appendImage(a)}))}))})).checkpoint(n.props.rejectOnUnmount()).catchType(m.Unmount,(function(){})),e.target&&e.target.value&&(e.target.value="")},n.uploadImages=function(){var e=n.state.images.filter((function(e){return null==e.url})).map((function(e){return(0,b.uploadProductImage)(e.mediaData.mediaBlob,e.mediaData.filehash).then((function(t){e.url=t}))}));return Promise.all(e).then((function(){return n.state.images.map((function(e){return e.url||""}))}))},n.setRefInput=function(e){n.refInput=e};var i=e.product.imageCdnUrl?[{url:e.product.imageCdnUrl.rawUrl,mediaData:e.product.imageCdnUrl.productImageModel.mediaData}].concat((0,r.default)(e.product.additionalImageCdnUrl.map((function(e){return{url:e.rawUrl,mediaData:e.productImageModel.mediaData}})))):[];return n.state={images:i},n}return(0,d.default)(a,[{key:"appendImage",value:function(e){var t=this;e.mediaPrep.waitForPrep().then((function(a){if(t.validateImage(a)){a.mediaStage=v.default.STAGE.RESOLVED,a.renderableUrl=e.fullPreview;var n=a.mediaBlob;!n||n instanceof E.default||E.default.createFromData(n,n.type).then((function(e){a.mediaBlob=e})),t.setState({images:[].concat((0,r.default)(t.state.images),[{url:null,mediaData:a}])}),t.props.onChange&&t.props.onChange(t.state.images)}}))}},{key:"validateImage",value:function(e){return!(this.state.images.filter((function(t){return t.mediaData.filehash===e.filehash})).length>0)||(f.default.openToast(s.createElement(M.default,{id:(0,M.genId)(),msg:g.default.t(595)})),!1)}},{key:"deleteImage",value:function(e){var t=this.state.images.filter((function(t){return t!==e}));this.setState({images:t}),this.props.onChange&&this.props.onChange(t)}},{key:"renderTiles",value:function(){var e=this;return this.state.images.filter((function(e){return e.mediaData})).map((function(t){return s.createElement("div",{key:t.mediaData.filehash,className:C.default.imageTile},s.createElement("div",{className:C.default.btnDelete,onClick:function(){return e.deleteImage(t)},role:"button"},s.createElement(_.default,{name:"x-alt"})),s.createElement(y.default,{mediaData:t.mediaData,className:C.default.imageThumb}))}))}},{key:"renderAddImageButton",value:function(){return this.state.images.length<this.props.maxImageCount?s.createElement("div",{className:C.default.btnAddContainer,onClick:this.onAddFileClick,role:"button"},s.createElement("div",{className:C.default.btnAdd},s.createElement(_.default,{name:"camera"}),s.createElement("div",{className:C.default.btnAddText},g.default.t(370)))):null}},{key:"renderFileInput",value:function(){return s.createElement("input",{ref:this.setRefInput,type:"file",accept:h.default.IMAGE_MIMES,style:{display:"none"},onChange:this.onFilePick,multiple:!0})}},{key:"renderErrorMessage",value:function(){return s.createElement("div",{className:C.default.errorMessage},this.props.error)}},{key:"render",value:function(){return s.createElement("div",{className:C.default.panel},s.createElement("div",{className:C.default.tileContainer},this.renderTiles(),this.renderAddImageButton(),this.renderFileInput()),this.renderErrorMessage())}}]),a}(s.Component),k=(0,S.default)(I);t.default=k},eafahcacji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).setRefCanvas=function(t){e.refCanvas=t},e}return(0,o.default)(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return c.createElement("canvas",{className:this.props.className,ref:this.setRefCanvas})}}]),a}(c.Component);t.default=s},eafijicig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("cfadcbbiie")),h=i(a("hgigjbgie")),p=a("bgihjbde"),m=n(a("cajijabhgb")),g=i(a("bhbdiadfhj")),b=i(a("bdjjabfecc")),v=i(a("ebddggeaib")),j=i(a("eigdejjai")),E=i(a("dhccahhefj")),C=i(a("ecdebjcgfa")),y=i(a("cjeffdedac")),S=a("dieaaaeidb"),_=i(a("dgdcjccfdi"));function M(){var e=(0,r.default)(["error while loading all out status: ",""]);return M=function(){return e},e}var I=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"render",value:function(){var e,t,a=s.createElement(T,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus});return g.default.supportsFeature(g.default.F.STATUS_V3_UI_SENDING)&&(e=s.createElement("div",{className:y.default.updateWrapper},s.createElement("div",{className:y.default.updateTitle},b.default.t(1270)),s.createElement("div",{className:y.default.uploadButtons},s.createElement("div",{className:y.default.buttonContainer},s.createElement(_.default,{name:"status-v3-upload",className:y.default.buttonIcon}),b.default.t(1271)),s.createElement("div",{className:y.default.buttonContainer},s.createElement(_.default,{name:"status-v3-camera",className:y.default.buttonIcon}),b.default.t(1257)))),t=s.createElement("hr",null)),s.createElement("div",{className:y.default.outStatusPanel},e,t,a)}}]),a}(s.Component),k=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).rerender=function(){e.forceUpdate()},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusV3,a=e.listeners;t&&(a.add(t,"change:msgsChanged",this.rerender),t.loadMore(t.totalCount).catch((function(e){__LOG__(3)(M(),String(e))})))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.listeners,n=t.statusV3,i=e.statusV3;i!==n&&(i&&a.remove(i,"change:msgsChanged",this.rerender),n&&a.add(n,"change:msgsChanged",this.rerender))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var a=t.msgs.map((function(a){return s.createElement(L,{key:a.id.toString(),msg:a,status:t,onOpenStatus:e.props.onOpenStatus})}));return(s.createElement("div",{className:y.default.viewWrapper},s.createElement("div",{className:y.default.viewTitle},b.default.t(1272)),s.createElement("div",{className:y.default.viewUpdates},a)))}return s.createElement("div",{className:y.default.viewWrapper},s.createElement("div",{className:y.default.placeholderIcon},s.createElement(_.default,{name:"status-v3-placeholder"})),s.createElement("div",{"data-a8n":u.default.key("status-placeholder"),className:y.default.placeholderText},b.default.t(1266)))}}]),a}(s.Component),T=(0,v.default)(k),P=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;return(0,o.default)(this,a),(e=t.apply(this,arguments)).state={},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;j.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(t){e.props.listeners.add(t.read,"add remove",(function(){e.setState({seenCount:t.read.length})})),e.setState({seenCount:t.read.length})})).catchType(m.Unmount,(function(){})).catchType(p.EphemeralDrop,(function(){}))}},{key:"render",value:function(){var e,t,a,n=this,i=this.props,r=i.msg,o=i.status,d=r.mediaData;if(d&&d.preview)e={backgroundImage:"url(".concat(d.preview.url(),")")};else if(r.type===h.default.MSG_TYPE.CHAT){e={backgroundColor:r.statusV3TextBg}}return r.type===h.default.MSG_TYPE.CHAT&&(t=s.createElement(S.StatusV3Text,{msg:r,theme:"status-panel"})),a=void 0!==this.state.seenCount?s.createElement(s.Fragment,null,s.createElement(_.default,{name:"status-v3-seen",className:y.default.iconSeen}),s.createElement("div",{className:y.default.seenCount},this.state.seenCount)):s.createElement(C.default,{stroke:3,size:12}),s.createElement("div",{className:y.default.outDetail},s.createElement("div",{className:y.default.statusImage,style:e,onClickCapture:function(e){n.props.onOpenStatus(o,r),e.preventDefault(),e.stopPropagation()}},t),s.createElement("div",{className:y.default.seen},a),s.createElement("div",{className:y.default.timestamp},f.default.relativeDateAndTimeStr(r.t)))}}]),a}(s.Component),L=(0,E.default)((0,v.default)(P)),w=I;t.default=w},eahdicfdjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("bdjjabfecc")),u=i(a("dijgefdehc")),f=i(a("dcdbbhicce")),h=i(a("dgdcjccfdi")),p=i(a("dhhjhedjij")),m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,a=e.isFrequentlyForwarded;if(t<=0||a)return null;var n=c.createElement(h.default,{name:"forwarded",display:"inline",className:u.default.icon}),i=s.default.t(624,{count:t,_plural:t});return c.createElement("div",{className:u.default.title},n,c.createElement(p.default,{theme:"title",className:u.default.text},i))}}]),a}(c.PureComponent);m.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]};var g=(0,f.default)(m,m.CONCERNS);t.default=g},ebgdcjifc:function(e,t){e.exports={container:"_1iMC7",textContainer:"hVoOt",spinner:"_1G_hs"}},ecbbjjjhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("gfebgebbi")),f=a("eajdbbfgfg"),h=i(a("bdjjabfecc")),p=i(a("bijffg")),m=n(a("eeebhdeed")),g=i(a("ebddggeaib")),b=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).updateLabels=function(){e.forceUpdate()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"label_updated_".concat(this.props.label),this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=p.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var a=c.createElement(m.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),n=c.createElement(u.default,{text:t.name,ellipsify:!0,titlify:!0});return c.createElement(s.default,{theme:(0,f.canEditLabel)()?"chat-checkbox":void 0,image:a,primary:n,secondary:h.default.t(779,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var i=(0,m.renderLabelSvg)(t.hexColor),r=c.createElement(u.default,{text:t.name,ellipsify:!0,titlify:!0});return c.createElement(s.default,{theme:"label-selection",image:i,primary:r})}}]),a}(c.PureComponent),v=(0,g.default)(b);t.default=v},ecbiejfbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductDetailsForDeepLink=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("ejegihaeh")),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=n(a("bjjhgjdbhd")),p=a("dhjcdeigfi"),m=i(a("hhibigida")),g=i(a("bahheegiac")),b=i(a("bdjjabfecc")),v=i(a("cahfddcdga")),j=i(a("bhfadhddje")),E=i(a("dhccahhefj")),C=a("dcbdjheea"),y=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;(0,r.default)(this,a),(n=t.call(this,e)).state={product:null,productFetchState:"NONE"};var i=n.props.productInfo,o=i.productId,d=i.businessOwnerJid,l=(0,g.default)({productId:o,businessOwnerJid:d});return n.state=l?{product:l,productFetchState:"NONE"}:{product:l,productFetchState:"PENDING"},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.state.product||this._fetchProduct()}},{key:"_fetchProduct",value:function(){var e=this,t=this.props.productInfo,a=t.productId,n=t.businessOwnerJid,i=(0,C.createWid)(n);s.default.findProduct({catalogWid:i,productId:a}).checkpoint(this.props.rejectOnUnmount()).then((function(){var t=s.default.get(i),n=(0,v.default)(t,"catalog").productCollection.get(a);e.setState({product:n,productFetchState:"SUCCESS"})})).catch((function(t){(0,p.parseErrorState)(t,(function(t){return e.setState({productFetchState:t})}))}))}},{key:"render",value:function(){return this.state.product?c.createElement(j.default,{product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,sessionId:this.props.sessionId,onProductLinkClick:this.props.onProductLinkClick}):c.createElement(u.default,{onDrop:this.props.onBack,key:"product-details-drawer"},c.createElement(h.default,{a8n:"drawer-title-profile",title:b.default.t(1102),onBack:this.props.onBack,type:h.DRAWER_HEADER_TYPE.SMALL}),c.createElement(f.default,null,c.createElement(m.default,{fetchState:this.state.productFetchState})))}}]),a}(c.PureComponent);t.ProductDetailsForDeepLink=y;var S=(0,E.default)(y);t.default=S},ecgechdigh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("iidhbgeed")),u=n(a("ddhijeejag")),f=i(a("dababjcdei")),h=i(a("ecfgahegjj")),p=i(a("ccbgfecegc")),m=i(a("bbfjdcedab")),g=i(a("hgigjbgie")),b=i(a("dhigahgdjb")),v=i(a("dcjhajfghf")),j=i(a("dgebcfedgb")),E=i(a("bjbifafigc")),C=a("cgffhfegce"),y=i(a("hjieaedbd")),S=i(a("bhbdiadfhj")),_=i(a("jheedhagg")),M=i(a("dcfihjeedb")),I=i(a("bhbcdbjdeg")),k=i(a("bdjjabfecc")),T=n(a("baffhfhhda")),P=n(a("dgjfidhijd")),L=n(a("difhgjjfcb")),w=i(a("dicacbdagf")),N=i(a("cfcfdeifjb")),A=i(a("dcbcigbda")),D=i(a("dgdcjccfdi")),R=i(a("ddggdgafij")),O=i(a("cgjdibiahi")),x=i(a("dfciadajdf")),U=i(a("didfdhbecg"));function F(){var e=(0,r.default)(["PhotoPicker:onImageReceived failed to load image: ",""]);return F=function(){return e},e}var B=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={img:e.props.startImage,hover:!1,imageSize:null},e.setRefImageContainer=function(t){e.refImageContainer=t},e.setRefImageInput=function(t){e.refImageInput=t},e.onUpload=function(){var t=e.refImageInput;if(t)return t.click(),!0},e.removeImage=function(){e.props.onImageSet(),p.default.closeModal()},e.onRemove=function(){var t=e.props.type===N.default.GROUP?k.default.t(1133):k.default.t(1137);p.default.openModal(u.createElement(m.default,{onOK:e.removeImage,okText:k.default.t(1132),onCancel:function(){return p.default.closeModal()},cancelText:k.default.t(1482)},t))},e.onView=function(){var t=e.refImageContainer,a=e.props,n=a.id,i=a.attachToChat;if(t&&n){var r=b.default.assertGet(n),o={transition:"profile-viewer"};i&&(o.uim=e.props.uim),p.default.openModalMedia(u.createElement(A.default,{contact:r,profilePicThumb:r.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),o)}},e.onPaste=function(t){if(e.state.contextMenu){var a=new v.default(t.clipboardData),n=(0,s.default)(a.getFiles(),(function(e){return"image"===(0,C.typeFromMimetype)(e.type)}));if(n.length){t.preventDefault(),t.stopPropagation(),e.closeContextMenu();var i=n[0];e.onImagePick(i)}}},e.onImageSelected=function(t){e.closeContextMenu();var a=t.target.files[0];if(!a)return!1;e.onImagePick(a),t.target.value=""},e.onImageReceived=function(t,a){t?T.loadImage(t).then((function(){e.setState({img:t}),e.props.onImageSet(t,a)})).catch((function(t){__LOG__(3)(F(),String(t));var a=e.props.type===N.default.GROUP?k.default.t(90):k.default.t(160);p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},a))})):e.setState({img:null,imageSize:null})},e.onSearch=function(){p.default.openModal(u.createElement(P.default,{type:P.BoxModalType},u.createElement(M.default,{onFinished:e.onImageReceived})))},e.onImagePick=function(t){var a=URL.createObjectURL(t);T.loadImage(a).then((function(a){a&&(a.width<g.default.MIN_PIC_SIDE||a.height<g.default.MIN_PIC_SIDE)?p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},k.default.t(1124,{size:g.default.MIN_PIC_SIDE,_plural:g.default.MIN_PIC_SIDE}))):p.default.openModal(u.createElement(P.default,{type:P.BoxModalType},u.createElement(E.default,{img:t,onFinished:e.onImageReceived,onRetake:e.onUpload})))})).catch((function(){var t=e.props.type===N.default.GROUP?k.default.t(90):k.default.t(160);p.default.openModal(u.createElement(m.default,{onOK:function(){return p.default.closeModal()}},t))})).finally((function(){URL.revokeObjectURL(a)}))},e.onImageClick=function(t){if(e.props.readOnly)e.state.img&&e.onView();else{t.stopPropagation(),t.preventDefault();var a=[];e.props.id&&e.state.img&&a.push(u.createElement(j.default,{a8n:"mi-view-photo",key:"view",action:e.onView},k.default.t(1383))),y.default&&a.push(u.createElement(R.default,{key:"take",onImageTake:e.onImageReceived})),a.push(u.createElement(j.default,{a8n:"mi-upload-photo",key:"upload",action:e.onUpload},k.default.t(1347))),S.default.supportsFeature(S.default.F.BING_IMAGE_SEARCH)&&e.props.type===N.default.GROUP&&a.push(u.createElement(j.default,{a8n:"mi-search-photo",key:"search",action:e.onSearch},k.default.t(1697))),e.state.img&&a.push(u.createElement(j.default,{a8n:"mi-remove-photo",key:"remove",action:e.onRemove},k.default.t(1136))),t.persist(),e.setState({contextMenu:{menu:a,event:t}})}},e.closeContextMenu=function(){e.setState({contextMenu:null})},e.onMouseOver=function(){e.state.hover||e.setState({hover:!0})},e.onMouseEnter=function(){e.state.hover||e.setState({hover:!0})},e.onMouseLeave=function(){e.state.hover&&e.setState({hover:!1})},e.onLoad=function(t){var a=t.target.clientWidth,n=t.target.clientHeight;e.setState({imageSize:{width:a,height:n}})},e}return(0,d.default)(a,[{key:"render",value:function(){var e,t;this.state.img&&(e=u.createElement(L.default,{type:L.FIT_TYPE.COVER,size:this.state.imageSize},u.createElement(I.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=u.createElement(h.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var n="";switch(this.props.type){case N.default.GROUP:n=this.state.img?k.default.t(387):k.default.t(188);break;case N.default.PROFILE:n=this.state.img?k.default.t(392):k.default.t(194)}a=u.createElement(f.default,{icon:u.createElement(D.default,{name:"camera"}),text:n})}var i,r,o=this.props.pending||!this.state.imageSize&&this.state.img?function(){}:this.onImageClick;if(this.state.contextMenu&&(i=u.createElement(O.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},u.createElement(x.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var d=this.props.type===N.default.PROFILE?"default-user":"default-group";r=u.createElement("div",{className:w.default.defaultIcon},u.createElement(D.default,{name:d}))}return(u.createElement("div",{className:w.default.container},u.createElement("div",{className:w.default.body,onClick:o,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},u.createElement("div",{className:w.default.imageContainer},e,r),u.createElement(U.default,{transitionName:"fade"},t,a)),u.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),i))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}}]),a}(u.Component),V=(0,_.default)(B);t.default=V},ehdgbgee:function(e,t){e.exports={drawerHeader:"_1HePc",drawerHeaderButtonContainer:"_3mPXo",productWrapper:"_1MZ-h",businessInfoTitle:"_2HBMJ",statusAlert:"_2GWne",appealText:"_1jWWI"}},eibcjagbe:function(e,t){e.exports={container:"_34Km4",media:"_1aZmm"}},fgghedjgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("ccbgfecegc")),f=i(a("chhdaecjcj")),h=n(a("hhcjfgifh")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=i(a("cciafahdib")),b=n(a("bjjhgjdbhd")),v=i(a("gfebgebbi")),j=a("cdhbdacigj"),E=a("bgihjbde"),C=n(a("cajijabhgb")),y=a("bejbgaghc"),S=i(a("cjgeeiibdf")),_=i(a("bffajdjibj")),M=i(a("bdjjabfecc")),I=i(a("dhccahhefj")),k=a("cbhhehcjbb"),T=i(a("caifaihfad")),P=i(a("ddjgdbbihc")),L=i(a("dcdbbhicce")),w=i(a("dgdcjccfdi")),N=n(a("bjhgigfbec")),A=0,D=1,R=2,O=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={state:A},e.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return M.default.t(682);case 403:return M.default.t(683);case 404:return M.default.t(684);default:return M.default.t(685)}},e.handleLoadingErrorStatusCode=function(t){var a=e.getErrorMessageFromStatusCode(t);e.props.onBack(),u.default.openToast(c.createElement(N.default,{msg:a,id:(0,N.genId)()}))},e.handleRevokeGroupInvite=function(){u.default.openModal(c.createElement(_.default,{pushTransition:"none",popTransition:"none",chat:e.props.chat,onConfirm:e.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},e.handleRevokingErrorStatusCode=function(t){var a=e.getErrorMessageFromStatusCode(t);e.props.onBack(),u.default.openToast(c.createElement(N.default,{msg:a,id:(0,N.genId)()}))},e.handleConfirmRevokeGroupInvite=function(){e.setState({state:D});var t=(0,y.revokeGroupInvite)(e.props.groupMetadata);Promise.delay(500).then((function(){return t})).checkpoint(e.props.rejectOnUnmount()).then((function(){u.default.openToast(c.createElement(N.default,{msg:M.default.t(690),id:(0,N.genId)()})),e.setState({state:R})})).catchType(E.ServerStatusCodeError,(function(t){e.handleRevokingErrorStatusCode(t.statusCode)})).catchType(C.Unmount,(function(){}))},e.handleSendGroupInviteLink=function(){u.default.openModal(c.createElement(T.default,{chat:e.props.chat}),{transition:"modal-flow"})},e.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},e.renderDrawerBody=function(){var t,a=e.props.groupMetadata;if(e.state.state===A)t=c.createElement(j.LoadingWithText,{text:M.default.t(673)});else if(e.state.state===D)t=c.createElement(j.LoadingWithText,{text:M.default.t(689,{groupName:e.props.chat.contact.name})});else{var n=a.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=c.createElement(f.default,{elementId:"group-invite-link-anchor"}));var r=c.createElement(h.default,{id:e.props.chat.id,size:82,quality:h.DETAIL_IMAGE_QUALITY.HIGH}),o=c.createElement("span",{className:S.default.linkContainer},c.createElement(k.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));t=c.createElement(m.default,null,c.createElement(s.default,{image:r,primary:c.createElement(v.default,{text:e.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:o}),c.createElement("div",{className:S.default.descContainer},M.default.t(680)),c.createElement(P.default,{onClick:e.handleSendGroupInviteLink}),i,c.createElement(g.default,{a8nText:"li-revoke-link",icon:c.createElement(w.default,{name:"revoke",className:S.default.icon}),onClick:e.handleRevokeGroupInvite},M.default.t(677)))}return t},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;(0,y.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then((function(){e.setState({state:R})})).catchType(E.ServerStatusCodeError,(function(t){e.handleLoadingErrorStatusCode(t.statusCode)})).catchType(C.Unmount,(function(){}))}},{key:"render",value:function(){return c.createElement(p.default,null,c.createElement(b.default,{title:M.default.t(679),onBack:this.props.onBack,type:b.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),a}(c.Component);O.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var x=(0,I.default)((0,L.default)(O,O.CONCERNS));t.default=x},fhajfeecb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("bebajedcaf")),u=i(a("ceffhbhahb")),f=a("biciedabid"),h=n(a("ddhijeejag")),p=n(a("dfhjacfbjg")),m=i(a("ccbgfecegc")),g=i(a("bbfjdcedab")),b=i(a("bjigbaghc")),v=i(a("hgigjbgie")),j=a("cfffidafid"),E=a("ddbdgibbbi"),C=i(a("dhfbfehaef")),y=i(a("bdjjabfecc")),S=n(a("dbcedfihd")),_=i(a("caaehhchbg")),M=i(a("dgdcjccfdi")),I=i(a("dbihaeaggd")),k=n(a("bjhgigfbec")),T=v.default.SEND_LOGS_MAX_EMAIL_LENGTH,P=v.default.SEND_LOGS_MAX_SUBJECT_LENGTH,L=v.default.SEND_LOGS_MIN_DESC_LENGTH,w=v.default.SEND_LOGS_MAX_DESC_LENGTH,N=v.default.SEND_LOGS_MAX_SCREENSHOTS,A=v.default.SEND_LOGS_MAX_SCREENSHOT_SIZE;function D(){return b.default.isSMB?y.default.t(1235):y.default.t(1236)}var R=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:D(),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},e.setAttachButton=function(t){e.attachButton=t},e.setEmailAddr=function(t){e.emailAddrInput=t},e.onSend=function(){var t={},a=e.state,n=a.email,i=a.confirmEmail,r=a.subject,o=a.description,d=a.screenshots,l=n.trim(),c=i.trim();if(e.validateEmail(l)||(t.emailError=y.default.t(1222)),e.validateConfirmEmail(c)||(t.confirmEmailError=y.default.t(1223)),e.validateDescription(o)||(t.descriptionError=y.default.t(1234)),e.validateSubject(r)||(t.subjectError=y.default.t(1231)),(0,s.default)(t)){e.setState({email:l,confirmEmail:c,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),d.map((function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)}));var u=(0,E.getMaybeMeUser)(),g=u?(0,f.formatPhone)(u.user):null,b=r.trim()||y.default.t(1219);p.uploadUserReport(g,l,b,o,d),e.props.onSend&&e.props.onSend({subject:b,description:o,numScreenshots:d.length}),m.default.closeModal(),m.default.openToast(h.createElement(k.default,{msg:y.default.t(1230),id:(0,k.genId)()}))}else t.email=l,t.confirmEmail=c,e.setState(t)},e.onCancel=function(){e.props.onCancel&&e.props.onCancel(),m.default.closeModal()},e.onSubjectChange=function(t){var a={subject:t,subjectError:e.state.subjectError};e.state.subjectError&&e.validateSubject(a.subject)&&(a.subjectError=void 0),e.setState(a)},e.onSubjectBlur=function(){var t;e.validateSubject(e.state.subject)||(t=y.default.t(1231)),e.state.subjectError!==t&&e.setState({subjectError:t})},e.onDescriptionChange=function(t){var a={description:t,descriptionError:e.state.descriptionError};e.state.descriptionError&&e.validateDescription(a.description)&&(a.descriptionError=void 0),e.setState(a)},e.onDescriptionBlur=function(){var t;!e.state.description&&!e.state.descriptionError||e.validateDescription(e.state.description)||(t=y.default.t(1234)),e.state.descriptionError!==t&&e.setState({descriptionError:t})},e.onEmailChange=function(t){var a={email:t,emailError:e.state.emailError};e.state.emailError&&e.validateEmail(a.email)&&(a.emailError=void 0),e.setState(a)},e.onEmailBlur=function(){var t,a=e.state.email.trim(),n={};!e.state.email&&!e.state.emailError||e.validateEmail(a)||(t=y.default.t(1222)),e.state.emailError!==t&&(n.emailError=t),e.state.email!==a&&(n.email=a),(0,s.default)(n)||e.setState(n)},e.onConfirmEmailChange=function(t){var a={confirmEmail:t,confirmEmailError:e.state.confirmEmailError};e.state.confirmEmailError&&e.validateConfirmEmail(a.confirmEmail)&&(a.confirmEmailError=void 0),e.setState(a)},e.onConfirmEmailBlur=function(){var t,a=e.state.confirmEmail.trim(),n={};!e.state.confirmEmail&&!e.state.confirmEmailError||e.validateConfirmEmail(a)||(t=y.default.t(1223)),e.state.confirmEmailError!==t&&(n.confirmEmailError=t),e.state.confirmEmail!==a&&(n.confirmEmail=a),(0,s.default)(n)||e.setState(n)},e.validateEmail=function(e){return S.validateEmail(e)},e.validateConfirmEmail=function(t){return e.state.email===t},e.validateDescription=function(e){return e.length>L},e.validateSubject=function(){return!0},e.onFilePick=function(t){t.preventDefault(),t.stopPropagation(),e.reachMaxScreenshots()||(0,j.getFiles)(t,"image/*").then((function(t){e.attachButton&&(e.attachButton.value="");var a=t.filter((function(e){return e.size<=A}));a.length<t.length&&m.default.openToast(h.createElement(k.default,{msg:y.default.t(1225),id:(0,k.genId)()}));var n=e.state.screenshots.concat(a).slice(0,N);n.map((function(e){e.url||(e.url=URL.createObjectURL(e))})),e.setState({screenshots:n})}))},e.onDragChange=function(t){e.setState({isDragging:t})},e.handleAttachClick=function(){e.attachButton&&!e.reachMaxScreenshots()&&e.attachButton.click()},e.stopPropagation=function(e){e.stopPropagation()},e}return(0,d.default)(a,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map((function(e){var t=e.url;return t&&URL.revokeObjectURL(t)}))}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=N}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),a=t.splice(e,1),n=(0,r.default)(a,1)[0];n.url&&URL.revokeObjectURL(n.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map((function(t,a){if(!t.url)return null;var n="url(".concat(t.url,")"),i="screenshot-".concat(a);return h.createElement("div",{key:i,className:_.default.screenshotsImg,style:{backgroundImage:n}},h.createElement("button",{className:_.default.btnDelete,onClick:function(){e.deleteScreenshot(a)}},h.createElement(M.default,{name:"x-alt"})))}));return t.length?h.createElement("div",{className:_.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=N;return(h.createElement("div",{className:(0,u.default)(_.default.action,_.default.disabled)},y.default.t(1233,{count:e,_plural:e})))}return this.state.isDragging?h.createElement("div",{className:_.default.action},y.default.t(1228)):h.createElement("div",{className:_.default.action,onClick:this.handleAttachClick},y.default.t(1229))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=h.createElement("div",{className:_.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),h.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return h.createElement(g.default,{title:y.default.t(1232),okText:y.default.t(1218),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},h.createElement(C.default,{handlers:e},h.createElement(I.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:T,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:y.default.t(1220)}),h.createElement(I.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:T,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:y.default.t(1221)}),h.createElement(I.default,{value:this.state.subject,error:this.state.subjectError,maxLength:P,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:y.default.t(1224)}),h.createElement(I.default,{value:this.state.description,error:this.state.descriptionError,maxLength:w,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:y.default.t(493),multiline:!0}),t))}}]),a}(h.Component);t.default=R},fjdjhajce:function(e,t){e.exports={container:"_3ABKr",section:"ZQyg_",control:"_3Kt9n",label:"_3jrgD",disabled:"_1pJHe"}},gafggdea:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("djecdhecha")),l=i(a("dbjagcfebh")),c=i(a("chichicffi")),s=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dfdebdgdei"),p=i(a("cddjjebiij")),m=i(a("bgfcjjddjf")),g=i(a("ccbgfecegc")),b=i(a("bbfjdcedab")),v=i(a("ieeidjijb")),j=i(a("dhigahgdjb")),E=i(a("bdacheahgj")),C=i(a("dahagdijgh")),y=i(a("bjheffjbgd")),S=i(a("cciafahdib")),_=n(a("bjjhgjdbhd")),M=a("cdhbdacigj"),I=i(a("bgheieccaj")),k=i(a("bfchfhibba")),T=i(a("dbfjeecgih")),P=i(a("bdjjabfecc")),L=i(a("ebddggeaib")),w=i(a("dgdcjccfdi")),N=function(e){(0,l.default)(a,e);var t=(0,c.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).flatListController=new T.default,e.onBlockConfirm=function(e){(0,h.blockContact)(e).catch((function(){})),g.default.closeModal()},e.onBlock=function(){g.default.openModal(u.createElement(E.default,{title:P.default.t(184),filter:function(e){return!!j.default.isFilteredContact(e)&&(!m.default.get(e.id)||P.default.t(1079))},onCancel:function(){return g.default.closeModal()},onSelect:(0,s.default)(e.onBlockConfirm)}))},e.onUnblockConfirm=function(e){(0,h.unblockContact)(e).catch((function(){})),g.default.closeModal()},e.onUnblockCancel=function(){g.default.closeModal()},e.onUnblock=function(t,a){g.default.openModal(u.createElement(b.default,{okText:P.default.t(1316),onOK:e.onUnblockConfirm.bind((0,d.default)(e),a),cancelText:P.default.t(1482),onCancel:e.onUnblockCancel},P.default.t(1317,{contact:a.formattedName})))},e.renderItem=function(t){var a=t.blocklist.contact();return u.createElement(v.default,{contact:a,key:a.id.toString(),onClick:e.onUnblock,onDelete:e.onUnblock,waitIdle:!0})},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(m.default,"add remove",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return m.default.map((function(e){return{itemKey:e.id.toString(),blocklist:e}}))}},{key:"render",value:function(){var e,t;return m.default.length>0?(e=u.createElement(k.default,{flatListControllers:[this.flatListController],className:p.default.list},u.createElement(I.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=u.createElement("div",{"data-a8n":f.default.key("blocked-description"),className:p.default.hint},P.default.t(181))):e=u.createElement(M.Blocked,null),u.createElement(C.default,null,u.createElement(_.default,{title:P.default.t(252),onBack:this.props.onClose,type:_.DRAWER_HEADER_TYPE.LARGE}),u.createElement("div",{className:p.default.button},u.createElement(S.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:u.createElement(w.default,{name:"add-user",directional:!0})},P.default.t(184))),u.createElement(y.default,null,e,t))}}]),a}(u.Component),A=(0,L.default)(N);t.default=A},gbcgaicef:function(e,t){e.exports={textThumb:"J9MbH",statusImage:"_1HaC6",container:"mYo1M"}},gceccdhhh:function(e,t){e.exports={productWrapper:"wXBGn",drawerHeader:"_1z8zg",drawerHeaderButtonContainer:"_2I8lX",deleteButtonContainer:"zsxxu",isSending:"_1BLu0",spinner:"_1wLQh"}},gddidehjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("dhigahgdjb")),h=i(a("bjcgjiedih")),p=i(a("bdeebiagii")),m=i(a("bdjjabfecc")),g=i(a("hdhcfhidh")),b=i(a("cejfghgbfb")),v=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onClick=function(t,a){s.default.find(a.id).then(u.default.openChatFromUnread.bind(u.default)),e.end()},e.onNewGroup=function(){e.push(c.createElement(b.default,{onBack:e.pop,onContinue:e.onSetGroupInfo}))},e.onSetGroupInfo=function(t){e.push(c.createElement(g.default,{participants:t,onBack:function(){e.popAndUpdate({participants:t})},onContinue:e.end}))},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){f.default.ensureSorted(),this.push(c.createElement(h.default,{title:m.default.t(1027),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),a}(p.default);t.default=v},gfhdfcfge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r.default.supportsFeature(r.default.F.MD_BACKEND);return o.default.setPushname(e).then((function(e){if(e.status&&200!==e.status)throw new i.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}))};var i=a("bgihjbde"),r=n(a("bhbdiadfhj")),o=n(a("cfidecfjad"))},ggefijcjf:function(e,t){e.exports={btnSend:"_13Vq-",attributionLink:"_2A0b0",mediaBody:"_4xf66",attribution:"_3Qmrp",footer:"AywA2",containerBackground:"iHmJh",retake:"_3K8oF",retakeIcon:"pGqnK",mediaElementBase:"_239P0",mediaElement:"SCGu- _239P0"}},gjfejjidf:function(e,t){e.exports={container:"_30K1P",popupPanel:"_18ixn",wrapper:"_10mnq",emojiIcon:"BiQht",sendIcon:"_3TUT5",lineWrapper:"_3KBZU"}},gjiifgfgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("gafggdea")),u=n(a("dfhjacfbjg")),f=i(a("ccbgfecegc")),h=i(a("bjigbaghc")),p=i(a("bdeebiagii")),m=a("ddbdgibbbi"),g=i(a("djdjdgjjdc")),b=i(a("dcjahegieh")),v=i(a("daehjhdfgf")),j=i(a("dhefcajhhb")),E=i(a("cghhjgjffa")),C=i(a("gbbacfeci")),y=i(a("bhfeiiegef")),S=i(a("bjjegffjad")),_=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).showWallpaperDrawer=function(){e.push(c.createElement(S.default,{onClose:e._pop}))},e.showBlockedDrawer=function(){e.push(c.createElement(s.default,{onClose:e._pop}))},e.showProfileDrawer=function(){var t=(0,m.getMaybeMeUser)(),a=C.default.assertGet(t),n=j.default.assertGet(t);e.push(c.createElement(v.default,{status:a,profilePicThumb:n,conn:h.default,onClose:e._pop}))},e.showNotifications=function(){e.push(c.createElement(b.default,{onClose:e._pop}))},e.showHelp=function(){u.upload({reason:"help-page-opened",isHighPri:!0}),e.push(c.createElement(g.default,{onClose:e._pop}))},e.showThemePopup=function(){f.default.openModal(c.createElement(y.default,null))},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.push(c.createElement(E.default,{profileId:(0,m.getMaybeMeUser)(),onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onThemeSettings:this.showThemePopup,onClose:this._pop}))}}]),a}(p.default);t.default=_},hbafgiab:function(e,t){e.exports={container:"icRWJ",media:"_3BCve",document:"_3zrV6",text:"LCSYy",icon:"_1tCQI"}},hdhcfhidh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("fhfbcdaib")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=a("dffedeegcb"),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),g=a("dgjddffcfg"),b=i(a("bdjjabfecc")),v=i(a("bbgfcjhfbi")),j=i(a("hajhefagc")),E=i(a("cfcfdeifjb")),C=i(a("deffjjfcba")),y=i(a("dgdcjccfdi")),S=i(a("dbihaeaggd")),_=i(a("didfdhbecg")),M=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).onImageSet=function(e,t){n.setState({thumb:e,full:t})},n.onContinue=function(){var e=(0,g.emojify)(n.state.text.trim());(0,f.createGroup)(e,n.state.thumb,n.state.full,n.props.participants),n.props.onContinue()},n.onSubjectChange=function(e){n.setState({text:e})},n.setRefEmojiInput=function(e){n.refEmojiInput=e},n.state={text:e.subject||"",thumb:e.thumb,full:e.full},n}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?s.createElement("div",{className:v.default.nextButton},s.createElement(C.default,{a8nText:"create-group-btn",onClick:(0,c.default)(this.onContinue)},s.createElement(y.default,{name:"checkmark-medium"}))):null;return s.createElement(h.default,null,s.createElement(m.default,{title:b.default.t(1028),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),s.createElement(p.default,null,s.createElement("div",{className:v.default.section},s.createElement(j.default,{type:E.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),s.createElement("div",{"data-a8n":u.default.key("group-subject"),className:v.default.section},s.createElement(S.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:b.default.t(709),onEnter:e?(0,c.default)(this.onContinue):function(){},supportsEmoji:!0})),s.createElement(_.default,{transitionName:"btn"},t)))}}]),a}(s.Component);t.default=M},heaagdjji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetersBetweenLatLngs=function(e,t,a,i){var r=n(a-e),o=n(i-t),d=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n(e))*Math.cos(n(a))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d));return 6371e3*l},t.getMetersPerPixel=function(e,t){var a=Math.cos(e*Math.PI/180),n=1/Math.pow(2,t);return 156543.03392*a*n},t.getLatDiff=function(e){return i(e/6371e3)},t.getLngDiff=function(e,t){var a=6371e3*Math.cos(n(t));return i(e/a)};function n(e){return e*(Math.PI/180)}function i(e){return e*(180/Math.PI)}},icfeihfad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("bdeebiagii")),p=i(a("djaadchjch")),m=i(a("djgcaefhci")),g=i(a("bdjjabfecc")),b=i(a("cjfeddifcd")),v=i(a("gjbhafcjg")),j=a("dgbddfjdhi"),E=n(a("bjhgigfbec")),C=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onSendInvite=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;u.default.closeModal(),Promise.all(e.props.participantNeedInvite.map((function(n){var i=n.contact,r=n.invite_code,o=n.invite_code_exp;return s.default.find(i.id).then((function(n){var d=e.props.groupGid.toString(),l=p.default.assertGet(d);return n.sendGroupInviteMessage(d,e.props.subject,r||"",o,t,a).then((function(e){return e===j.SendMsgResult.OK&&(l.pendingParticipants.add({id:i.id}),!0)}))}))}))).then((function(e){var t=e.filter(Boolean).length;u.default.openToast(c.createElement(E.default,{msg:g.default.t(1601,{num:t,_plural:t}),id:(0,E.genId)()}))}))},e.addInviteCommment=function(t){e.push(c.createElement(m.default,{participants:t,gid:e.props.groupGid,subject:e.props.subject,groupDesc:e.props.groupDesc,onClose:e._pop,onSend:e.onSendInvite}))},e._pop=function(){e.pop()},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map((function(e){return e.contact})),!0),a=g.default.t(714,{participant:t,_plural:e.length});this.push(c.createElement(f.default,{onOK:this.addInviteCommment.bind(this,e),okText:g.default.t(1600),onCancel:this._pop,cancelText:g.default.t(1482)},a))}},{key:"getFormattedName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.formattedUser:c.createElement(v.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,a);var n=e.map((function(e){return t.getFormattedName(e,a)}));return(0,b.default)(n,a)}}]),a}(h.default);t.default=C,C.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},iieiegjjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=a("biheibdage"),f=i(a("cjjfbiafb")),h=i(a("bghfehcaaj")),p=i(a("cdbfcccegj")),m=i(a("bfajgaeghd")),g=i(a("cggjjcbdia")),b=i(a("bihjdjceid")),v=i(a("bjddhceafh")),j=i(a("fhgchaefa")),E=i(a("ccbgfecegc")),C=i(a("bbfjdcedab")),y=i(a("hgigjbgie")),S=i(a("dcjhajfghf")),_=i(a("dahagdijgh")),M=i(a("bjheffjbgd")),I=n(a("bjjhgjdbhd")),k=a("cfffidafid"),T=n(a("cajijabhgb")),P=a("cgffhfegce"),L=i(a("ddajbaceej")),w=i(a("dhfbfehaef")),N=i(a("bdjjabfecc")),A=i(a("ebddggeaib")),D=i(a("chjejfcdd")),R=i(a("bdcchebfge")),O=a("cedhgehjef"),x=i(a("dhccahhefj")),U=i(a("deffjjfcba")),F=i(a("bfgbdiffgd")),B=i(a("ecdebjcgfa")),V=i(a("dgdcjccfdi")),G=n(a("bjhgigfbec")),H=i(a("bchiiahecb")),W=i(a("didfdhbecg")),Y=y.default.MSG_TYPE,z=Y.IMAGE,K=Y.VIDEO,q=Y.DOCUMENT,Z=Y.AUDIO,X=u.ATTACH_MEDIA_STATE.PROCESSING,J=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).attachMediaRefMap=new Map,n.setRefContainer=function(e){n.refContainer=e},n.setRefInput=function(e){n.refInput=e},n.setAttachMediaRef=function(e,t){n.attachMediaRefMap.set(e,t)},n.onMediaProcessUpdate=function(){var e=n.props.mediaCollection;if(e.canSend()){var t=e.uiProcessMsgs().errorMsgs,a=e.getPreviewableMedias();t&&a.length>0&&E.default.openToast(s.createElement(G.default,{msg:t,id:(0,G.genId)()})),n.forceUpdate()}},n.onFilesNotSupported=function(){var e=n.props.mediaCollection.filter((function(e){return e.exception}));e.length>0&&n.props.onFailedMedias(e)},n.showIgnoredToast=function(e){if(e>0){var t=N.default.t(1309,{number:e,_plural:e});E.default.openToast(s.createElement(G.default,{msg:t,id:(0,G.genId)()}))}},n.onDrop=function(e){n.onFilePick(e)},n.onDragLeave=function(){n.props.mediaCollection.length||n.props.onBack()},n.onDragChange=function(e,t){n.setState({isDragging:e}),e||t||n.props.mediaCollection.length||n.props.onBack()},n.onEnter=function(e){n.state.activeMedia&&(e.repeat||e.shiftKey||n.onSend())},n.onArrowLeft=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,a=n.refCaptionInput&&n.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorIsAtStart())&&n.onPrev()}},n.onArrowRight=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,a=n.refCaptionInput&&n.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorIsAtEnd())&&n.onNext()}},n.onNext=function(){n.props.mediaCollection.setNextAsActive()&&(n.refSendButton&&L.default.focus(n.refSendButton),n._scrollIntoView())},n.onPrev=function(){n.props.mediaCollection.setPrevAsActive()&&(n.refSendButton&&L.default.focus(n.refSendButton),n._scrollIntoView())},n._scrollIntoView=function(){var e=n.props.mediaCollection.getActive();if(e){var t=n.attachMediaRefMap.get(e.id);t&&t.scrollIntoView()}},n.onSelectThumb=function(e){n.props.mediaCollection.setActive(e)},n.onSend=function(e){e&&e.preventDefault(),e&&e.shiftKey||n.props.mediaCollection.canSend()&&Promise.all([]).then((function(){var e=n.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map((function(e){var t=e.caption,a=[],i=n.refCaptionInput&&n.refCaptionInput.refInput;if(t&&i){var r=i.serialize(t),o=[r[0].trim(),r[1]],d=o[0],l=o[1];d.length&&(t=d,a=l.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:a}}));n.props.onSendMedia(t,n.state.isInitCaptionUsed,n.state.isViewOnce)}}))},n.onAddFileClick=function(){n.refInput&&n.refInput.click()},n.onFilePick=function(e){(0,k.getFiles)(e).then((function(e){return n.props.mediaCollection.processAttachments(e.map((function(e){return{file:e}})),R.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)})).checkpoint(n.props.rejectOnUnmount()).catchType(T.Unmount,(function(){})).catchType(T.MediaDragDropError,(function(e){n.props.mediaCollection.length||n.props.onDropText(e.src)})),e.target&&e.target.value&&(e.target.value="")},n.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),n.props.mediaCollection.remove(e),0===n.props.mediaCollection.getValidMedias().length?n.delayedClose=setTimeout((function(){n.props.onBack()}),200):n.refSendButton&&L.default.focus(n.refSendButton)},n.onCaptionChange=function(e){var t=n.state,a=t.activeMedia,i=t.isInitCaptionUsed;if(a){var r=n.props.mediaCollection.indexOf(a);a.caption=e,0===r&&""===e&&i?n.setState({isInitCaptionUsed:!1}):n.forceUpdate()}},n.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new S.default(e.clipboardData);t.hasFiles()&&n.onFiles(t)},n.onFiles=function(e){var t=e.getFiles().filter((function(e){var t=(0,P.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((function(e){return{file:e}}));n.props.mediaCollection.processAttachments(t,R.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},n.onViewOnceChange=function(){n.setState((function(e){return{isViewOnce:!e.isViewOnce}}))},n.setRefCaptionInput=function(e){n.state.activeMedia&&!e||(n.refCaptionInput=e)},n.getMedia=function(e){var t,a,i;switch(e.type){case z:case K:t||(t=s.createElement(b.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===X,preview:e.preview}));var r=F.default.viewOnceWrite&&1===n.props.mediaCollection.length;a=s.createElement("div",{className:f.default.captionInput,"data-animate-media-caption":!0},s.createElement(D.default,{ref:n.setRefCaptionInput,value:e.caption,placeholder:N.default.t(179),maxLength:y.default.MAX_CAPTION_LENGTH,onEnter:n.onSend,onChange:n.onCaptionChange,onFiles:n.onFiles,chat:n.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}),r?s.createElement(H.default,{className:(0,c.default)(f.default.btnViewOnce,{[f.default.btnViewOnceActive]:n.state.isViewOnce}),onClick:n.onViewOnceChange},s.createElement(V.default,{name:"view-once"})):null);break;case Z:t=s.createElement(p.default,{mimeType:e.mimetype,url:e.fullPreview});break;case q:switch((0,O.previewType)(e.mimetype)){case"pdf":t=s.createElement(v.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pageCount:e.documentPageCount,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=s.createElement(m.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=s.createElement(g.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(i=s.createElement("div",{className:f.default.mediaWarning,"data-animate-attach-media":!0},N.default.t(854)," ",s.createElement(j.default,{onClick:n.onWarningCtaClick},N.default.t(789)))),s.createElement("div",{className:f.default.mediaBody,key:e.id},t,i,a)},n.onWarningCtaClick=function(e){e.preventDefault(),E.default.openModal(s.createElement(C.default,{onOK:function(){return E.default.closeModal()}},N.default.t(639)))},n.getThumbs=function(e){return e.map((function(e){return s.createElement(h.default,{id:e.id,key:"media-"+e.id,active:e===n.state.activeMedia,attachMedia:e,onClick:n.onSelectThumb,onClose:n.onRemoveThumb,onRef:n.setAttachMediaRef})}))},n.setRefSendButton=function(e){n.refSendButton=e},n.state={activeMedia:null,prevActiveMedia:null,isDragging:!1,isInitCaptionUsed:!1,isViewOnce:!1},n}return(0,o.default)(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.mediaCollection.getActive(),n=e.initCaption&&e.initCaption.text,i=t.isInitCaptionUsed;return i||t.activeMedia||!n||!a||a.type!==z&&a.type!==K||(a.caption=n,i=!0),{prevActiveMedia:t.activeMedia,activeMedia:a,isInitCaptionUsed:i}}}]),(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.mediaCollection,n=t.listeners;n.add(a,"add remove reset",(function(){e.forceUpdate()})),n.add(a,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(a,"files_not_supported",this.onFilesNotSupported),n.add(a,"max_upload_limit",this.showIgnoredToast),a.mediaPickerStatsLogger.resumeTimer()}},{key:"componentDidUpdate",value:function(e,t){var a=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle((function(){a.refCaptionInput&&a.refCaptionInput.restoreFocus()})):this.refSendButton&&this.refContainer&&!this.refContainer.contains(document.activeElement)&&L.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e,t,a,n=this.props.mediaCollection,i=this.state,r=i.activeMedia,o=i.prevActiveMedia,d=0,l=!0,u=n.getPreviewableMedias();u.length>y.default.MAX_FILES&&(u=u.slice(0,y.default.MAX_FILES)),n.canSend()?r?e=this.getMedia(r):0===u.length&&n.errorMsgs&&(e=s.createElement("div",{className:f.default.invalidContainer,key:"pending"},s.createElement("div",{className:f.default.invalidMedia},n.errorMsgs))):(l=!1,e=s.createElement(B.default,{key:"processing",color:"highlight"})),u.length>0&&(t=this.getThumbs(u),d=1===u.length?400:400+(150+15*u.length),a=l?s.createElement("div",{className:f.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},s.createElement(U.default,{large:!0,onClick:this.onSend},s.createElement(V.default,{name:"send",directional:!0}))):null);var h=this.state.isDragging?s.createElement("div",{key:"container",className:f.default.dropOverlay},s.createElement("div",{className:f.default.dropOverlayOutline},N.default.t(525))):null,p=u.length<y.default.MAX_FILES?s.createElement("div",{className:(0,c.default)(f.default.btnAdd,{[f.default.btnAddDisabled]:this.state.isViewOnce}),key:"media-more",onClick:this.state.isViewOnce?void 0:this.onAddFileClick,role:"button"},s.createElement(V.default,{name:"add-alt"}),s.createElement("div",{className:f.default.btnAddText},N.default.t(186))):null,m={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},g="*"===O.DOC_MIMES?"*":[y.default.IMAGE_MIMES,y.default.VIDEO_MIMES,O.DOC_MIMES].join(),b="media-scale";return r&&o&&r!==o&&(b=n.indexOf(r)>n.indexOf(o)?"media-slide-forward":"media-slide-back"),s.createElement(w.default,{handlers:m,onRef:this.setRefContainer},s.createElement(_.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},s.createElement(I.default,{title:N.default.t(1688),type:I.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),s.createElement(M.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},h,s.createElement("div",{className:f.default.body},s.createElement(W.default,{transitionName:b},e)),s.createElement("div",{className:f.default.thumbs},s.createElement(W.default,{transitionAppear:!0,transitionName:"thumb-scale",className:f.default.thumbsContainer},t),p),s.createElement(W.default,{transitionAppear:!0,transitionName:"btn",delay:d},a),s.createElement("input",{ref:this.setRefInput,type:"file",accept:g,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),a}(s.Component),Q=(0,x.default)((0,A.default)(J));t.default=Q},iiiaeiedi:function(e,t){e.exports={container:"lfUbT",body:"_1ZaYJ"}},jajhhaah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("hgigjbgie")),h=i(a("bdjjabfecc")),p=a("cbhhehcjbb"),m=i(a("dihjjfjaca")),g=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=f.default.VERSION_STR;return(s.createElement(p.SelectableDiv,{"data-a8n":u.default.key("version"),className:(0,c.default)(m.default.versionInfo,this.props.className),selectable:!0},h.default.t(1369,{version:""}),s.createElement("span",{dir:"LTR"},e),null))}}]),a}(s.PureComponent);t.default=g},jdibabjeb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dbjagcfebh")),o=n(a("chichicffi")),d=n(a("cfgafiffdb")),l=n(a("dfdhhbaich")),c=n(a("dbbhijehii")),s=n(a("ecddiajibj")),u=n(a("igieaiddf")),f=n(a("ifdgihhgf")),h=n(a("cecdefhddc")),p=n(a("dajheaeehj")),m=new s.default,g=new d.default,b=function(e){(0,r.default)(a,e);var t=(0,o.default)(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return a}((0,u.default)([l.default,g,m,f.default]));t.default=b,b.MentionSuggestions=(0,p.default)(h.default,{plugin:m}),b.EmojiSuggestions=(0,p.default)(c.default,{plugin:g})},jgabafafc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbeeeigche")),u=i(a("hhcjfgifh")),f=i(a("bgheieccaj")),h=i(a("bfchfhibba")),p=i(a("dbfjeecgih")),m=i(a("bdjjabfecc")),g=i(a("gjbhafcjg")),b=i(a("dgdcjccfdi")),v=i(a("dggddfhei")),j=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).flatListController=new p.default,e.renderListItem=function(t){var a=t.participant,n=a.isMe?c.createElement("div",{className:s.default.time},c.createElement(v.default,{participant:a})):null;return c.createElement("div",{className:s.default.item,onClick:function(){return e.props.onParticipantSelected(a.contact.id.toString())}},c.createElement("div",{className:s.default.left},c.createElement(u.default,{id:a.contact.id,size:28})),c.createElement("div",{className:s.default.right},c.createElement("div",{className:s.default.name},c.createElement(g.default,{contact:a.contact,titlify:!0,ellipsify:!0,you:!0})),n))},e}return(0,o.default)(a,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){return c.createElement("div",{className:s.default.container},c.createElement("div",{className:s.default.header},c.createElement("div",{className:s.default.left},c.createElement("span",{className:s.default.close,onClick:this.props.onClearSelected},c.createElement(b.default,{name:"x"}))),c.createElement("div",{className:s.default.right},m.default.t(797,{count:this.props.participants.length,_plural:this.props.participants.length}))),c.createElement(h.default,{className:s.default.list,flatListControllers:[this.flatListController]},c.createElement(f.default,{data:this.getListData(),flatListController:this.flatListController,direction:"vertical",defaultItemHeight:48,renderItem:this.renderListItem})))}}]),a}(c.Component);t.default=j},jggdejhae:function(e,t){e.exports={commentInput:"_3BOoA",search:"_22ba7",groupInfo:"_10umX",onSendInvite:"OSrIL"}},jgjccejgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=i(a("eaaagccfda")),s=i(a("iidhbgeed")),u=i(a("dbafiicfja")),f=n(a("ddhijeejag")),h=n(a("dighcbdehd")),p=a("cdhbdacigj"),m=a("dgjddffcfg"),g=i(a("bdjjabfecc")),b=i(a("bciccdecig")),v=i(a("dcaibchbg")),j=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onSelect=function(e,t){if(t instanceof h.Mode){var n=t.props.chat;!0===a.props.filter(n)&&a.props.onGroup(t.props.chat)}},a.onSearch=(0,c.default)((function(e){a.setState({searchText:e})}),100),a.renderItem=function(e){var t,n,i=a.props,r=i.onGroup,o=(0,i.filter)(e.chat),d="boolean"!=typeof o;return d&&(t=o,n="group-modal"),f.createElement(h.default,{chat:e.chat,contact:e.chat.contact,mode:h.Mode.INFO,active:a.selection,secondary:t,noContext:!0,theme:n,onClick:d?void 0:r.bind(null,e.chat)})},a.selection=new v.default,a.state={loading:!0,searchText:void 0},a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then((function(){return Promise.all((0,u.default)((0,s.default)(t,(function(e){return e.groupMetadata.stale})),(function(e){return a("djaadchjch").default.update(e.groupMetadata.id).catch((function(){}))})))})).then((function(){return e.setState({loading:!1})}))}},{key:"getData",value:function(){var e=this.props,t=e.chats,a=e.filter,n=this.state,i=n.loading,r=n.searchText;if(i)return[];var o=g.default.accentFold(r),d=(0,m.numberSearch)(o),l=t.filter((function(e){return a(e)&&(!o||o&&e.contact.searchMatch(o,d))}));return this.selection.init(l.filter((function(e){return!0===a(e)})).map((function(e){return e.id}))),l.map((function(e){return{chat:e,itemKey:e.id.toString()}}))}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?f.createElement(p.Loading,null):f.createElement(p.SearchGroups,null);return f.createElement(b.default,{title:g.default.t(1603),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:g.default.t(1190),onSelect:this.onSelect,onCancel:e})}}]),n}(f.Component);t.default=j,j.defaultProps={filter:function(){return!0}}},jjhjbgbd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),l=i(a("chichicffi")),c=n(a("ddhijeejag")),s=i(a("dbdfbgehgj")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("gfebgebbi")),p=i(a("bdjjabfecc")),m=function(e){(0,d.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onCancel=function(){u.default.closeModal()},e.onUnstar=function(){var t=e.props.chat,a=e.props.msgs;t&&t.pendingAction++,s.default.unstarAllMessages(a,t).finally((function(){t&&t.pendingAction--})),u.default.closeModal()},e}return(0,o.default)(a,[{key:"render",value:function(){return c.createElement(f.default,{onOK:this.onUnstar,okText:p.default.t(1326),onCancel:this.onCancel},c.createElement("div",null,c.createElement(h.default,{text:p.default.t(1327)})))}}]),a}(c.Component);t.default=m}}]);