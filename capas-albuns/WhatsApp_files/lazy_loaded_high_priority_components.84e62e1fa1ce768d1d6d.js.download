/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{baaafjdcde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("djecdhecha")),d=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=a("dghfbecefg"),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),m=i(a("dhigahgdjb")),g=i(a("gfebgebbi")),b=i(a("bdeebiagii")),v=i(a("bdjjabfecc")),E=a("cgjcdbggeb"),j=n(a("chbeahhfcj")),M=function(e){(0,d.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).isGroupParticipant=function(t){return!!e.props.chat.groupMetadata.participants.get(t)},e.customSecondaryText=function(t){return e.props.chat.groupMetadata.participants.get(t)?v.default.t(1793):null},e.contactFilter=function(t){var a=e.props.chat.groupMetadata;return!!m.default.isFilteredContact(t)&&(!a.participants.get(t.id)||v.default.t(1793))},e.confirmAddParticipant=function(t){var a=e.props.chat;e.push(u.createElement(p.default,{onOK:e.onAddParticipant.bind((0,l.default)(e),t),okText:v.default.t(1791,{_plural:t.length}),onCancel:e._pop,cancelText:v.default.t(1482)},u.createElement(g.default,{text:e.makeNameEnumeration(t,a.contact.name)})))},e.makeNameEnumeration=function(e,t){var a=e.map((function(e){return e.formattedShortName||e.shortName})).reduce((function(t,a,n){return[].concat((0,o.default)(t),[a,n!==e.length-1&&v.default.t(543)||""])}),[]);return v.default.t(436,{participants:a.join(""),subject:t})},e.onAddParticipant=function(t){(0,E.addParticipants)(e.props.chat,t).catch((function(){})),h.default.closeModal()},e._pop=function(){e.pop()},e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){this.push(u.createElement(j.default,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:v.default.t(1791),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:j.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:f.FooterType.CONFIRM,multipleSelectionFooterType:f.FooterType.CONFIRM}))}}]),a}(b.default);t.default=M},bagchhaeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("cajhjbjeea")),u=i(a("dbdfbgehgj")),f=i(a("cfadcbbiie")),h=i(a("ccbgfecegc")),p=i(a("ieeidjijb")),m=i(a("dhigahgdjb")),g=n(a("hhcjfgifh")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),E=i(a("cciafahdib")),j=n(a("bjjhgjdbhd")),M=i(a("ddeefhbafc")),C=i(a("bgheieccaj")),y=i(a("dbfjeecgih")),_=a("ddbdgibbbi"),S=i(a("bhbdiadfhj")),k=i(a("jheedhagg")),P=i(a("bdjjabfecc")),N=i(a("ebddggeaib")),T=i(a("cdicaaigga")),I=i(a("dcdbbhicce")),A=a("cjfegjecaj"),D=i(a("dgdcjccfdi")),R=i(a("dhhjhedjij")),O=i(a("jccfhaecf")),w=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).flatListController=new y.default,e.onParticipantClick=function(e,t){O.default.equals((0,_.getMaybeMeUser)(),t.id)||u.default.find(t.id).then((function(e){h.default.openChatFromUnread(e).then((function(t){t&&h.default.focusChatTextInput(e)}))}))},e.onClose=function(){e.props.onClose?e.props.onClose():e.props.uim.uie.requestDismiss()},e.onDelete=function(){h.default.deleteOrExitChat((0,A.unproxy)(e.props.chat))},e.renderItem=function(t){var a=t.participant,n=m.default.gadd(a.id);return d.createElement(p.default,{contact:n,theme:"drawer-list",admin:!!a.isAdmin,onClick:e.onParticipantClick,key:a.id.toString(),waitIdle:!0})},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata;this.props.listeners.add(t.participants,"add remove sort reset",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var a=d.createElement(D.default,{className:s.default.chevron,name:"chevron-right-alt",directional:!0}),n=S.default.supportsFeature(S.default.F.LINK_DOC_GALLERY)?P.default.t(855):P.default.t(852);t=d.createElement(M.default,{title:n,titleOnClick:this.props.onMediaGallery||function(){},subtitle:a,theme:"padding"},d.createElement(T.default,{chat:(0,A.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var i,o=this.props.chat.groupMetadata.participants,r=d.createElement(R.default,{theme:"section-title"},P.default.n(o.length)),c=o.length?d.createElement(M.default,{title:P.default.t(1691),subtitle:r},d.createElement(C.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,l=d.createElement(M.default,null,d.createElement(E.default,{a8nText:"li-delete-broadcast",icon:d.createElement(D.default,{name:"delete"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},P.default.t(1523)));return e.groupMetadata.creation?(i=f.default.createdStr(e.groupMetadata.creation),i=d.createElement(R.default,{theme:"small",block:!0},i)):i=null,d.createElement(b.default,{key:"contact-info-modal",theme:"striped"},d.createElement(j.default,{type:j.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},d.createElement(R.default,{theme:"title",block:!0},P.default.t(315)),i),d.createElement(v.default,{flatListControllers:[this.flatListController]},d.createElement("div",{className:s.default.body},d.createElement("div",{className:s.default.photo},d.createElement(g.default,{id:e.id,size:g.DETAIL_IMAGE_SIZE.LARGE})),t,null,c,l)))}}]),a}(d.Component);w.CONCERNS={chat:["id","groupMetadata"]};var L=(0,k.default)((0,N.default)((0,I.default)(w,w.CONCERNS)));t.default=L},bajacafbgd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("bdjjabfecc")),h=i(a("bjgjggcbjf")),p=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e))._handleOK=function(){var e=n.state.selectedValue;null!=e&&n.props.onSelect(e),n.closeModal()},n._handleChange=function(e){var t=e.target;t instanceof HTMLInputElement&&n.setState({selectedValue:parseInt(t.value,10)})},n.closeModal=function(){s.default.closeModal()},n.state={selectedValue:e.initialValue},n}return(0,r.default)(a,[{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){var a=t.value,n=t.label;return(d.createElement("li",{key:"setting-".concat(a)},d.createElement("label",{className:h.default.label},d.createElement("input",{type:"radio",className:h.default.input,value:String(a),checked:a===e.state.selectedValue,onChange:e._handleChange}),n)))}));return d.createElement(u.default,{title:this.props.title,okText:f.default.t(437),onOK:this._handleOK,onCancel:this.closeModal},d.createElement("form",null,d.createElement("ol",null,t)))}}]),a}(d.PureComponent);t.default=p},bbgbbhfdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=d,t.businessHoursFromConfig=s,t.getWebsiteLink=function(e){var t=encodeURIComponent(e);return"https://l.wl.co/l?u=".concat(t)},t.getBusinessHours=function(e){var t=e.config,a=(new Date).getDay();return o.DAYS_OF_WEEK.map((function(e,n){var i=(a+n)%o.DAYS_OF_WEEK.length,r=o.DAYS_OF_WEEK[i];return{day:d(i),hours:s(t[r]),first:0===n}}))};var i=n(a("dgdjiicfdg")),o=a("bechdajic"),r=n(a("cfadcbbiie")),c=n(a("bdjjabfecc"));function l(e){return i.default.utc().startOf("day").add(e,"minutes").format(r.default.timestampStrFormat())}function d(e){return i.default.weekdays(e)}function s(e){switch(e&&e.mode){case o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map((function(e){return e.map(l).join(" - ")})).join("\n"):"";case o.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return c.default.t(317);case o.BUSINESS_HOUR_MODES.OPEN_24H:return c.default.t(319);default:return c.default.t(318)}}},bcbjddibih:function(e,t){e.exports={thumbsContainer:"_17JJa",scrollContainer:"_3OapF",viewerThumbs:"_1jYaq",mediaThumb:"dWQh3",thumbPadding:"_1RPFM"}},bdaddecbdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("daghjjjedc")),f=i(a("cfadcbbiie")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),m=i(a("gaeccibgi")),g=i(a("bdjjabfecc")),b=i(a("dcdbbhicce")),v=a("cjfegjecaj"),E=i(a("dhhjhedjij")),j=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onMute=function(t){h.default.muteChat((0,v.unproxy)(e.props.chat),t)},e.onUnmute=function(){var t=e.props.chat.isGroup?g.default.t(459):g.default.t(457);h.default.openModal(d.createElement(p.default,{onOK:e.unmute,okText:g.default.t(57),onCancel:function(){return h.default.closeModal()},cancelText:g.default.t(1482)},t))},e.unmute=function(){e.onMute(!1),h.default.closeModal()},e}return(0,r.default)(a,[{key:"render",value:function(){var e,t=this,a=this.props.mute.isMuted,n=this.props.chat.muteExpiration,i=a?this.onUnmute:function(){t.onMute(!0)},o=d.createElement(u.default,{checked:a,onChange:i}),r=a?g.default.t(1490):g.default.t(1616);if(a&&n){var c=f.default.untilStr(n);e=d.createElement(E.default,{theme:"muted",block:!0},c)}return(d.createElement(m.default,{a8nText:s.default.key("block-mute"),side:o,onClick:i,multiline:!(!a||!n)},d.createElement(E.default,{theme:"title"},r),e))}}]),a}(d.PureComponent);j.CONCERNS={chat:["isGroup","muteExpiration"],mute:["isMuted"]};var M=(0,b.default)(j,j.CONCERNS);t.default=M},bdjgdghiah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=i(a("hhegggegb")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("hgigjbgie")),h=a("cdhbdacigj"),p=i(a("edfgfbdfg")),m=i(a("bijdgebdaf")),g=i(a("ccadaajdfc")),b=a("cjfegjecaj"),v=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._setScrollContainer=function(t){e._scrollContainer=t},e._onScroll=function(t){e._handleScroll(t.target)},e._handleScroll=(0,d.default)((function(t){var a=e.props,n=a.hasBefore,i=a.msgsCollection,o=a.setScrollOffset,r=t.scrollHeight-t.clientHeight-t.scrollTop<f.default.SCROLL_FUDGE;n&&r&&e._queryCollection(i.head()),o&&o(t.scrollTop)}),100),e._handleClickMsg=function(t,a){var n=(0,b.unproxy)(t);e.props.selectable&&void 0!==a?e.props.onMessageSelect(n,a):u.default.openChatAt(n.chat,n.chat.getSearchContext(n))},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hasBefore,a=e.scrollOffset;t&&this._queryCollection(),this._scrollContainer&&(this._scrollContainer.scrollTop=a)}},{key:"componentWillUnmount",value:function(){this._handleScroll.cancel()}},{key:"_queryCollection",value:function(e){var t=this.props,a=t.hasBefore,n=t.queryCollection;a&&n(e)}},{key:"_renderElements",value:function(){var e=this,t=this.props,a=t.msgsCollection,n=t.selectedMessages,i=t.renderElements;return i?i(this._handleClickMsg):a.map((function(t,a){return s.createElement(g.default,{key:"".concat(t.id.toString(),"_").concat(a),msg:t,selectable:e.props.selectable,selectedMessages:n,onMessageSelect:e.props.onMessageSelect,displayType:f.default.DISP_TYPE.GALLERY,onClickMsg:e._handleClickMsg,onProductClick:e.props.onProductDetail})})).reverse()}},{key:"render",value:function(){var e=this.props,t=e.queryBefore,a=e.hasBefore,n=e.msgsCollection,i=e.emptyText,o=this._renderElements();if(t){if(0===o.length)return s.createElement(h.Loading,null);o.push(s.createElement(p.default,null))}return 0!==n.length||t||a?s.createElement("div",{ref:this._setScrollContainer,onScroll:this._onScroll,className:m.default.wrapper},o):s.createElement(h.Empty,{text:i,a8nText:"no-elements"})}}]),a}(s.Component);t.default=v,v.defaultProps={scrollOffset:0}},bfdjaabbje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProfile=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("dbejedjeej")),f=i(a("dghiegaafa")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("cciafahdib")),g=i(a("ddeefhbafc")),b=i(a("gfebgebbi")),v=i(a("djaiggcdb")),E=i(a("bhbdiadfhj")),j=i(a("bdjjabfecc")),M=i(a("cbedabhaa")),C=i(a("cjafajdgce")),y=a("igiffibee"),_=i(a("bdcchebfge")),S=a("bbgbbhfdaj"),k=i(a("ecdebjcgfa")),P=i(a("dcdbbhicce")),N=i(a("dgdcjccfdi")),T=p.default.VERIFIED_LEVEL,I=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={collapsedHours:!0},e.onBusinessHoursClick=function(){e.setState({collapsedHours:!e.state.collapsedHours})},e.onBusinessInfoClick=function(){h.default.openModal(s.createElement(u.default,{contact:e.props.contact}))},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){new _.default.ViewBusinessProfile({viewBusinessProfileAction:_.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e,t=this.props.contact,a=!t.name||t.name===t.verifiedName,n="psa-unverified";switch(t.verifiedLevel){case T.HIGH:n="psa-verified",a?e=s.createElement(b.default,{className:f.default.verifiedLabel,text:j.default.t(331)}):(e=s.createElement(b.default,{className:f.default.verifiedLabel,text:j.default.t(329)}),e=s.createElement(M.default,{id:330,params:{verified:e,businessName:t.verifiedName}}));break;case T.LOW:e=a?s.createElement(b.default,{text:j.default.t(327)}):j.default.t(326,{businessName:t.verifiedName});break;case T.UNKNOWN:e=j.default.t(325)}return(s.createElement(D,{icon:n,className:f.default.businessMarker,onClick:this.onBusinessInfoClick},e))}},{key:"getBusinessInfoTitleV2",value:function(){var e;switch(this.props.contact.verifiedLevel){case T.HIGH:e=j.default.t(328);break;case T.LOW:case T.UNKNOWN:e=j.default.t(325)}return(s.createElement(m.default,{a8nText:"business-title",className:f.default.businessTitleText,onClick:this.onBusinessInfoClick},e))}},{key:"getBusinessHours",value:function(e){var t=this,a=(0,S.getBusinessHours)(e).map((function(e){var a=e.day,n=e.hours,i=e.first;return!i&&t.state.collapsedHours?null:s.createElement(A,{day:a,key:a,hours:n,first:i,collapsed:t.state.collapsedHours})}));return s.createElement(D,{icon:"business-hours",onClick:this.onBusinessHoursClick},a)}},{key:"getAddressString",value:function(e){var t=e.streetAddress,a=e.localizedCityName,n=e.zipCode;return t&&a&&n?j.default.t(324,{streetAddress:t,city:a,zipCode:n}):t&&a?j.default.t(323,{streetAddress:t,city:a}):t}},{key:"getAddress",value:function(e,t,a,n){var i,o,r,c=n?this.getAddressString(n):null;(null!=t&&null!=a&&(i=s.createElement("div",{style:{height:150},className:f.default.businessMap},s.createElement(C.default,{lat:t,lng:a,name:c||e,width:565,height:150}))),c)&&(r=null!=t&&null!=a?(0,y.getMapUrl)(t,a,c):(0,y.getSearchUrl)(c),o=s.createElement("div",{className:f.default.address},s.createElement(v.default,{href:r},s.createElement(b.default,{selectable:!0,direction:"auto",text:c}))));return o||i?s.createElement(D,{icon:"business-address"},o,i):null}},{key:"render",value:function(){var e,t,a,n,i,o,r,c;e=E.default.supportsFeature(E.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var l,d=this.props.businessProfile;if(d.stale)t=s.createElement("div",{className:f.default.contactBusinessInfoSpinner},s.createElement(k.default,{size:20,stroke:5}));else if(a=d.categories&&d.categories.length?s.createElement(D,{icon:"business-category"},s.createElement(b.default,{selectable:!0,direction:"auto",text:d.categories.map((function(e){return e.localized_display_name})).join(j.default.t(543))})):null,n=d.description?s.createElement(D,{icon:"business-description"},s.createElement(b.default,{selectable:!0,direction:"auto",text:d.description})):null,i=this.getAddress(this.props.contact.name,d.latitude,d.longitude,d.structuredAddress),d.website&&Array.isArray(d.website)&&d.website.length&&(o=d.website.map((function(e,t){var a=(0,S.getWebsiteLink)(e),n=s.createElement(b.default,{selectable:!0,direction:"auto",text:e}),i=s.createElement(v.default,{className:f.default.link,href:a},n);return s.createElement(D,{icon:"business-website",key:t},i)}))),d.businessHours&&(r=this.getBusinessHours(d.businessHours)),d.email){var u=s.createElement(b.default,{selectable:!0,direction:"auto",text:d.email}),h=s.createElement(v.default,{className:f.default.link,href:"mailto:".concat(d.email)},u);c=s.createElement(D,{icon:"business-email",dir:"auto"},h)}return(t||null!=i||a||n||null!=r||c||o)&&(l=s.createElement(g.default,{theme:"padding"},s.createElement("div",{className:f.default.contactBusinessInfo},t,i,a,n,r,c,o))),s.createElement(s.Fragment,null,s.createElement(g.default,null,e),l)}}]),a}(s.PureComponent);t.BusinessProfile=I,I.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]};var A=function(e){var t=e.first?s.createElement("div",{className:f.default.businessHoursChevron,role:"button"},s.createElement(N.default,{className:e.collapsed?"":f.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return(s.createElement("div",{className:f.default.businessHoursRow},s.createElement("div",{className:f.default.businessHoursDay},s.createElement(b.default,{direction:"auto",text:e.day})),s.createElement("div",{className:f.default.businessHoursHours},s.createElement(b.default,{direction:"auto",text:e.hours})),t))},D=function(e){return s.createElement("div",{className:(0,d.default)(f.default.dataRow,e.className),onClick:e.onClick},s.createElement("div",{className:f.default.dataRowIcon},s.createElement(N.default,{name:e.icon})),s.createElement("div",{className:f.default.dataRowText},e.children))},R=(0,P.default)(I,I.CONCERNS);t.default=R},bgcibhihaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.size!==t.size)return!1;for(var a of e){var n=(0,i.default)(a,2),o=n[0],r=n[1];if(t.get(o)!==r)return!1}return!0};var i=n(a("hbddjfeei"))},bgdcbcbibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),d=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("dhigahgdjb")),p=i(a("bdacheahgj")),m=i(a("gfebgebbi")),g=i(a("bdeebiagii")),b=i(a("bdjjabfecc")),v=a("cgjcdbggeb"),E=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).contactFilter=function(t){var a=e.props.chat.groupMetadata;return!!h.default.isFilteredContact(t)&&(!a.participants.get(t.id)||b.default.t(1793))},e.confirmAddParticipant=function(t){var a=e.onAddParticipant.bind((0,c.default)(e),t),n=b.default.t(435,{participant:t.formattedName,subject:e.props.chat.contact.name});e.push(s.createElement(f.default,{onOK:a,okText:b.default.t(1791),onCancel:e._pop,cancelText:b.default.t(1482)},s.createElement(m.default,{text:n})))},e.onAddParticipant=function(t){(0,v.addParticipants)(e.props.chat,[t]).catch((function(){})),u.default.closeModal()},e._pop=function(){e.pop()},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.push(s.createElement(p.default,{title:b.default.t(1791),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),a}(g.default);t.default=E},bgedfbbhib:function(e,t){e.exports={header:"IEPZT"}},bhfbajceed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),d=i(a("chichicffi")),s=i(a("hhegggegb")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("jigjfjjij")),p=i(a("ebicahbfai")),m=i(a("bacefjjjdb")),g=n(a("bjdccffhaj")),b=i(a("ccbgfecegc")),v=i(a("ebcfjdcbhh")),E=i(a("bbfjdcedab")),j=a("ihfehgab"),M=i(a("hgigjbgie")),C=i(a("dfjejeffdj")),y=i(a("gfebgebbi")),_=i(a("eiighchhi")),S=a("bgddggdhc"),k=a("bjegcccgec"),P=i(a("ddbeddiehf")),N=a("dhegcfddhg"),T=a("gaifbabbj"),I=i(a("bdjjabfecc")),A=i(a("dcjigehfeb")),D=i(a("dhbjadiajj")),R=i(a("ddbeaiefad")),O=i(a("dajceebgdj")),w=i(a("cfccehgdic")),L=i(a("chihecbaj")),x=i(a("cahecebagf")),G=i(a("bdcchebfge")),F=i(a("djcajecjgh")),U=i(a("difhgjjfcb")),B=a("deffjjfcba"),W=i(a("dcdbbhicce")),V=a("cjfegjecaj"),H=a("hjbbdjjdf"),q=i(a("cgjdibiahi")),Y=i(a("bcifhbgija")),z=i(a("ecfabjjeda"));function K(){var e=(0,o.default)(["type: ",""]);return K=function(){return e},e}var Z=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).setMediaImage=function(e){n.mediaImage=e},n.setMediaVideo=function(e){n.mediaVideo=e},n.onImageLoad=function(e){n.props.onImageLoad&&n.props.onImageLoad();var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&(n.zoomed||(n.zoomed=!0,n.animateZoom(t,e)))},n.animateZoom=function(e,t){var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.top-a.top,r=i.left-a.left,c=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,r-=(t.clientWidth-e.clientWidth)/2,(0,Y.default)(t,{opacity:[1,0],translateX:[0,r],translateY:[0,o],scale:[1,c]},{duration:M.default.MEDIA_VIEWER.ANIMATION_DURATION,easing:[.1,.82,.25,1]});var l=(0,S.forbiddenFindDOMNode)(n.caption);l&&(0,Y.default)(l,{opacity:[1,0]},{duration:M.default.MEDIA_VIEWER.ANIMATION_DURATION})},n.openForwardFlow=function(e){e.stopPropagation();var t=n.props.msg;t.isUnsentMedia?b.default.openModal(f.createElement(E.default,{title:I.default.t(602),onOK:function(){return b.default.closeModal()},okText:I.default.t(1635)},I.default.t(599))):b.default.openModal(f.createElement(P.default,{msgs:[(0,V.unproxy)(t)]}),{transition:"modal-flow"})},n.onReplyClick=function(){n.onClose(),Promise.delay(M.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION).then((function(){var e=(0,V.unproxy)(n.props.msg),t=e.chat;t.composeQuotedMsg=e,b.default.focusChatTextInput(t)}))},n.onDeleteClick=function(){var e=n.props.msg;b.default.openModal(f.createElement(C.default,{chat:e.chat,msgList:[(0,V.unproxy)(e)],deletePrompt:!0,revokePrompt:e.canRevoke()}))},n.onMsgInfoClick=function(){n.onClose(),Promise.delay(M.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION+250).then((function(){b.default.msgInfoDrawer((0,V.unproxy)(n.props.msg))}))},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){if(!n.state.annotationTooltipDisplayed){var a=n.mediaImage;if(a){var i=a.image;if(i){var o=(0,S.forbiddenAssertDOMNode)(i);if(o){var r=o.parentNode,c=r.parentNode,l=a.getTranslatePosition(c,e,t),d=l.translateX,s=l.translateY;(0,Y.default)(r,"stop"),(0,Y.default)(r,{translateX:d,translateY:s,scale:M.default.MEDIA_VIEWER.ZOOM_IN_FACTOR},{duration:0})}}}}},n.onDownloadClick=function(e){e.stopPropagation(),_.default.initDownload((0,V.unproxy)(n.props.msg))},n.onStarClick=function(e){e.stopPropagation();var t=n.props.msg;b.default.sendStarMsgs(t.chat,[(0,V.unproxy)(t)])},n.onUnstarClick=function(e){e.stopPropagation();var t=n.props.msg;b.default.sendUnstarMsgs(t.chat,[(0,V.unproxy)(t)])},n.onGoToMsgClick=function(e){e.stopPropagation(),n.onClose(),b.default.existsDrawerRight((function(e){e&&2===v.default.column&&b.default.closeDrawerRight()}));var t=n.props.msg,a=t.chat.getSearchContext((0,V.unproxy)(t));b.default.openChatAt(t.chat,a).then((function(e){e&&b.default.focusChatTextInput(t.chat)}))},n.onClose=function(){if(!n.closing){n.closing=!0,(0,H.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation();var e,t=n.props.getZoomNode&&n.props.getZoomNode(n.props.msg.id);if(!t)return n.props.onBack();if(n.props.mediaData.type===A.default.TYPE.IMAGE&&n.mediaImage?e=n.mediaImage.image:n.props.mediaData.isGif&&n.mediaVideo&&(e=n.mediaVideo.player),!e)return n.props.onBack();var a=(e=(0,S.forbiddenAssertDOMNode)(e)).getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.top-a.top,r=i.left-a.left,c=t.clientWidth/e.clientWidth;o-=(e.clientHeight-t.clientHeight)/2,r-=(e.clientWidth-t.clientWidth)/2,(0,Y.default)(e,{translateX:[r,0],translateY:[o,0],scale:[c,1]},{duration:M.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((function(){n.props.onBack()}));var l=(0,S.forbiddenFindDOMNode)(n.caption);l&&(0,Y.default)(l,{opacity:[0,1]},{duration:M.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})}},n.onAnnotationTooltipDisplay=function(){return n.setState({annotationTooltipDisplayed:!0})},n.onAnnotationTooltipDismiss=function(){return n.setState({annotationTooltipDisplayed:!1})},n.handleMouseMove=(0,s.default)(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.listenToMouseMove=!1,n.state={imgZoomed:!1,zoomElement:null,annotationTooltipDisplayed:!1},n}return(0,c.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===A.default.STAGE.RESOLVED&&this.props.zoomIn&&this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e,t,a=this.props,n=a.msg,i=a.mediaData;switch(i.type){case A.default.TYPE.IMAGE:e=f.createElement(D.default,{msg:n,mediaData:i,key:n.id.toString(),onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,onAnnotationTooltipDisplay:this.onAnnotationTooltipDisplay,onAnnotationTooltipDismiss:this.onAnnotationTooltipDismiss,ref:this.setMediaImage});break;case A.default.TYPE.VIDEO:e=f.createElement(J,{msg:n,mediaData:i,key:n.id.toString(),onLoad:i.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case A.default.TYPE.AUDIO:e=f.createElement(ee,{mediaData:i,key:n.id.toString()});break;default:__LOG__(4,!1,new Error)(K(),i.type),SEND_LOGS("MediaViewerModal: unexpected media type")}var o=this.props.msgIndexInAlbum>=0&&this.props.albumSize>=0;if(n.caption||o){var r;if(o){var c={number:this.props.msgIndexInAlbum+1,totalNumber:this.props.albumSize};r=I.default.t(1052,c)}var l=T.Configuration.TrustedConversation({mentions:n.mentionMap(),links:n.getLinks()}),d=this.props.zoomIn&&(i.isGif||i.type===A.default.TYPE.IMAGE),s=(0,u.default)(x.default.mediaCaption,{[x.default.captionHidden]:d});t=f.createElement(y.default,{className:s,formatters:l,ref:(0,N.GetRef)("caption",this),text:n.caption||r})}var h=(0,u.default)(x.default.media,{[x.default.mediaWithCaption]:!!t}),p=f.createElement("div",{className:(0,u.default)(x.default.btnMediaNext)},f.createElement(g.default,{type:g.ButtonType.Next,onClick:this.props.onNext||function(e){return e&&e.stopPropagation()},onKeyDown:this.props.onNext||function(e){return e&&e.stopPropagation()},disabled:!this.props.onNext||this.state.imgZoomed,theme:B.RoundTheme.Default})),m=f.createElement("div",{className:(0,u.default)(x.default.btnMediaPrev)},f.createElement(g.default,{type:g.ButtonType.Prev,onClick:this.props.onPrev||function(e){return e&&e.stopPropagation()},onKeyDown:this.props.onPrev||function(e){return e&&e.stopPropagation()},disabled:!this.props.onPrev||this.state.imgZoomed,theme:B.RoundTheme.Default})),b=(0,u.default)("overlay",x.default.mediaViewer,{[x.default.mediaViewerAnimate]:this.props.zoomIn,[x.default.cursorZoomOut]:this.state.imgZoomed}),v=this.state.imgZoomed?null:this.onScroll,E=this.state.imgZoomed?null:this.onClose,j=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,M=this.state.imgZoomed?this.onZoomOut:null;return f.createElement(q.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},f.createElement("div",{className:b,"data-animate-media-viewer":!0,onClick:M,onMouseMove:j},f.createElement(O.default,{msg:n,mediaData:i,onGoToMsgClick:this.onGoToMsgClick,onReplyClick:this.onReplyClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,onDeleteClick:this.onDeleteClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onMsgInfoClick:this.onMsgInfoClick,onClose:this.onClose,msgIndexInAlbum:this.props.msgIndexInAlbum}),f.createElement("div",{className:x.default.mediaContent,dir:"ltr",onWheel:v,onClick:E},m,f.createElement("div",{className:h},f.createElement(w.default,{msg:n,mediaData:i}),e,t),p)))}}]),a}(f.PureComponent);Z.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption","interactiveAnnotations"],mediaData:["mediaStage","type","isGif"]};var X=(0,W.default)(Z,Z.CONCERNS);t.default=X;var Q=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={played:!1,size:{width:0,height:0},isFullscreenMode:!1},e.updateSize=function(){var t=e.props.mediaData;(t.mediaStage===A.default.STAGE.RESOLVED||t.streamable&&t.isStreamable())&&t.fullWidth&&t.fullHeight&&e.setState({size:e.getSize()})},e.stopPropagation=function(e){e.stopPropagation()},e.getSize=function(){var t=e.props.mediaData;if(t.isGif){return t.fullWidth>=330?{width:t.fullWidth,height:t.fullHeight}:{width:330,height:330*t.fullHeight/t.fullWidth}}return t.fullWidth>=k.MIN_WIDTH?{width:t.fullWidth,height:t.fullHeight}:{width:k.MIN_WIDTH,height:t.fullHeight}},e.handleFullscreenToggle=function(t){e.setState({isFullscreenMode:t})},e}return(0,c.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.updateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia(!0,G.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.isGif,o=n.mediaStage===A.default.STAGE.RESOLVED||n.streamable&&n.isStreamable();if(o=o||a.isForcingRMR()){var r,c,l=I.default.t(1374);return!this.state.isFullscreenMode&&a&&a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(r=f.createElement(h.default,{annotations:a.interactiveAnnotations})),c=i?f.createElement("div",{className:R.default.mediaViewerImg,ref:(0,N.GetRef)("player",this)},f.createElement(z.default,{src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},l),r):f.createElement("div",{className:R.default.mediaViewerImg,onClick:this.stopPropagation},f.createElement(F.default,{ref:(0,N.GetRef)("player",this),msg:a,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},onFullscreenToggle:this.handleFullscreenToggle,autoPlay:!0,type:j.PLAYER_TYPE.MEDIA_VIEWER,overlays:r})),f.createElement(U.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},c)}return f.createElement(m.default,{altText:null!==(e=a.caption)&&void 0!==e?e:"",mediaData:n})}}]),a}(f.PureComponent);Q.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},Q.defaultProps={startTime:0};var J=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"player",get:function(){return this.getComponent().player}}]),a}((0,W.default)(Q,Q.CONCERNS)),$=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).stopPropagation=function(e){e.stopPropagation()},e._renderAudioTag=function(t){return f.createElement(p.default,{url:t,className:x.default.mediaViewerAudio,onClick:e.stopPropagation,autoPlay:!0,controls:!0},I.default.t(216))},e._renderPlaceholder=function(){return f.createElement("div",{className:x.default.imageAudio,onClick:e.stopPropagation})},e}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props.mediaData;return(f.createElement(L.default,{mediaData:e,placeholderRenderer:this._renderPlaceholder},this._renderAudioTag))}}]),a}(f.PureComponent);$.CONCERNS={mediaData:["mediaStage","renderableUrl"]};var ee=(0,W.default)($,$.CONCERNS)},biiiigbhdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,h.unproxy)(e),t)};var o=i(a("dfadhaifh")),r=n(a("ddhijeejag")),c=a("dheeaichcj"),l=i(a("ccbgfecegc")),d=a("bgihjbde"),s=n(a("cajijabhgb")),u=i(a("bdjjabfecc")),f=a("babicefcfg"),h=a("cjfegjecaj"),p=a("dcjbdhhjge");function m(){var e=(0,o.default)(["models:chat:setSubject dropped"]);return m=function(){return e},e}function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.genId)(),n=t.trim();if(!n)return Promise.reject(new s.ActionError);if(n===e.contact.name)return Promise.reject(new s.ActionError);var i=(0,f.sendSetGroupSubject)(e.id,n),o=e.contact.name,h=new c.ActionType(u.default.t(97)),b=i.then((function(){return new c.ActionType(u.default.t(96,{subject:n}),u.default.t(178),(function(){return g(e,o,a)}))})).catchType(d.ServerStatusCodeError,(function(e){if(e.status>=400)return new c.ActionType(u.default.t(95))})).catch((function(){return __LOG__(3)(m()),new c.ActionType(u.default.t(95),u.default.t(174),(function(){return g(e,n,a)}))}));return l.default.openToast(r.createElement(c.ActionToast,{id:a,initialAction:h,pendingAction:b})),i.then((function(t){if(!t._duplicate){var a={name:n};return(0,p.updateLocal)(e.contact.id,a).then((function(){e.contact.set(a)}))}})).catchType(d.ServerStatusCodeError,(function(){}))}},bijdgebdaf:function(e,t){e.exports={wrapper:"_1F7mk"}},bjgjggcbjf:function(e,t){e.exports={label:"_3Fas3",input:"_5eHZa"}},bjhgfifchg:function(e,t){e.exports={header:"_2zQjm",chevronIcon:"_1LKBy",ephemeralIcon:"_14zYM"}},cajgbiifbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=a("dfdebdgdei"),u=i(a("bgfcjjddjf")),f=i(a("bfdjaabbje")),h=i(a("ejegihaeh")),p=i(a("deccgghbae")),m=i(a("dbdfbgehgj")),g=i(a("ccbgfecegc")),b=i(a("cebjjhdbec")),v=i(a("bbfjdcedab")),E=i(a("daghgbcch")),j=n(a("hhcjfgifh")),M=i(a("dahagdijgh")),C=i(a("gaeccibgi")),y=i(a("bjheffjbgd")),_=i(a("cciafahdib")),S=n(a("bjjhgjdbhd")),k=i(a("ddeefhbafc")),P=i(a("gfebgebbi")),N=i(a("ddbhiaeibf")),T=i(a("dbfjeecgih")),I=i(a("bhbdiadfhj")),A=i(a("jheedhagg")),D=a("dfhgeaeig"),R=i(a("chhebaafhb")),O=i(a("bdjjabfecc")),w=i(a("cbedabhaa")),L=i(a("ebddggeaib")),x=i(a("dbbhcaicgf")),G=i(a("cdicaaigga")),F=i(a("bdcchebfge")),U=i(a("bdaddecbdh")),B=i(a("gjbhafcjg")),W=i(a("dcbcigbda")),V=i(a("biibicegh")),H=i(a("dhccahhefj")),q=i(a("cbjebbghea")),Y=a("cbhhehcjbb"),z=a("dcbafbaejf"),K=i(a("dcdbbhicce")),Z=i(a("dadjidbecc")),X=i(a("dgdcjccfdi")),Q=i(a("dhhjhedjij")),J=i(a("bcagigidbd")),$=i(a("djbfhebjhe")),ee=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).flatListController=new T.default,n.ProductCatalogSession=new V.default,n._init=function(){I.default.supportsFeature(I.default.F.QUERY_IDENTITY)&&!I.default.supportsFeature(I.default.F.MD_BACKEND)&&(0,D.queryIdentity)(n.props.contact)},n.onBlocklistChange=function(){n.state.contactIsBlocked!==!!u.default.get(n.props.contact.id)&&n.setState({contactIsBlocked:!!u.default.get(n.props.contact.id)})},n.onDeleteChat=function(){var e=m.default.assertGet(n.props.contact.id);g.default.deleteOrExitChat(e)},n.onBlockContact=function(){var e=d.createElement(B.default,{contact:n.props.contact});g.default.openModal(d.createElement(v.default,{onOK:n.blockContact,okText:O.default.t(247),onCancel:function(){return g.default.closeModal()},cancelText:O.default.t(1482)},d.createElement(w.default,{id:248,params:{contact:e}})))},n.onReportSpam=function(){g.default.openModal(d.createElement(q.default,{isBusiness:n.props.contact.isBusiness,isGroupChat:!1,onReport:n.reportSpam,onReportBlockClear:n.reportSpamBlockClear,onCancel:function(){return g.default.closeModal()}}))},n.reportSpam=function(){var e=m.default.get(n.props.contact.id);e&&(0,z.sendSpamReport)(e),g.default.closeModal()},n.reportSpamBlockClear=function(){var e=m.default.get(n.props.contact.id);e&&(0,z.sendSpamBlockClear)(e),g.default.closeModal()},n.onUnblockContact=function(){var e=d.createElement(B.default,{contact:n.props.contact});g.default.openModal(d.createElement(v.default,{okText:O.default.t(1316),onOK:n.unblockContact,cancelText:O.default.t(1482),onCancel:function(){return g.default.closeModal()}},d.createElement(w.default,{id:1317,params:{contact:e}})))},n.blockContact=function(){(0,s.blockContact)(n.props.contact),g.default.closeModal()},n.unblockContact=function(){(0,s.unblockContact)(n.props.contact),g.default.closeModal()},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.onViewPicture=function(e){if(n.canViewPicture){var t=e.target;g.default.openModalMedia(d.createElement(W.default,{contact:n.props.contact,profilePicThumb:n.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),{transition:"profile-viewer",uim:n.props.uim})}},n.onDetailImageLoad=function(){n.canViewPicture=!0},n.canViewPicture=!1,n.state={contactIsBlocked:!!u.default.get(e.contact.id)},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&e.businessCatalog&&h.default.findCarouselCatalog(e.id),I.default.supportsFeature(I.default.F.MD_BACKEND)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&!!e.businessCatalog}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,a=e.onProductCatalog,n=e.onProductDetail,i=h.default.get(t.id);return i?d.createElement(p.default,{onProductDetail:n,onProductCatalog:a,catalog:i,sessionId:this.ProductCatalogSession.toString(),entryPoint:F.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e,t=this.props.contact,a=d.createElement(b.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),n=m.default.get(t.id);n&&(e=d.createElement(k.default,null,d.createElement(_.default,{a8nText:"li-delete-chat",icon:d.createElement(X.default,{name:"delete"}),color:"danger",onClick:this.onDeleteChat},O.default.t(486))));var i=null;i=this.state.contactIsBlocked?d.createElement(k.default,null,d.createElement(_.default,{a8nText:"li-unblock",color:"success",icon:d.createElement(X.default,{name:"settings-blocked",directional:!0}),onClick:this.onUnblockContact},O.default.t(1316))):d.createElement(k.default,null,d.createElement(_.default,{a8nText:"li-block",icon:d.createElement(X.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},O.default.t(247)));var o=d.createElement(k.default,null,d.createElement(_.default,{a8nText:"li-report-spam",color:"danger",icon:d.createElement(X.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},t.isBusiness?O.default.t(1141):O.default.t(1144))),r=null;if(this.props.onMediaGallery&&n){var c=this.props.onMediaGallery,l=d.createElement(X.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0}),s=I.default.supportsFeature(I.default.F.LINK_DOC_GALLERY)?O.default.t(855):O.default.t(852);r=d.createElement(k.default,{a8nText:"section-media",title:s,titleOnClick:c,subtitle:l,theme:"padding"},d.createElement(G.default,{chat:n,mediaMsgs:n.getMediaMsgs()}))}var u=null;I.default.supportsFeature(I.default.F.LIVE_LOCATIONS)&&n&&(u=d.createElement(x.default,{chat:n,onClick:this.props.onLiveLocation}));var h=this.renderProductCatalogSection(),p=n&&n.mute.canMute()?d.createElement(U.default,{chat:n,mute:n.mute}):null,g=null;if(this.props.onStarred){var v=d.createElement(X.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});g=d.createElement(C.default,{a8nText:"block-starred-messages",side:v,onClick:this.props.onStarred,border:!0},d.createElement(Q.default,{theme:"title"},O.default.t(413)))}var T=n&&n.shouldShowEphemeralSetting()?d.createElement(N.default,{onClick:this.props.onEphemeral,chat:n}):null,A=null,D=n&&n.getReceivedVcardMsgs();if(I.default.supportsFeature(I.default.F.INDEX_RECEIVED_VCARD)&&D&&D.length){var w=d.createElement(X.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});A=d.createElement(C.default,{a8nText:"block-contact-card",side:w,onClick:this.props.onContactCard},d.createElement(Q.default,{theme:"title"},O.default.t(464,{_plural:D.length})))}var L=null;(p||g||T||A)&&(L=d.createElement(k.default,null,p,g,T,A,null));var F=d.createElement(C.default,{multiline:!0},d.createElement(Q.default,{theme:"title"},d.createElement(Z.default,{id:t.id}))),W=d.createElement(C.default,null,d.createElement(Y.SelectableSpan,{dir:"auto",selectable:!0},d.createElement(Q.default,{theme:"title"},(0,$.default)(t.id)))),V=d.createElement(k.default,{a8nText:"section-about-and-phone-number"},d.createElement("div",{className:E.default.titleAbout},d.createElement(Q.default,{theme:"section-title"},O.default.t(466))),F,W),H=n&&n.presence?d.createElement(J.default,{contact:t,presence:n.presence,chatstate:n.presence.chatstate,location:"info"}):null,q=t.showBusinessVname&&I.default.supportsFeature(I.default.F.VNAME_V_2)?d.createElement("div",{className:E.default.businessVname},d.createElement(P.default,{text:t.verifiedName,direction:"auto"}),d.createElement("div",{className:E.default.icon},d.createElement(X.default,{name:"psa-verified"}))):null,z=t.isBusiness&&t.businessProfile?d.createElement(f.default,{contact:t,businessProfile:t.businessProfile}):null,K=!t.name&&t.notifyName?d.createElement("div",{className:E.default.nameSecondary},d.createElement(Q.default,{theme:"muted"},d.createElement(P.default,{className:E.default.screenName,direction:"auto",text:t.notifyName}))):null;return d.createElement(M.default,{key:"contact-info-modal",theme:"striped"},d.createElement(S.default,{title:O.default.t(1493),type:S.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),d.createElement(y.default,{flatListControllers:[this.flatListController]},d.createElement("div",{className:E.default.body},d.createElement(k.default,{theme:"padding-large"},d.createElement("div",{className:E.default.avatar},d.createElement(j.default,{id:t.id,size:j.DETAIL_IMAGE_SIZE.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:j.DETAIL_IMAGE_QUALITY.HIGH})),d.createElement(Q.default,{theme:"large"},d.createElement(B.default,{contact:t,selectable:!0,showBusinessCheckmark:!0})),K,d.createElement("div",{className:E.default.nameSecondary},d.createElement(Q.default,{theme:"muted"},q),d.createElement(Q.default,{theme:"muted"},H)),d.createElement(R.default,{labels:t.labels})),z,u,h,r,L,V,null,a,i,o,e)))}}]),a}(d.Component);ee.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]};var te=(0,A.default)((0,H.default)((0,L.default)((0,K.default)(ee,ee.CONCERNS))));t.default=te},cajhjbjeea:function(e,t){e.exports={body:"IKcGX",photo:"_2oK2J",chevron:"e7Sch"}},cbedcfgdae:function(e,t){e.exports={body:"_LNcL",avatar:"_1wLdx",description:"_2fh-m",nameSecondary:"_13BQq",chevron:"_26SUi",iconSearch:"_1azsy"}},ccbjchaaad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),r=i(a("dfadhaifh")),c=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=i(a("chichicffi")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=i(a("bgdcbcbibj")),m=i(a("baaafjdcde")),g=i(a("cefccdiabc")),b=i(a("dbdfbgehgj")),v=i(a("cfadcbbiie")),E=i(a("ccbgfecegc")),j=i(a("bbfjdcedab")),M=i(a("hgigjbgie")),C=i(a("dahagdijgh")),y=i(a("gaeccibgi")),_=i(a("bjheffjbgd")),S=i(a("cciafahdib")),k=n(a("bjjhgjdbhd")),P=i(a("ddeefhbafc")),N=i(a("dgebcfedgb")),T=i(a("baijfhbiei")),I=i(a("gfebgebbi")),A=i(a("ddbhiaeibf")),D=n(a("cajijabhgb")),R=n(a("bgheieccaj")),O=i(a("dbfjeecgih")),w=a("dgjddffcfg"),L=a("ddbdgibbbi"),x=i(a("bhbdiadfhj")),G=i(a("cbedcfgdae")),F=i(a("dfhcaiigfg")),U=i(a("jheedhagg")),B=a("gaifbabbj"),W=i(a("chhebaafhb")),V=i(a("bdjjabfecc")),H=n(a("dbcedfihd")),q=i(a("ebddggeaib")),Y=i(a("dbbhcaicgf")),z=i(a("cdicaaigga")),K=a("cgjcdbggeb"),Z=i(a("bdaddecbdh")),X=i(a("dcccbfbehi")),Q=i(a("hajhefagc")),J=i(a("cfcfdeifjb")),$=a("bbbdgehigj"),ee=i(a("dhccahhefj")),te=i(a("cbjebbghea")),ae=i(a("efedbfchg")),ne=a("dcbafbaejf"),ie=i(a("bfgbdiffgd")),oe=a("hjbhabfd"),re=a("biiiigbhdf"),ce=i(a("dcdbbhicce")),le=a("cjfegjecaj"),de=i(a("ebijbjhdie")),se=i(a("dgdcjccfdi")),ue=i(a("dhhjhedjij")),fe=n(a("dbihaeaggd")),he=n(a("bjhgigfbec")),pe=i(a("cgjdibiahi")),me=i(a("dfciadajdf")),ge=i(a("jccfhaecf"));function be(){var e=(0,r.default)(["group_info_drawer:onSetDescription failed"]);return be=function(){return e},e}function ve(){var e=(0,r.default)(["group_info_drawer:onSetSubject failed"]);return ve=function(){return e},e}function Ee(){var e=(0,r.default)(["GroupInfoDrawer: failed to set/delete group image"]);return Ee=function(){return e},e}var je=(0,he.genId)("max_participant_toast"),Me=function(e){(0,s.default)(a,e);var t=(0,u.default)(a);function a(e){var n;(0,c.default)(this,a),(n=t.call(this,e)).participantFlatListController=new O.default,n.pendingParticipantFlatListController=new O.default,n.updateGroupDescOnModelChange=function(){n.props.groupMetadata&&n.setState({groupDesc:n.props.groupMetadata.desc})},n.onImageSet=function(e,t){var a=n.props.profilePicThumb;n.setState({pendingPhoto:!0}),(e&&t?(0,$.setProfilePic)(a,e,t):(0,$.deleteProfilePic)(a)).checkpoint(n.props.rejectOnUnmount()).catchType(D.Unmount,(function(){})).catchType(D.ActionError,(function(){__LOG__(3)(Ee()),n.setState({resetPhotoPicker:!n.state.resetPhotoPicker})})).finally((function(){n.setState({pendingPhoto:!1})}))},n.onParticipantClick=function(e,t){ge.default.equals((0,L.getMaybeMeUser)(),t.id)||b.default.find(t.id).then((function(e){E.default.openChatFromUnread(e).then((function(t){t&&E.default.focusChatTextInput(e)}))}))},n.menuEnabled=function(e){var t=n.props.groupMetadata.participants,a=t.get(e.id);return!!a&&(t.canPromote(a)||t.canRemove(a)||t.canVerifyIdentity(a))},n.onDemoteAdmin=function(e){e.contact.pendingAction++,(0,K.demoteParticipants)(n.props.chat,[e]).then((function(){e.contact.pendingAction--})),n.setState({contextMenu:null})},n.onParticipantMenu=function(e,t){var a=n.props.groupMetadata.participants,i=a.assertGet(t.id);if(n.menuEnabled(t)){var o=[];if(a.canPromote(i)){var r=n.confirmParticipantPromote.bind((0,d.default)(n),i);o.push(f.createElement(N.default,{a8n:"mi-grp-promote-admin",key:"promote",action:r},V.default.t(863)))}if(a.canRemove(i)){var c=n.confirmParticipantRemove.bind((0,d.default)(n),i);o.push(f.createElement(N.default,{a8n:"mi-grp-remove-participant",key:"remove",action:c},V.default.t(868)))}if(x.default.supportsFeature(x.default.F.GROUPS_V_3)&&a.canDemote(i)){var l=n.onDemoteAdmin.bind((0,d.default)(n),i);o.push(f.createElement(N.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:l},V.default.t(509)))}e.event&&e.event.persist(),n.setState({contextMenu:{contactId:t.id,menu:o,anchor:e.anchor,event:e.event}})}},n.closeContextMenu=function(){n.setState({contextMenu:null})},n.confirmParticipantRemove=function(e){var t=n.onParticipantRemove.bind((0,d.default)(n),e,!0),a=V.default.t(448,{participant:e.contact.formattedName,subject:n.props.contact.name});E.default.openModal(f.createElement(j.default,{onOK:t,okText:V.default.t(1132),onCancel:function(){return E.default.closeModal()},cancelText:V.default.t(1482)},f.createElement(I.default,{text:a})))},n.onParticipantRemove=function(e,t){e.contact.pendingAction++,(0,K.removeParticipants)(n.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&E.default.closeModal()},n.confirmParticipantPromote=function(e){var t=n.onParticipantPromote.bind((0,d.default)(n),e,!0),a=V.default.t(447,{participant:e.contact.formattedName,subject:n.props.contact.name});E.default.openModal(f.createElement(j.default,{onOK:t,okText:V.default.t(863),onCancel:function(){return E.default.closeModal()},cancelText:V.default.t(1482)},f.createElement(I.default,{text:a})))},n.onParticipantPromote=function(e,t){e.contact.pendingAction++,(0,K.promoteParticipants)(n.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&E.default.closeModal()},n.openAddGroupParticipantFlow=function(){var e=n.props.chat;if(n.props.groupMetadata.participants.length>=ie.default.maxParticipants){var t=V.default.t(70,{max:ie.default.maxParticipants});E.default.openToast(f.createElement(he.default,{msg:t,id:je}))}else{var a=x.default.supportsFeature(x.default.F.GROUPS_V_3)?f.createElement(m.default,{chat:(0,le.unproxy)(e),pushTransition:"none",popTransition:"none"}):f.createElement(p.default,{chat:(0,le.unproxy)(e),pushTransition:"none",popTransition:"none"});E.default.openModal(a,{transition:"modal-flow"})}},n.openParticpantSearch=function(){E.default.openModal(f.createElement(F.default,{chat:(0,le.unproxy)(n.props.chat),onParticipantPromote:n.onParticipantPromote,onParticipantRemove:n.onParticipantRemove,onDemoteAdmin:n.onDemoteAdmin}),{transition:"modal-flow"})},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.onExitOrDeleteGroup=function(){E.default.deleteOrExitChat(n.props.chat)},n.onSubjectChange=function(e){n.setState({name:e})},n.onGroupDescChange=function(e){n.setState({groupDesc:e})},n.validateSubject=function(e){return!(!e||!e.trim())},n.onSetSubjectError=function(){E.default.openModal(f.createElement(j.default,{onOK:function(){return E.default.closeModal()},okText:V.default.t(1635)},V.default.t(98)))},n.onSetSubject=function(){var e=n.props.chat;if(n.props.groupMetadata.canSetSubject()){var t=(0,w.emojify)(n.state.name||"");if(t===n.props.contact.name)return n.setState({name:t});n.setState({pendingSubject:!0}),(0,re.setGroupSubject)(e,t).then((function(){n.setState({name:n.props.contact.name,pendingSubject:!1})})).catchType(D.Unmount,(function(){})).catch((function(){__LOG__(3)(ve()),n.setState({name:n.props.contact.name,pendingSubject:!1})}))}},n.onSetDescription=function(){var e=n.props,t=e.chat,a=e.groupMetadata;if(a.canSetDescription()){var i=n.state.groupDesc||"",o=i.match(/\r\n/gm)?"\r\n":"\n",r=new RegExp("^(".concat(o,"{2,})([^\n])"),"gm");i=i.replace(r,"".concat(o,"$2"));var c=(0,w.emojify)(i||"");if(c===a.desc)return n.setState({groupDesc:c});n.setState({pendingDesc:!0}),(0,oe.setGroupDesc)(t,c).then((function(){n.setState({groupDesc:a.desc,pendingDesc:!1})})).catchType(D.Unmount,(function(){})).catch((function(){__LOG__(3)(be()),n.setState({groupDesc:n.props.groupMetadata.desc,pendingDesc:!1})}))}},n.onCancelSubject=function(){n.setState({name:n.props.contact.name})},n.onCancelDesc=function(){n.setState({groupDesc:n.props.groupMetadata.desc})},n.showSecurityInfoPopup=function(){E.default.openModal(f.createElement(T.default,{chat:n.props.chat,chatId:n.props.chat.id,e2eSubtype:"info_encrypted"}))},n.onShowMore=function(){n.setState({participantListCollapsed:!1})},n.onShowMorePendingParticipants=function(){n.setState({pendingParticipantListCollapsed:!1})},n.renderItem=function(e){var t=e.id,a=n.props.groupMetadata.participants.get(t);if(!a)throw new R.UnknownDataError(e);var i=a.contact,o=!!n.state.contextMenu&&ge.default.equals(i.id,n.state.contextMenu.contactId);return f.createElement(X.default,{contact:i,participant:a,key:a.id.toString(),onClick:n.onParticipantClick,contextEnabled:n.menuEnabled.bind((0,d.default)(n),i),contextMenu:o,onContext:function(e){return n.onParticipantMenu(e,i)},showNotifyName:!0,waitIdle:!0})},n.onReportSpam=function(){E.default.openModal(f.createElement(te.default,{isGroupChat:!0,onReport:n.reportSpam,onReportExitClear:n.reportSpamExitClear,onCancel:function(){return E.default.closeModal()}}))},n.reportSpam=function(){(0,ne.sendSpamReport)(n.props.chat),E.default.closeModal()},n.reportSpamExitClear=function(){(0,ne.sendSpamExitClear)(n.props.chat),E.default.closeModal()},n.onDescriptionReadMore=function(){n.setState({descTruncated:!1})},n.showEditRestrictionInfo=function(){E.default.openModal(f.createElement(j.default,{onOK:function(){return E.default.closeModal()},okText:V.default.t(1635)},V.default.t(1059)))},n.revokeGrpV4Invite=function(e){E.default.openModal(f.createElement(j.default,{onOK:function(){E.default.closeModal(),n.props.groupMetadata.revokeGroupV4AddInvite([e.id.toString()]).then((function(){E.default.openToast(f.createElement(he.default,{msg:V.default.t(1602),id:(0,he.genId)()}))}))},okText:V.default.t(1696),onCancel:function(){return E.default.closeModal()},cancelText:V.default.t(1482)},f.createElement(I.default,{text:V.default.t(721,{participant:e.contact.formattedName})})))},n.renderPendingParticipantItem=function(e){var t=e.id,a=n.props.groupMetadata.pendingParticipants.get(t);if(!a)throw new R.UnknownDataError(e);var i=a.contact;return(f.createElement(X.default,{contact:i,participant:a,key:a.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(e){return n.onPendingParticipantMenu(e,i)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0}))},n.onPendingParticipantMenu=function(e,t){var a=n.props.groupMetadata.pendingParticipants.assertGet(t.id),i=[f.createElement(N.default,{a8n:"mi-grp-promote-admin",key:"promote",action:n.revokeGrpV4Invite.bind((0,d.default)(n),a)},V.default.t(1179))];e.event&&e.event.persist(),n.setState({contextMenu:{contactId:t.id,menu:i,anchor:e.anchor,event:e.event}})};var i=n.props,o=i.groupMetadata,r=o.desc,l=o.participants,s=o.pendingParticipants,u=i.showFullGroupDescription;return n.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:r,descTruncated:!u&&!!(r&&r.length>30),participantListCollapsed:l.length>M.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:s.length>M.default.INFO_DRAWER_MAX_ROWS,resetPhotoPicker:!1},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupMetadata;x.default.supportsFeature(x.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",(function(){e.forceUpdate()})),this.props.listeners.add(t.pendingParticipants,"add remove reset",(function(){e.forceUpdate()})),this.props.listeners.add(t,"change:desc",(function(){e.updateGroupDescOnModelChange()})),this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(){this.ensureParticipantsSorted()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted(),this.props.groupMetadata.pendingParticipants.ensureSorted()}},{key:"getData",value:function(){var e,t=[],a=[],n=this.props.groupMetadata.participants;n.forEach((function(n){n.contact.isMe?e=n:n.isAdmin?t.push(n):a.push(n)}));var i=[];return e&&i.push(e),i=i.concat(t,a),n.length>M.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(i=i.slice(0,M.default.INFO_DRAWER_MAX_ROWS)),i.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=(0,o.default)(e);return e.length>M.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,M.default.INFO_DRAWER_MAX_ROWS)),t.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getTitle",value:function(){return x.default.supportsFeature(x.default.F.LINK_DOC_GALLERY)?ie.default.productMediaAttachments?V.default.t(856):V.default.t(855):V.default.t(852)}},{key:"render",value:function(){var e,t,a,n,i,o,r,c=this.props.chat,l=this.props.groupMetadata,d=f.createElement(P.default,null,f.createElement(S.default,{a8nText:"li-delete-group",icon:f.createElement(se.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},c.isReadOnly?V.default.t(1521):V.default.t(1528)));if(c.isReadOnly||(e=f.createElement(P.default,null,f.createElement(S.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:f.createElement(se.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},V.default.t(1147)))),l.participants.canAdd()&&!l.support){var s=f.createElement(ae.default,null,f.createElement(se.default,{name:"add-user",directional:!0}));t=f.createElement(g.default,{image:s,theme:"drawer-list",primary:V.default.t(1791),onClick:this.openAddGroupParticipantFlow})}if(l.participants.iAmAdmin()&&this.props.onGroupInviteLink&&!l.support){var u=f.createElement(ae.default,null,f.createElement(se.default,{name:"link"}));a=f.createElement(g.default,{image:u,theme:"drawer-list",primary:V.default.t(679),onClick:this.props.onGroupInviteLink})}if(l.participants.length>M.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var p=l.participants.length-M.default.INFO_DRAWER_MAX_ROWS,m=f.createElement(ae.default,{theme:"transparent"},f.createElement(se.default,{name:"down"}));n=f.createElement(g.default,{image:m,theme:"drawer-list",primary:V.default.t(708,{count:p,_plural:p}),onClick:this.onShowMore})}if(l.pendingParticipants.length>M.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var b=l.pendingParticipants.length-M.default.INFO_DRAWER_MAX_ROWS,E=f.createElement(ae.default,{theme:"transparent"},f.createElement(se.default,{name:"down"}));i=f.createElement(g.default,{image:E,theme:"drawer-list",primary:V.default.t(708,{count:b,_plural:b}),onClick:this.onShowMorePendingParticipants})}if(l.pendingParticipants.length>0&&(o=f.createElement(R.default,{flatListController:this.pendingParticipantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem})),l.participants.iAmAdmin()&&x.default.supportsFeature(x.default.F.GROUPS_V_3)&&!l.support){var j=f.createElement(se.default,{className:G.default.chevron,name:"chevron-right-alt",directional:!0});r=f.createElement(y.default,{onClick:this.props.onAdminSetting,side:j},f.createElement(ue.default,{theme:"title"},V.default.t(706)))}var N,T=f.createElement(se.default,{name:"search",className:G.default.iconSearch}),I=l.participants.length?f.createElement(P.default,{a8nText:"section-participants",title:V.default.t(1637,{count:l.participants.length,_plural:l.participants.length}),titleOnClick:x.default.supportsFeature(x.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:x.default.supportsFeature(x.default.F.GROUPS_V_3)?T:void 0},t,a,f.createElement(R.default,{flatListController:this.participantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n):null;l.participants.iAmAdmin()&&l.pendingParticipants.length>0&&(N=f.createElement(P.default,{a8nText:"section-participants",title:V.default.t(712,{number:l.pendingParticipants.length})},o,i));var D=null;if(this.props.onMediaGallery){var O=this.props.onMediaGallery,w=f.createElement(se.default,{className:G.default.chevron,name:"chevron-right-alt",directional:!0}),L=this.getTitle();D=f.createElement(P.default,{a8nText:"section-media",title:L,titleOnClick:O,subtitle:w,theme:"padding"},f.createElement(z.default,{chat:(0,le.unproxy)(c),mediaMsgs:c.getMediaMsgs()}))}var F=this.props.contact.profilePicThumb,U=J.default.GROUP,q=c.isReadOnly||!F.canDelete()&&!F.canSet()||c.isSupportGroup(),K=f.createElement("div",{className:G.default.avatar},f.createElement(Q.default,{key:String(this.state.resetPhotoPicker),type:U,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:q,onImageSet:this.onImageSet})),X=null;this.props.groupMetadata.creation&&(X=f.createElement("div",{"data-a8n":h.default.key("group-created-time"),className:G.default.nameSecondary},f.createElement(ue.default,{theme:"muted"},v.default.createdStr(this.props.groupMetadata.creation))));var $=null;x.default.supportsFeature(x.default.F.LIVE_LOCATIONS)&&($=f.createElement(Y.default,{chat:c,onClick:this.props.onLiveLocation}));var ee=c&&c.shouldShowEphemeralSetting()?f.createElement(A.default,{onClick:this.props.onEphemeral,chat:c,groupMetadata:l}):null,te=null;this.props.chat.isSupportGroup()&&(te=f.createElement(de.default,{onClick:this.showSecurityInfoPopup}));var ne,oe=c.mute.canMute()?f.createElement(Z.default,{chat:c,mute:c.mute}):null,re=null;if(this.props.onStarred){var ce=f.createElement(se.default,{className:G.default.chevron,name:"chevron-right-alt",directional:!0});re=f.createElement(y.default,{side:ce,onClick:this.props.onStarred},f.createElement(ue.default,{theme:"title"},V.default.t(413)))}this.state.contextMenu&&(ne=f.createElement(pe.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},f.createElement(me.default,{contextMenu:this.state.contextMenu})));var he,ge=null;if((oe||re||te||ee)&&(ge=f.createElement(P.default,null,oe,re,ee,te,r)),x.default.supportsFeature(x.default.F.GROUPS_V_3)&&ie.default.groupDescLength>0){var be=this.state.groupDesc||"",ve={textLimit:this.state.descTruncated?M.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:V.default.t(1130),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?B.Configuration.TrustedGroupDesc({links:H.findLinks(be)}):B.Configuration.UntrustedGroupDesc()};he=f.createElement(P.default,{theme:"group-desc-padding",title:V.default.t(666)},f.createElement("div",{className:G.default.description},f.createElement(fe.default,{a8n:"group-info-drawer-description-title-input",value:be,emptyValuePlaceholder:V.default.t(187),renderEmojiTextInLockMode:ve,editable:l.canSetDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:ie.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[fe.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return(f.createElement(C.default,{key:"contact-info-modal",theme:"striped"},f.createElement(k.default,{title:V.default.t(1558),type:k.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),f.createElement(_.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},f.createElement("div",{className:G.default.body},f.createElement(P.default,{theme:"padding-large"},K,f.createElement(fe.default,{a8n:"group-info-drawer-subject-input",value:this.state.name||"",editable:l.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:ie.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[fe.TextInputCustomStyleThemes.groupInfoName]}),X,f.createElement(W.default,{labels:c.labels})),he,$,D,ge,null,I,N,d,e)),ne))}}]),a}(f.Component);Me.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce","support"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var Ce=(0,U.default)((0,ee.default)((0,q.default)((0,ce.default)(Me,Me.CONCERNS))));t.default=Ce},ccdaifjgfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),c=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=i(a("bdjjabfecc")),h=i(a("ebddggeaib")),p=i(a("bdjgdghiah")),m=function(e){(0,d.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._setGallery=function(t){e._gallery=t},e._queryCollection=function(t,a){var n=e.props,i=n.productMsgs,o=n.chat;e.props.listeners.uiIdle((function(){i.queryProducts(o,a)}))},e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.productMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.productMsgs,a=(e.listeners,(0,r.default)(e,["productMsgs","listeners"]));return(u.createElement(p.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasProductBefore,queryBefore:t.hasProductBefore?Promise.resolve():null,emptyText:f.default.t(1040)},a)))}}]),a}(u.Component),g=(0,h.default)(m);t.default=g},ccigicfdgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("djecdhecha")),d=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=n(a("cajijabhgb")),g=i(a("ebddggeaib")),b=i(a("dcjigehfeb")),v=(i(a("cdhfigedae")),i(a("bhfbajceed"))),E=i(a("gifabeaga")),j=i(a("bdcchebfge")),M=i(a("cahfddcdga")),C=i(a("dhccahhefj")),y=i(a("bcifhbgija"));function _(){var e=(0,o.default)(["query media msgs error: "]);return _=function(){return e},e}function S(){var e=(0,o.default)(["query media msgs error: "]);return S=function(){return e},e}var k=function(e){(0,d.default)(a,e);var t=(0,s.default)(a);function a(e){var n;(0,r.default)(this,a),(n=t.call(this,e)).onKeyDown=function(e){37===e.keyCode?n.onPrev():39===e.keyCode&&n.onNext()},n.onImageLoad=function(){var e=(0,l.default)(n).uiActionEvent;e&&(e.markUiActionT(),e.commit(),delete n.uiActionEvent)},n.onScroll=function(e){n.handleScroll(e.currentTarget,n.mediaMsgs,e.currentTarget.scrollLeft,n.props.listeners)},n.onNext=function(e){if(e&&e.stopPropagation(),!n.state.imgZoomed){var t=n.state.activeMsg;if(t){var a=n.mediaMsgs.getAfter(t);a?n.onSelectThumb(a):n.mediaMsgs.hasMediaAfter&&(n._queryMediaAfter||(n._queryMediaAfter=n.mediaMsgs.queryMedia(t.chat,t,"after").checkpoint(n.props.rejectOnUnmount()).then((function(e){"number"==typeof e.length&&e.length>0&&n.state.activeMsg===t&&n.onNext()})).catchType(m.Unmount,(function(){})).catch((function(){__LOG__(3)(S())})).finally((function(){n._queryMediaAfter=null}))))}}},n.onPrev=function(e){if(e&&e.stopPropagation(),!n.state.imgZoomed){var t=n.state.activeMsg;if(t){var a=n.mediaMsgs.getBefore(t);a?n.onSelectThumb(a):n.mediaMsgs.hasMediaBefore&&(n._queryMediaBefore||(n._queryMediaBefore=n.mediaMsgs.queryMedia(t.chat,t,"before").checkpoint(n.props.rejectOnUnmount()).then((function(e){"number"==typeof e.length&&e.length>0&&n.state.activeMsg===t&&n.onPrev()})).catchType(m.Unmount,(function(){})).catch((function(){__LOG__(3)(_())})).finally((function(){n._queryMediaBefore=null}))))}}},n.onImgZoomIn=function(e){n.setState({imgZoomed:e})},n.endFlow=function(){h.default.closeModalMedia()},n.willEndFlow=function(){var e;(e=n.refThumbsContainer)&&(0,y.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},n.onSelectThumb=function(e){n.props.listeners.uiIdle((function(){n.mediaMsgs.loadMoreAroundIfNeeded(e)})),n.setState({activeMsg:e})},n.scrollToActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.refThumbsContainer,a=n.refThumbs,i=n.refActiveThumb;if(t&&a&&i){var o=0;i instanceof HTMLElement&&(o=i.clientWidth/2-t.clientWidth/2),(0,y.default)(a,"stop");var r=0;e&&(r=300),(0,y.default)(i,"scroll",{duration:r,container:a,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},n.setRefActiveThumb=function(e){n.refActiveThumb=e},n.setRefThumbsContainer=function(e){n.refThumbsContainer=e},n.setRefThumbs=function(e){n.refThumbs=e},n.getActiveMsgIndexInAlbum=function(){var e=-1,t=n.props.highlightedMsgIds;if(!t||!n.state.activeMsg)return e;var a=n.state.activeMsg.id.toString();if(!t.has(a))return e;var i=0;return t.forEach((function(t){t===a&&(e=i),i++})),e},n.zoomIn=!0,n.prevScrollWidth=null;var i=n.props.msg;return n.mediaMsgs=i.chat.constructMediaMsgs(i),n.handleScroll=(0,u.default)(n._handleScroll.bind((0,l.default)(n)),100),i.type===p.default.MSG_TYPE.IMAGE&&(n.uiActionEvent=new j.default.UiAction({uiActionType:j.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:i.mediaData.mediaStage===b.default.STAGE.RESOLVED})),n.state={activeMsg:i,imgZoomed:!1},n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.props.listeners.add(window,"keydown",this.onKeyDown),this.zoomIn=!1,this.addListeners.bind(this)(this.props.listeners,this.mediaMsgs,(function(){return t.state.activeMsg}),this.onSelectThumb,this.endFlow),this.props.listeners.add(this.mediaMsgs,"query_media_before",(function(){var e=t.refThumbs;e&&(t.prevScrollWidth=e.scrollWidth,e instanceof HTMLElement&&t.forceUpdate())})),this.scrollToActive(),(e=this.refThumbsContainer)&&(0,y.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})}},{key:"addListeners",value:function(e,t,a,n,i){var o=this;e.uiIdle((function(){var e=a();e&&t.loadMoreAroundIfNeeded(e)})),e.add(t,"remove",(function(e,r,c){var l=a();if(t.includes(e)||null!=l&&null!=l.id&&l.id.toString()!==e.id.toString())o.forceUpdate();else{var d=c.index;0===t.length?i():t.length===d?n(t.at(d-1)):n(t.at(d))}})),e.add(t,"reset",(function(){i()})),e.add(t,"query_media_after",(function(){o.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var a=this.refThumbs;if(!a||null==this.prevScrollWidth||0===this.prevScrollWidth)return;a instanceof HTMLElement&&(a.scrollLeft+=a.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"_handleScroll",value:function(e,t,a,n){var i=this;if(0!==t.length&&null!=a){if(t.hasMediaBefore&&a<e.clientWidth){var o=(0,M.default)(t.head(),"mediaMsgs.head()");n.uiIdle((function(){t.queryMedia(o.chat,o),i.forceUpdate()}))}if(t.hasMediaAfter&&a+p.default.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){var r=(0,M.default)(t.last(),"mediaMsgs.last()");n.uiIdle((function(){t.queryMedia(r.chat,r,"after"),i.forceUpdate()}))}}}},{key:"render",value:function(){var e,t=this.state.activeMsg;if(!t)return null;var a=this.mediaMsgs.last(),n=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==a?this.onNext:null,i=this.mediaMsgs.head(),o=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==i?this.onPrev:null;return f.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},f.createElement(E.default,{activeMsg:t,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,onScroll:this.onScroll,setRefThumbsContainer:this.setRefThumbsContainer,setRefThumbs:this.setRefThumbs}),f.createElement(v.default,{msg:t,mediaData:t.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:n,onPrev:o,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null,msgIndexInAlbum:this.getActiveMsgIndexInAlbum(),albumSize:(null===(e=this.props.highlightedMsgIds)||void 0===e?void 0:e.size)||0}))}}]),a}(f.Component),P=(0,C.default)((0,g.default)(k));t.default=P},cddegcdhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TABS=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=i(a("cehcfaibji")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("dheeaichcj"),h=i(a("dgjaedef")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("bhbdiadfhj")),v=i(a("bdjjabfecc")),E=i(a("cdfhcjheib")),j=i(a("cdicaaigga")),M=i(a("dcdhjeiaaf")),C=i(a("cfccjacgje")),y=i(a("dceicchccd")),_=i(a("ccdaifjgfd")),S=i(a("bfgbdiffgd")),k=i(a("cgjdibiahi")),P=i(a("didfdhbecg")),N={MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"};t.TABS=N;var T=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;return(0,o.default)(this,a),(e=t.apply(this,arguments)).state={selected:e.props.initialTab,direction:null,selectable:!1},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,a){e.onSelectMessages(),e.selectedMessages.setVal(t,a),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new y.default([],(function(e){return e.id.toString()})),e}return(0,r.default)(a,[{key:"onSelectTab",value:function(e){var t=(0,d.default)(N).indexOf(this.state.selected),a=(0,d.default)(N).indexOf(e);t!==a&&this.selectedMessages.unsetAll();var n=a>t?"right":"left";this.setState({selected:e,direction:n,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!b.default.supportsFeature(b.default.F.LINK_DOC_GALLERY))return null;var t=[{tab:N.MEDIA,title:v.default.t(852)},{tab:N.DOCS,title:v.default.t(510)},{tab:N.LINKS,title:v.default.t(794)}];S.default.productMediaAttachments&&t.push({tab:N.PRODUCTS,title:v.default.t(1122)});var a=t.map((function(t){var a=(0,s.default)(M.default.menuItem,{[M.default.active]:e.state.selected===t.tab});return(u.createElement("button",{className:a,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title))})),n=(0,s.default)(M.default.menuTabsLists,S.default.productMediaAttachments?M.default.fourTabs:M.default.threeTabs);return u.createElement("div",{className:n,"data-active-tab":this.state.selected},a)}},{key:"getContent",value:function(){var e,t=this.props.chat;if(!b.default.supportsFeature(b.default.F.LINK_DOC_GALLERY))return u.createElement(j.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});switch(this.state.selected){case N.MEDIA:e=u.createElement(j.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case N.LINKS:e=u.createElement(E.default,{chat:t,linkMsgs:t.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case N.DOCS:e=u.createElement(h.default,{chat:t,docMsgs:t.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case N.PRODUCTS:e=u.createElement(_.default,{chat:t,productMsgs:t.getProductMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,onProductDetail:this.props.onProductDetail,setScrollOffset:this.props.setProductsScrollOffset,scrollOffset:this.props.productsScrollOffset})}return e}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),a=this.getContent(),n=[N.MEDIA,N.DOCS].includes(this.state.selected),i=this.state.selectable?u.createElement(k.default,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},u.createElement(C.default,{chat:e,noSortOnForward:!0,theme:"mediaGallery",toastPosition:f.ToastPosition.RIGHT,downloadButton:n,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,o="right"===this.state.direction?"slide-forward":"slide-back",r=b.default.supportsFeature(b.default.F.LINK_DOC_GALLERY)?" ":v.default.t(852);return u.createElement(p.default,{theme:"gallery"},u.createElement(g.default,{title:r,onBack:this.props.onBack,type:g.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),i,t,u.createElement(m.default,{"data-list-scroll-container":!0},u.createElement(P.default,{transitionName:o,className:M.default.column},u.createElement("div",{className:M.default.multimediaGallery,key:this.state.selected},u.createElement("div",{className:M.default.column},a)))))}}]),a}(u.Component);t.default=T,T.defaultProps={initialTab:N.MEDIA,productsScrollOffset:0}},cdfhcjheib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),c=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=i(a("hgigjbgie")),h=i(a("bdjjabfecc")),p=i(a("chjbefaccc")),m=i(a("ebddggeaib")),g=i(a("bdjgdghiah")),b=i(a("ccadaajdfc")),v=function(e){(0,d.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._setGallery=function(t){e._gallery=t},e._onNewMsgs=function(t){if(t){var a=[],n=Array.isArray(t)?t:[t];Promise.all(n.map((function(e){return e.getLinks().length&&a.push(e),Promise.resolve()}))).then((function(){a.length&&e.props.linkMsgs.add(a)}))}},e._queryCollection=function(t,a){var n=e.props,i=n.linkMsgs,o=n.chat;e.props.listeners.uiIdle((function(){i.queryLinks(o,a)}))},e._renderLinks=function(t){var a=e.props,n=a.linkMsgs,i=a.selectedMessages,o=[];return n.forEach((function(a){var n=!a.isSentByMe&&a.isGroupMsg;a.getGalleryLinks().forEach((function(r,c){r.href!==a.matchedText&&o.push(u.createElement(p.default,{key:"".concat(a.id.toString(),"-").concat(c),msg:a.safe(),link:r,displayAuthor:n,selectable:e.props.selectable,selectedMessages:i,onMessageSelect:e.props.onMessageSelect,onClickMsg:t}))})),a.linkPreview&&o.push(u.createElement(b.default,{key:a.id.toString(),msg:a,selectable:e.props.selectable,selectedMessages:i,onMessageSelect:e.props.onMessageSelect,displayType:f.default.DISP_TYPE.GALLERY,onClickMsg:t}))})),o.reverse(),o},e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.linkMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.linkMsgs,"query_link_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this._onNewMsgs)}},{key:"render",value:function(){var e=this.props,t=e.linkMsgs,a=(e.listeners,(0,r.default)(e,["linkMsgs","listeners"]));return(u.createElement(g.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasLinkBefore,queryBefore:t.queryLinkBefore,renderElements:this._renderLinks,emptyText:h.default.t(1036)},a)))}}]),a}(u.Component),E=(0,m.default)(v);t.default=E},cebjjhdbec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),d=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=n(a("dighcbdehd")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),m=i(a("ddeefhbafc")),g=a("hbhjdibhf"),b=i(a("bgheieccaj")),v=i(a("bdjjabfecc")),E=i(a("ebddggeaib")),j=i(a("efedbfchg")),M=i(a("dcdbbhicce")),C=i(a("dgdcjccfdi")),y=i(a("dhhjhedjij"));function _(){var e=(0,o.default)(["get from participants table failed"]);return _=function(){return e},e}var S=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){var e;(0,r.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).commonGroupInitialized=!1,e.state={collapsed:!1,numGroups:0},e.rerender=function(){e.forceUpdate()},e.onClick=function(t,a){h.default.openChatFromUnread(a).then((function(e){e&&h.default.focusChatTextInput(a)})),e.props.onClose()},e.onShowMore=function(){e.setState({collapsed:!1})},e.renderItem=function(t){var a=t.chat;return(s.createElement(f.default,{chat:a,theme:"drawer-list",contact:a.contact,mode:f.Mode.INFO,onClick:e.onClick,key:a.id.toString()}))},e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove",this.rerender),this.commonGroupInitialized=!0),(0,g.findCommonGroups)(this.props.contact).catch((function(){throw __LOG__(4,!0,new Error)(_()),SEND_LOGS("get from participants table failed when finding common groups"),new Error("get from participants table failed")}))}},{key:"componentDidUpdate",value:function(e){if(e.contact!==this.props.contact){var t=e.contact.commonGroups;t&&e.listeners.remove(t,"add remove",this.rerender),this.commonGroupInitialized=!1}var a=this.props.contact.commonGroups;a&&(this.commonGroupInitialized||(this.props.listeners.add(a,"add remove",this.rerender),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove",this.rerender),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>p.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,p.default.INFO_DRAWER_MAX_ROWS)),e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t,a=s.createElement(y.default,{theme:"section-title"},v.default.n(e.length));if(e.length>p.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var n=e.length-p.default.INFO_DRAWER_MAX_ROWS,i=s.createElement(j.default,{theme:"transparent"},s.createElement(C.default,{name:"down"}));t=s.createElement(u.default,{image:i,theme:"drawer-list",primary:v.default.t(708,{count:n,_plural:n}),onClick:this.onShowMore})}return(s.createElement(m.default,{a8nText:"section-common-groups",title:v.default.t(1604),subtitle:a},s.createElement(b.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.contact.commonGroups,n=a?a.length:0;return t.numGroups<=p.default.INFO_DRAWER_MAX_ROWS&&n>p.default.INFO_DRAWER_MAX_ROWS?{numGroups:n,collapsed:!0}:{numGroups:n}}}]),a}(s.Component);S.CONCERNS={contact:["commonGroups"]};var k=(0,E.default)((0,M.default)(S,S.CONCERNS));t.default=k},ceefedchff:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(a("cajgbiifbe"))},cfacfggdai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("effbcehec")),u=i(a("ddabgbgahf")),f=i(a("daghjjjedc")),h=i(a("ccbgfecegc")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("bdjjabfecc")),v=i(a("dcdbbhicce")),E=i(a("dhhjhedjij")),j=n(a("bjhgigfbec")),M=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onUnarchiveSettingChange=function(){var t=e.props.chatPreference,a=!t.unarchiveChatOnNewMessages;t.set("unarchiveChatOnNewMessages",a),h.default.openToast(d.createElement(j.default,{msg:a?b.default.t(218):b.default.t(221),id:(0,j.genId)()}))},e}return(0,r.default)(a,[{key:"render",value:function(){return d.createElement(p.default,null,d.createElement(g.default,{title:b.default.t(204),type:g.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onClose}),d.createElement(m.default,null,d.createElement("div",{className:u.default.section},d.createElement("div",{"data-a8n":s.default.key("auto-unarchive-setting"),className:u.default.control},d.createElement(f.default,{onChange:this.onUnarchiveSettingChange,checked:this.props.chatPreference.unarchiveChatOnNewMessages})),d.createElement("div",{"data-a8n":s.default.key("auto-unarchive-setting-text")},b.default.t(220),d.createElement(E.default,{theme:"muted",block:!0},b.default.t(219))))))}}]),a}(d.Component);M.CONCERNS={chatPreference:["unarchiveChatOnNewMessages"]};var C=(0,v.default)(M,M.CONCERNS);t.default=C},chjbefaccc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=i(a("ceffhbhahb")),s=n(a("ddhijeejag")),u=i(a("cifgdghbhg")),f=i(a("hgigjbgie")),h=i(a("gfebgebbi")),p=i(a("bfbfbjjgj")),m=a("gaifbabbj"),g=i(a("bdjjabfecc")),b=i(a("dijfdgjaej")),v=i(a("bcggadeggg")),E=i(a("ebddggeaib")),j=i(a("dhegibaccd")),M=i(a("dcdbbhicce")),C=i(a("dggfhciihi")),y=i(a("didfdhbecg")),_=a("ccbcihdfhg"),S=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(e){var n;(0,o.default)(this,a),(n=t.call(this,e)).mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onSelectChange=function(e){n.state.selected!==e&&n.setState({selected:e})},n.onSelectClick=function(e){e&&e.stopPropagation(),n.props.onMessageSelect(n.props.msg.unsafe(),!n.state.selected)},n.onClick=function(){n.props.onClickMsg(n.props.msg.unsafe(),!n.state.selected)};var i=e.msg,r=e.selectedMessages;return n.state={hover:!1,selected:r.isSelected(i.unsafe())},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.link,n=e.displayAuthor,i=this.props.selectable||this.state.hover?s.createElement(j.default,{checked:this.state.selected,onClick:this.onSelectClick,msgTheme:"gallery"}):null,o=(t.isTrusted()?m.Configuration.TrustedConversation:m.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),r=t.body&&t.body.includes(a.url)?t.body:t.caption,c=n?s.createElement("div",{className:b.default.author},s.createElement(u.default,{msg:t.unsafe(),contact:t.senderObj})):null,l=t.getSuspiciousLinks().length>0;return s.createElement(p.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},s.createElement("div",{className:b.default.msg},s.createElement(y.default,{transitionName:"delay-leave"},i),s.createElement(_.MessageContainer,{isSentByMe:t.isSentByMe},s.createElement("div",{className:(0,d.default)(b.default.bubble,{[b.default.hasAuthor]:n,[b.default.hasSuspiciousLinks]:l})},c,s.createElement(C.default,{link:a,displayType:f.default.DISP_TYPE.GALLERY}),s.createElement(v.default,{title:a.url,isSentByMe:t.isSentByMe,canonicalUrl:a.domain,displayType:f.default.DISP_TYPE.GALLERY,star:t.star}),s.createElement(h.default,{text:r,selectable:!0,className:b.default.text,dirMismatch:t.rtl!==g.default.isRTL(),direction:t.dir,formatters:o})))))}}]),a}(s.Component);S.CONCERNS={msg:["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","asRevoked"]};var k=(0,E.default)((0,M.default)(S,S.CONCERNS));t.default=k},daaiadbhjc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("bagchhaeje")),u=i(a("bhehhaehi")),f=i(a("dgfjacgibh")),h=i(a("ceefedchff")),p=i(a("dfhahadejg")),m=i(a("bdeebiagii")),g=i(a("ccbjchaaad")),b=i(a("ecigjabbeb")),v=i(a("dadhjdjj")),E=a("cdfejjabfa"),j=a("ecceajhjba"),M=n(a("cddegcdhjb")),C=i(a("bhfadhddje")),y=i(a("ddajejfdfc")),_=i(a("bbecefbeaa")),S=i(a("dbdbehfcia")),k=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._scrollOffset=0,e._setScrollOffset=function(t){e._scrollOffset=t},e.onProductDetail=function(t,a){var n=e.props.chat,i=d.createElement(C.default,{chat:n,product:t,onEnd:e._end,onBack:e._popAndUpdate,refreshCarousel:!1,sessionId:a,onProductLinkClick:e._onProductLinkClick});e.push(i)},e._onProductLinkClick=function(t,a){e.push(d.createElement(y.default,{product:t,onBack:e._pop,sessionId:a}))},e._onCatalogLinkClick=function(t,a,n){e.push(d.createElement(u.default,{catalog:t,contact:a,sessionId:n,onBack:e._pop}))},e.onProductCatalog=function(t){var a=e.props.chat;(0,j.logCarouselViewMoreClick)(a.id.toString(),t);var n=d.createElement(_.default,{contact:a.contact,onProductDetail:e.onProductDetail,catalogId:a.id,onBack:e._pop,sessionId:t,businessProfile:a.contact.businessProfile,onCatalogLinkClick:e._onCatalogLinkClick});e.push(n)},e.onStarred=function(){var t=d.createElement(S.default,{chat:e.props.chat,starredMsgs:e.props.chat.getStarredMsgs(),onClose:e._pop});e.push(t)},e.onAdminSetting=function(){var t=e.props.chat,a=d.createElement(v.default,{chat:t,groupMetadata:t.groupMetadata,onClose:e._pop});e.push(a)},e.onContactCard=function(){e.push(d.createElement(f.default,{chat:e.props.chat,onClose:e._pop}))},e.onMediaGallery=function(){var t=d.createElement(M.default,{chat:e.props.chat,onBack:e._pop,onProductDetail:e.onProductDetail,setProductsScrollOffset:e._setScrollOffset});e.push(t)},e.onGroupInviteLink=function(){var t=e.props.chat,a=d.createElement(b.default,{chat:e.props.chat,groupMetadata:t.groupMetadata,onBack:e._pop});e.push(a)},e._pop=function(){e.pop()},e._popAndUpdate=function(){e.popAndUpdate({initialTab:M.TABS.PRODUCTS,productsScrollOffset:e._scrollOffset})},e._end=function(){e.end(!0)},e.onLiveLocation=function(){var t=d.createElement(E.LiveLocationDrawerLoadable,{chat:e.props.chat,onClose:e._pop});e.push(t)},e.onEphemeral=function(){var t=e.props.chat,a=d.createElement(p.default,{chat:t,fromInfoFlow:!0,onClose:e._pop});e.push(a)},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,a=this.props.chat;this.props.chat.isGroup?this.push(d.createElement(g.default,{chat:a,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:a.groupMetadata,contact:a.contact,profilePicThumb:a.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onEphemeral:this.onEphemeral,onClose:this._pop})):a.isBroadcast?this.push(d.createElement(s.default,{chat:a,contact:a.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):a.isUser&&this.push(d.createElement(h.default,{contact:a.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onEphemeral:this.onEphemeral,onClose:this._pop}))}}]),a}(m.default);t.default=k},dadhjdjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=i(a("beajagdaig")),s=n(a("ddhijeejag")),u=a("dghfbecefg"),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=i(a("dahagdijgh")),m=i(a("gaeccibgi")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("ddeefhbafc")),E=a("ddbdgibbbi"),j=i(a("bhbdiadfhj")),M=i(a("bgedfbbhib")),C=i(a("dfjedbigia")),y=i(a("jheedhagg")),_=i(a("bdjjabfecc")),S=i(a("ebddggeaib")),k=a("cgjcdbggeb"),P=n(a("chbeahhfcj")),N=i(a("bfgbdiffgd")),T=i(a("dcdbbhicce")),I=i(a("dhhjhedjij")),A=i(a("jccfhaecf")),D=function(e){var t=e.isRestricted,a=e.onClick;return(s.createElement(m.default,{onClick:a,multiline:!0},s.createElement("div",{className:M.default.header},s.createElement(I.default,{theme:"title"},_.default.t(698))),s.createElement(I.default,{theme:"muted",block:!0},t?_.default.t(704):_.default.t(696))))},R=function(e){var t=e.isAnnouncement,a=e.onClick;return(s.createElement(m.default,{onClick:a,multiline:!0},s.createElement("div",{className:M.default.header},s.createElement(I.default,{theme:"title"},_.default.t(705))),s.createElement(I.default,{theme:"muted",block:!0},t?_.default.t(704):_.default.t(696))))},O=function(e){var t=e.isNoFrequentlyForwarded,a=e.onClick,n=N.default.hfmStringChanges?_.default.t(702):_.default.t(701);return s.createElement(m.default,{onClick:a,multiline:!0},s.createElement("div",{className:M.default.header},s.createElement(I.default,{theme:"title"},n)),s.createElement(I.default,{theme:"muted",block:!0},t?_.default.t(703):_.default.t(700)))},w=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).openSettingModal=function(t){var a=e.props,n=a.chat,i=a.groupMetadata;f.default.openModal(s.createElement(C.default,{settingType:t,chat:n,groupMetadata:i}),{transition:"modal",uim:e.props.uim})},e.openAnnouncementSettingModal=function(){e.openSettingModal(h.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},e.openRestrictedSettingModal=function(){e.openSettingModal(h.default.GROUP_SETTING_TYPE.RESTRICT)},e.openNoFrequentlyForwardedSettingModal=function(){e.openSettingModal(h.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},e.getCurrentAdmins=function(){return e.props.groupMetadata.participants.filter((function(e){return e.isAdmin})).map((function(e){return e.contact}))},e.filterParticipants=function(t){return!!e.props.groupMetadata.participants.get(t.id)},e.isDisabled=function(t){var a=e.props.groupMetadata;return A.default.equals(t,a.owner)||(0,E.getMaybeMeUser)().equals(t)},e.openManageAdminModal=function(){f.default.openModal(s.createElement(P.default,{onConfirm:e.updateAdmins,getInitialItems:e.getCurrentAdmins,isDisabled:e.isDisabled,isSelected:e.isDisabled,filter:e.filterParticipants,title:_.default.t(847),useShortName:!0,useAllContacts:!0,listType:P.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:u.FooterType.CONFIRM,multipleSelectionFooterType:u.FooterType.CONFIRM}))},e.updateAdmins=function(t){var a=e.props,n=a.chat,i=a.groupMetadata.participants,o=i.filter((function(e){return e.isAdmin})),r=(0,d.default)(t,o,(function(e,t){return e.id.equals(t.id)})).map((function(e){return i.assertGet(e.id)})),c=(0,d.default)(o,t,(function(e,t){return e.id.equals(t.id)}));r.length>0&&(r.forEach((function(e){e.contact.pendingAction++})),(0,k.promoteParticipants)(n,r).finally((function(){r.forEach((function(e){e.contact.pendingAction--}))}))),c.length>0&&(c.forEach((function(e){e.contact.pendingAction++})),(0,k.demoteParticipants)(n,c).finally((function(){c.forEach((function(e){e.contact.pendingAction--}))}))),f.default.closeModal()},e}return(0,r.default)(a,[{key:"render",value:function(){var e,t,a=this.props.groupMetadata,n=s.createElement(D,{onClick:this.openRestrictedSettingModal,isRestricted:a.restrict}),i=s.createElement(R,{onClick:this.openAnnouncementSettingModal,isAnnouncement:a.announce});(n||i)&&(e=s.createElement(v.default,null,n,i)),N.default.frequentlyForwardedGroupSetting&&j.default.supportsFeature(j.default.F.FREQUENTLY_FORWARDED_SETTING)&&(t=s.createElement(v.default,null,s.createElement(O,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:a.noFrequentlyForwarded})));var o=s.createElement(v.default,null,s.createElement(m.default,{onClick:this.openManageAdminModal,multiline:!0},s.createElement("div",{className:M.default.header},s.createElement(I.default,{theme:"title"},_.default.t(847)))));return(s.createElement(p.default,{theme:"striped"},s.createElement(b.default,{title:_.default.t(706),type:b.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),s.createElement(g.default,null,e,t,o)))}}]),a}(s.Component);w.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","participants","owner"]};var L=(0,y.default)((0,S.default)((0,T.default)(w,w.CONCERNS)));t.default=L},daghgbcch:function(e,t){e.exports={body:"_2gti7",avatar:"Lffaz",nameSecondary:"_16tJY",screenName:"OXGxe",businessVname:"_7S4qI",icon:"_3DnCq",titleAbout:"UZEvX",chevron:"_3R3kh"}},dajceebgdj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("cefccdiabc")),u=i(a("cfadcbbiie")),f=i(a("hhcjfgifh")),h=n(a("jagjbhcgf")),p=i(a("dgebcfedgb")),m=i(a("gfebgebbi")),g=i(a("bdjjabfecc")),b=i(a("dcjigehfeb")),v=i(a("bjcfcebada")),E=a("cadfgefaja"),j=i(a("dcdbbhicce")),M=i(a("dgdcjccfdi")),C=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).getMenuBtns=function(){return e.props.msgIndexInAlbum>=0?e.getAlbumMediaMenuBtns():e.getNonAlbumMediaMenuBtns()},e.getNonAlbumMediaMenuBtns=function(){var t=[],a=e.props.msg;return t.push(d.createElement(E.MenuBarItem,{key:"btnGoToMsg",icon:d.createElement(M.default,{name:"bubble"}),title:g.default.t(659),onClick:e.props.onGoToMsgClick})),t.push(e.getStarMenuBarItem()),a.canForward()&&t.push(e.getForwardMenuBarItem()),t.push(d.createElement(E.MenuBarItem,{key:"btnDownload",icon:d.createElement(M.default,{name:"download"}),title:g.default.t(1478),disabled:!e.isMediaDownloadable(),onClick:e.props.onDownloadClick})),t},e.getAlbumMediaMenuBtns=function(){var t=[],a=e.props.msg;return a.canReply()&&t.push(d.createElement(E.MenuBarItem,{key:"btnReply",icon:d.createElement(M.default,{name:"reply"}),title:g.default.t(1138),onClick:e.props.onReplyClick})),t.push(e.getStarMenuBarItem()),t.push(d.createElement(E.MenuBarItem,{key:"btnDelete",icon:d.createElement(M.default,{name:"delete"}),title:g.default.t(1519),onClick:e.props.onDeleteClick})),a.canForward()&&t.push(e.getForwardMenuBarItem()),t.push(e.getDropdownMenuBarItem()),t},e.getStarMenuBarItem=function(){var t,a,n;return e.props.msg.star?(t=e.props.onUnstarClick,a="unstar-btn",n=g.default.t(1328)):(t=e.props.onStarClick,a="star-btn",n=g.default.t(1251)),d.createElement(E.MenuBarItem,{key:a,icon:d.createElement(M.default,{name:a}),title:n,onClick:t})},e.getForwardMenuBarItem=function(){return d.createElement(E.MenuBarItem,{key:"btnForward",icon:d.createElement(M.default,{name:"forward"}),title:g.default.t(616),onClick:e.props.openForwardFlow})},e.getDropdownMenuBarItem=function(){var t=[];return e.props.msg.isSentByMe&&t.push(d.createElement(p.default,{key:"dropdownMsgInfo",action:e.props.onMsgInfoClick},g.default.t(883))),t.push(d.createElement(p.default,{key:"dropdownGoToMsg",action:e.props.onGoToMsgClick},g.default.t(659)),d.createElement(p.default,{key:"dropdownDownload",action:e.props.onDownloadClick,disabled:!e.isMediaDownloadable()},g.default.t(1478))),d.createElement(E.MenuBarItem,{key:"btnMenu",icon:d.createElement(M.default,{name:"menu"}),title:g.default.t(875)},d.createElement(h.default,{type:"dropdown_menu",key:"MediaPanelHeaderDropdown",flipOnRTL:!0,dirX:h.DirX.LEFT},t))},e.isMediaDownloadable=function(){var t=e.props.mediaData;return!!t.renderableUrl||t.mediaStage===b.default.STAGE.RESOLVED},e}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);return e.isGroupMsg&&(t+=" @ "+e.chat.title()),d.createElement("div",{className:v.default.mediaPanelHeader},d.createElement("div",{className:v.default.info},d.createElement(s.default,{idle:!0,image:d.createElement(f.default,{id:e.sender,size:40}),primary:d.createElement(m.default,{ellipsify:!0,text:t}),secondary:u.default.relativeDateAndTimeStr(e.t),theme:"media"})),d.createElement("div",{className:v.default.mediaPanelTools},d.createElement(E.MenuBar,{key:"media-panel-header",theme:"strong"},this.getMenuBtns(),d.createElement(E.MenuBarItem,{a8nText:"btn-close",icon:d.createElement(M.default,{name:"x-viewer"}),title:g.default.t(1492),onClick:this.props.onClose}))))}}]),a}(d.PureComponent);C.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t","isSentByMe"],mediaData:["filehash","mediaStage","renderableUrl"]};var y=(0,j.default)(C,C.CONCERNS);t.default=y},dbbhcaicgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("ddeefhbafc")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),h=i(a("cdcijfdgje")),p=a("cicjibbhdb"),m=i(a("eafdabbdgj")),g=i(a("dcdbbhicce")),b=a("cjfegjecaj"),v=i(a("dgdcjccfdi")),E=i(a("dhhjhedjij")),j=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).updateParticipants=function(){n.setState({participants:n.getParticipants(n.props.chat)})},n.state={participants:n.getParticipants(e.chat)},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||h.default.getActive(t.id.toString()).then((function(){t.liveLocationQueried=!0})).catch((function(){})),this.props.listeners.add((0,b.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListener(a),e.addParticipantListener(a),e.updateParticipants())}));var a=t.liveLocation;a&&this.addParticipantListener(a)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e,t,a=this.props.chat,n=this.state.participants,i=0;if(n.forEach((function(a){a.isMe?e=!0:(t||(t=a.contact),i++)})),a.isGroup)return e?1===n.length?u.default.t(820):u.default.t(819,{count:i,_plural:i}):u.default.t(816,{count:i,_plural:i});if(e){if(1===n.length)return u.default.t(820);if(t)return u.default.t(818,{name:t.formattedShortNameWithNonBreakingSpaces})}else if(t)return u.default.t(815,{name:t.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=d.createElement(v.default,{name:(0,p.liveLocationIcon)(!0)});return(d.createElement(s.default,{a8nText:"section-live-location",theme:"padding",title:u.default.t(823),titleOnClick:e},d.createElement(m.default,{side:t,onClick:e},d.createElement(E.default,{theme:"title"},this.getText()))))}}]),a}(d.Component);j.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]};var M=(0,f.default)((0,g.default)(j,j.CONCERNS));t.default=M},dbejedjeej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("fhgchaefa")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),p=i(a("gfebgebbi")),m=a("djaiggcdb"),g=a("facgccaif"),b=i(a("bhbdiadfhj")),v=i(a("bdjjabfecc")),E=i(a("dcdbbhicce")),j=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onConfirm=function(){u.default.closeModal()},e.onLearnMore=function(e){e.preventDefault(),u.default.closeModal("none"),setTimeout((function(){return(0,m.openExternalLink)((0,g.getBusinessFaqUrl)())}),10)},e.getMessage=function(){var t=e.props.contact;switch(t.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return v.default.t(1711);case h.default.VERIFIED_LEVEL.LOW:return v.default.t(1713);case h.default.VERIFIED_LEVEL.UNKNOWN:return v.default.t(1715,{businessName:t.formattedName})}},e.getMessageV2=function(){var t=e.props.contact;switch(t.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return t.name===t.verifiedName?v.default.t(1475,{businessName:t.verifiedName}):v.default.t(1476,{businessName:t.verifiedName});case h.default.VERIFIED_LEVEL.LOW:case h.default.VERIFIED_LEVEL.UNKNOWN:return v.default.t(1477)}},e}return(0,r.default)(a,[{key:"render",value:function(){var e;e=b.default.supportsFeature(b.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=d.createElement(s.default,{onClick:this.onLearnMore},v.default.t(789));return(d.createElement(f.default,{onOK:this.onConfirm,okText:v.default.t(1058)},d.createElement(p.default,{text:e}),"",t))}}]),a}(d.PureComponent);j.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]};var M=(0,E.default)(j,j.CONCERNS);t.default=M},dcccbfbehi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("ieeidjijb")),u=i(a("dcdbbhicce")),f=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).contextEnabled=function(){var t=e.props,a=t.contextEnabled,n=t.contact;return null!=a&&a(n)},e.onContext=function(t){var a=e.props,n=a.onContext,i=a.contact;return n&&n(t,i)},e}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.participant,n=e.onClick,i=e.contextMenu,o=e.isPendingParticipant;return(d.createElement(s.default,{contact:t,admin:a.isAdmin,onClick:n,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:i,onContext:this.onContext,isPendingParticipant:o,showNotifyName:!0,waitIdle:!0}))}}]),a}(d.Component);f.CONCERNS={participant:["isAdmin"]};var h=(0,u.default)(f,f.CONCERNS);t.default=h},dcdhjeiaaf:function(e,t){e.exports={multimediaGallery:"_1DQVz",column:"_2uWTi",menuItem:"_327_4",active:"_1R7Xl",menuTabsLists:"_3yI1b",threeTabs:"_3-ScJ",fourTabs:"_1faZL"}},ddabgbgahf:function(e,t){e.exports={section:"_1_D5Q",control:"_3Y4_n"}},ddbhiaeibf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=e.groupMetadata,n=e.onClick;return a?d.createElement(y,{groupMetadata:a,onClick:n}):d.createElement(M,{chat:t,onClick:n})},t.BaseEphemeralSettingRow=_;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=a("dfdebdgdei"),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("gaeccibgi")),p=a("chhdedhgfe"),m=i(a("bjhgfifchg")),g=i(a("bdjjabfecc")),b=i(a("dcdbbhicce")),v=i(a("dgdcjccfdi")),E=i(a("dhhjhedjij"));var j=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._getEphemeralDuration=function(){var t;return null!==(t=e.props.chat.ephemeralDuration)&&void 0!==t?t:0},e._unblockContact=function(){var t=e.props,a=t.chat,n=t.onClick;a.contact.addPendingAction((0,s.unblockContact)(a.contact)).then((function(){n(),u.default.closeModal()})).catch((function(){}))},e._closeModal=function(){u.default.closeModal()},e._openUnblockContactModal=function(){u.default.openModal(d.createElement(f.default,{onOK:e._unblockContact,okText:g.default.t(1316),onCancel:e._closeModal,cancelText:g.default.t(1482)},e._getEphemeralDuration()?g.default.t(592):g.default.t(593)))},e._handleClick=function(){var t=e.props,a=t.chat,n=t.onClick;a.contact.isContactBlocked?e._openUnblockContactModal():n()},e}return(0,r.default)(a,[{key:"render",value:function(){return d.createElement(_,{ephemeralDuration:this._getEphemeralDuration(),canChange:!0,onClick:this._handleClick})}}]),a}(d.PureComponent);j.CONCERNS={chat:["contact","ephemeralDuration"]};var M=(0,b.default)(j,j.CONCERNS),C=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._canChange=function(){return e.props.groupMetadata.participants.iAmAdmin()},e._closeModal=function(){u.default.closeModal()},e._openNonAdminModal=function(){u.default.openModal(d.createElement(f.default,{onOK:e._closeModal,okText:g.default.t(1635)},g.default.t(544)))},e._handleClick=function(){var t=e.props.onClick;e._canChange()?t():e._openNonAdminModal()},e}return(0,r.default)(a,[{key:"render",value:function(){var e;return(d.createElement(_,{ephemeralDuration:null!==(e=this.props.groupMetadata.ephemeralDuration)&&void 0!==e?e:0,canChange:this._canChange(),onClick:this._handleClick}))}}]),a}(d.PureComponent);C.CONCERNS={groupMetadata:["ephemeralDuration","participants"]};var y=(0,b.default)(C,C.CONCERNS);function _(e){var t,a=e.ephemeralDuration,n=e.canChange,i=e.onClick;t=a>0?n?g.default.t(587):(0,p.getEphemeralExplanationString)(a):g.default.t(586);var o=d.createElement(v.default,{className:n?m.default.chevronIcon:m.default.ephemeralIcon,name:n?"chevron-right-alt":"ephemeral",directional:!0});return(d.createElement(h.default,{onClick:i,side:o,multiline:!0},d.createElement("div",{className:m.default.header},d.createElement(E.default,{theme:"title"},g.default.t(699))),d.createElement(E.default,{theme:"muted",block:!0},t)))}},dfhcaiigfg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("djecdhecha")),l=i(a("dbjagcfebh")),d=i(a("chichicffi")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bdacheahgj")),p=i(a("dgebcfedgb")),m=a("ddbdgibbbi"),g=i(a("bhbdiadfhj")),b=i(a("bdjjabfecc")),v=i(a("ebddggeaib")),E=i(a("cgjdibiahi")),j=i(a("dfciadajdf")),M=i(a("jccfhaecf")),C=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={contextMenu:null},e.openChat=function(e){u.default.find(e).then((function(e){f.default.closeModal(),f.default.openChatFromUnread(e)}))},e.contextMenu=function(e){return!M.default.equals((0,m.getMaybeMeUser)(),e)},e.onParticipantMenu=function(t,a){var n=e.props.chat.groupMetadata.participants,i=n.assertGet(a.id),o=[];if(n.canPromote(i)){var r=e.props.onParticipantPromote.bind(null,i,!1);o.push(s.createElement(p.default,{a8n:"mi-grp-promote-admin",key:"promote",action:r},b.default.t(863)))}if(n.canRemove(i)){var l=e.props.onParticipantRemove.bind(null,i,!1);o.push(s.createElement(p.default,{a8n:"mi-grp-remove-participant",key:"remove",action:l},b.default.t(868)))}if(g.default.supportsFeature(g.default.F.GROUPS_V_3)&&n.canDemote(i)){var d=e.props.onDemoteAdmin.bind((0,c.default)(e),i);o.push(s.createElement(p.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:d},b.default.t(509)))}M.default.equals((0,m.getMaybeMeUser)(),i.id)||o.push(s.createElement(p.default,{key:"message author",action:e.openChat.bind(null,i.contact.id)},b.default.t(879,{author:i.contact.formattedName}))),t.anchor||t.event||t.persist(),e.setState({contextMenu:{contactId:a.id,menu:o,anchor:t.anchor,event:t.anchor?void 0:t}})},e.closeContextMenu=function(){e.setState({contextMenu:null})},e.contextEnabled=function(){return!1},e.cancel=function(){f.default.closeModal()},e.isAdmin=function(t){return e.props.chat.groupMetadata.participants.assertGet(t).isAdmin},e.contactFilter=function(t){return!!e.props.chat.groupMetadata.participants.get(t.id)},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",(function(){e.forceUpdate()}))}},{key:"render",value:function(){var e;return this.state.contextMenu&&(e=s.createElement(E.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},s.createElement(j.default,{contextMenu:this.state.contextMenu}))),s.createElement(s.Fragment,null,s.createElement(h.default,{title:b.default.t(1198),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),a}(s.Component),y=(0,v.default)(C);t.default=y},dfjedbigia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("hgigjbgie")),u=i(a("bdjjabfecc")),f=i(a("bfgbdiffgd")),h=a("ceiehehagg"),p=i(a("bajacafbgd")),m=i(a("dcdbbhicce")),g=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._handleSelect=function(t){var a=e.props,n=a.chat,i=a.settingType;t!==e._getInitialValue()&&(0,h.setGroupProperty)(n,i,t).catch((function(){return function(){}}))},e}return(0,r.default)(a,[{key:"_getOptions",value:function(){switch(this.props.settingType){case s.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:case s.default.GROUP_SETTING_TYPE.RESTRICT:return[{label:u.default.t(696),value:0},{label:u.default.t(704),value:1}];case s.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return[{label:u.default.t(700),value:0},{label:u.default.t(703),value:1}];default:return[]}}},{key:"_getInitialValue",value:function(){var e=this.props,t=e.settingType,a=e.groupMetadata,n=a.restrict,i=a.announce,o=a.noFrequentlyForwarded;switch(t){case s.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return i?1:0;case s.default.GROUP_SETTING_TYPE.RESTRICT:return n?1:0;case s.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return o?1:0;default:return 0}}},{key:"_getPopupTitle",value:function(){switch(this.props.settingType){case s.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return u.default.t(705);case s.default.GROUP_SETTING_TYPE.RESTRICT:return u.default.t(698);case s.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return f.default.hfmStringChanges?u.default.t(702):u.default.t(701);default:return""}}},{key:"render",value:function(){return d.createElement(p.default,{options:this._getOptions(),initialValue:this._getInitialValue(),title:this._getPopupTitle(),onSelect:this._handleSelect})}}]),a}(d.PureComponent);g.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded"]};var b=(0,m.default)(g,g.CONCERNS);t.default=b},dghiegaafa:function(e,t){e.exports={contactBusinessInfo:"_1i05m",contactBusinessInfoSpinner:"yfORU",dataRow:"_3Q3iR",businessHoursRow:"_2x95P",businessHoursDay:"_2Ov-G",businessHoursHours:"SUaWx",businessHoursChevron:"_4u9Tf",flipSvg:"uB3hI",dataRowIcon:"_2j-Ho",dataRowText:"_2LnbE",businessTitleText:"_3zfAu",businessMarker:"_2_k2G",verifiedLabel:"_3uWbg",businessMap:"PKBwD",address:"xp07G",link:"_2JohZ"}},dgjaedef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),r=i(a("dagbcgeifg")),c=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("dbjagcfebh")),s=i(a("chichicffi")),u=n(a("ddhijeejag")),f=i(a("bdjjabfecc")),h=i(a("ebddggeaib")),p=i(a("bdjgdghiah")),m=function(e){(0,d.default)(a,e);var t=(0,s.default)(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._setGallery=function(t){e._gallery=t},e._queryCollection=function(t,a){var n=e.props,i=n.docMsgs,o=n.chat;e.props.listeners.uiIdle((function(){i.queryDocs(o,a)}))},e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.docMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.docMsgs,"query_doc_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.docMsgs,a=(e.listeners,(0,r.default)(e,["docMsgs","listeners"]));return(u.createElement(p.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasDocBefore,queryBefore:t.queryDocBefore,emptyText:f.default.t(1034)},a)))}}]),a}(u.Component),g=(0,h.default)(m);t.default=g},dhgcheacjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=i(a("cfacfggdai")),u=i(a("djhbgdedbe")),f=i(a("ebcagbhefg")),h=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showArchiveSettingsDrawer=function(){e.push(d.createElement(s.default,{chatPreference:f.default.assertGet("defaultPreference"),onClose:e._pop}))},e._pop=function(){e.pop()},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.push(d.createElement(u.default,{chatPreference:f.default.assertGet("defaultPreference"),showSettings:this.showArchiveSettingsDrawer,onClose:this._pop}))}}]),a}(i(a("bdeebiagii")).default);t.default=h},dijfdgjaej:function(e,t){e.exports={msg:"_3_nLH",text:"_3B2kh",bubble:"_1MYBw",author:"_2NwHk",hasSuspiciousLinks:"_1dXIA",hasAuthor:"_1IFWB",suspiciousLabel:"_38JlO"}},djhbgdedbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),r=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),l=i(a("chichicffi")),d=n(a("ddhijeejag")),s=n(a("dighcbdehd")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("jagjbhcgf")),v=i(a("dgebcfedgb")),E=a("cdhbdacigj"),j=i(a("bgheieccaj")),M=i(a("dbfjeecgih")),C=i(a("ddajbaceej")),y=i(a("dhfbfehaef")),_=i(a("bdjjabfecc")),S=i(a("ebddggeaib")),k=a("cadfgefaja"),P=i(a("bfgbdiffgd")),N=i(a("dcaibchbg")),T=i(a("dgdcjccfdi")),I=function(e){(0,c.default)(a,e);var t=(0,l.default)(a);function a(){var e;(0,o.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).flatListController=new M.default,e.selection=new N.default([],(function(e){return e.id.toString()})),e.onClick=function(t,a){f.default.openChatFromUnread(a).then((function(e){e&&f.default.focusChatTextInput(a)})),e.onClose()},e.onClose=function(){e.props.onClose()},e.onNextChat=function(t){t.preventDefault(),t.stopPropagation(),e.selection.setNext(!0)},e.onPrevChat=function(t){t.preventDefault(),t.stopPropagation(),e.selection.setPrev(!0)},e.renderItem=function(t){return d.createElement(s.default,{chat:t.chat,mode:s.Mode.LAST,active:e.selection,onClick:e.onClick,hideArchivedIcon:P.default.enhancedArchive,hideMuteIcon:P.default.enhancedArchive,capUnreadCount:P.default.enhancedArchive?h.default.UNREAD_COUNT_CAP:void 0,showEphemeralIcon:!0})},e.setRefHotKeys=function(t){e.refList=t},e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(u.default,"change:archive add remove",(function(){e.forceUpdate()})),this.refList&&C.default.focus(this.refList)}},{key:"getData",value:function(e){return e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e,t=u.default.filter((function(e){return e.archive}));if(this.selection.init(t,!0),t.length>0){var a={down:this.onNextChat,up:this.onPrevChat};e=d.createElement(y.default,{onRef:this.setRefHotKeys,handlers:a},d.createElement(j.default,{data:this.getData(t),flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))}else e=d.createElement(E.Archived,null);var n=P.default.enhancedArchive?d.createElement(k.MenuBarItem,{a8nText:"archived-menu",icon:d.createElement(T.default,{name:"menu"}),title:_.default.t(875)},d.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ArchivedDrawerHeader",dirX:"LEFT"},d.createElement(v.default,{a8n:"open-archive-settings menu-item",action:this.props.showSettings},_.default.t(204)))):null;return(d.createElement(p.default,null,d.createElement(g.default,{title:_.default.t(206),onBack:this.onClose,type:g.DRAWER_HEADER_TYPE.LARGE,menu:n}),d.createElement(m.default,{flatListControllers:[this.flatListController]},e)))}}]),a}(d.Component),A=(0,S.default)(I);t.default=A},eafjigajdj:function(e,t){e.exports={container:"Su-Gh",block:"xYtbD",main:"_3VotX",side:"U4qYC",multiline:"SMGPj"}},ebijbjhdie:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onClick;return(o.createElement(r.default,{onClick:t,side:o.createElement(d.default,{name:"lock",className:c.default.icon}),multiline:!0},o.createElement("div",{className:c.default.header},o.createElement(s.default,{theme:"title"},l.default.t(1288))),o.createElement(s.default,{theme:"muted",block:!0},l.default.t(1287))))};var o=i(a("ddhijeejag")),r=n(a("gaeccibgi")),c=n(a("idgadgbaj")),l=n(a("bdjjabfecc")),d=n(a("dgdcjccfdi")),s=n(a("dhhjhedjij"))},gaeccibgi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=null!=e.side?o.createElement("div",{className:l.default.side},e.side):null,a=(0,r.default)(l.default.container,{[l.default.multiline]:e.multiline});return o.createElement("div",{"data-a8n":c.default.key(e.a8nText),className:a,role:e.onClick?"button":null,onClick:e.onClick},o.createElement("div",{className:l.default.block},o.createElement("div",{className:l.default.main},e.children),t))};var o=i(a("ddhijeejag")),r=n(a("ceffhbhahb")),c=n(a("effbcehec")),l=n(a("eafjigajdj"))},gifabeaga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),r=i(a("eaidjcib")),c=i(a("dgcdacjddi")),l=i(a("dbjagcfebh")),d=i(a("chichicffi")),s=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("bgcibhihaj")),h=i(a("cdhfigedae")),p=i(a("bcbjddibih")),m=i(a("ecdebjcgfa"));function g(){var e=(0,o.default)(["MediaViewerFlow: attempted to render a msg without mediaData: ",""]);return g=function(){return e},e}var b=function(e){(0,l.default)(a,e);var t=(0,d.default)(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).setThumbRef=function(e,t){n.thumbRefs[t]=e},n.isPreviewPreferred=function(e){var t=n.thumbRefs[e];if(!t)return!1;var a=t.getBoundingClientRect(),i=(a.left+a.right)/2;return!(i>-1*window.innerWidth&&i<2*window.innerWidth)},n.getMsgIdToPreferPreview=function(){var e=new Map;return n.props.mediaMsgs.forEach((function(t){var a=t.id.toString();e.set(a,n.isPreviewPreferred(a))})),e},n.onScroll=function(e){n.handleScroll(),n.props.onScroll(e)},n._handleScroll=function(){var e=n.getMsgIdToPreferPreview();(0,f.default)(n.state.msgIdToPreferPreview,e)||n.setState({msgIdToPreferPreview:e})},n.getThumbs=function(){var e=n.props.highlightedMsgIds,t=e&&e.size>0&&e.has(n.props.activeMsg.id.toString()),a=[];return n.props.mediaMsgs.forEach((function(i){if(null!=i.mediaData){var o=t&&e&&!e.has(i.id.toString())?"viewerFlowTransparent":"viewerFlow";a.push(u.createElement(h.default,{theme:o,active:i===n.props.activeMsg,msg:i,containerRef:function(e){n.setThumbRef(e,i.id.toString()),i===n.props.activeMsg&&n.props.onSetActiveThumb(e)},key:"media-".concat(i.id.id),onClick:function(){n.props.onSelectThumb(i)},preferPreview:!!n.state.msgIdToPreferPreview.get(i.id.toString())}))}else{var r=n.props.activeMsg;__LOG__(3,!0)(g(),JSON.stringify({type:i.type,isMedia:i.isMedia,startMsgType:r.type,startMsgIsMedia:r.isMedia}))}})),a.push(u.createElement("div",{className:p.default.mediaThumb,key:"spinner-right"},n.props.mediaMsgs.queryMediaAfter?u.createElement(m.default,{stroke:6,size:24}):null)),a.unshift(u.createElement("div",{className:p.default.mediaThumb,key:"spinner-left"},n.props.mediaMsgs.queryMediaBefore?u.createElement(m.default,{stroke:6,size:24}):null)),a.push(u.createElement("div",{className:p.default.thumbPadding,key:"padding-right"})),a.unshift(u.createElement("div",{className:p.default.thumbPadding,key:"padding-left"})),a},n.thumbRefs={},n.handleScroll=(0,s.default)(n._handleScroll,100),n.state={msgIdToPreferPreview:n.getMsgIdToPreferPreview()},n}return(0,c.default)(a,[{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return(u.createElement("div",{className:p.default.thumbsContainer,ref:this.props.setRefThumbsContainer},u.createElement("div",{className:p.default.scrollContainer,dir:"ltr"},u.createElement("div",{onScroll:this.onScroll,className:p.default.viewerThumbs,ref:this.props.setRefThumbs},e))))}}]),a}(u.Component);t.default=b},hjbhabfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,p.unproxy)(e),t)};var o=i(a("dfadhaifh")),r=n(a("ddhijeejag")),c=a("dheeaichcj"),l=i(a("ccbgfecegc")),d=a("bgihjbde"),s=n(a("cajijabhgb")),u=i(a("bdjjabfecc")),f=a("babicefcfg"),h=i(a("cfejjfjhca")),p=a("cjfegjecaj");function m(){var e=(0,o.default)(["models:chat:setGroupDesc dropped"]);return m=function(){return e},e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.genId)(),n=t&&t.trim();if(n===e.groupMetadata.desc)return Promise.reject(new s.ActionError);""===n&&(n=null);var i=(0,f.sendSetGroupDescription)(e.id,n,(0,h.default)(),e.groupMetadata.descId),o=e.groupMetadata.desc,p=new c.ActionType(u.default.t(76)),b=i.then((function(){return new c.ActionType(u.default.t(78),u.default.t(178),(function(){return g(e,o,a)}))})).catchType(d.ServerStatusCodeError,(function(e){if(e.status>=400)return new c.ActionType(u.default.t(77))})).catch((function(){return __LOG__(3)(m()),new c.ActionType(u.default.t(77),u.default.t(174),(function(){return g(e,n,a)}))}));return l.default.openToast(r.createElement(c.ActionToast,{id:a,initialAction:p,pendingAction:b})),i.then((function(t){t._duplicate||e.groupMetadata.set({desc:n||""})})).catchType(d.ServerStatusCodeError,(function(){}))}},idgadgbaj:function(e,t){e.exports={header:"_3XzEH",icon:"_2BpOG"}}}]);